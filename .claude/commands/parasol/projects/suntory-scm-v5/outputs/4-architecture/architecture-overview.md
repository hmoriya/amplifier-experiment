# Architecture Overview

**ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆ**: ã‚µãƒ³ãƒˆãƒªãƒ¼ãƒ›ãƒ¼ãƒ«ãƒ‡ã‚£ãƒ³ã‚°ã‚¹ / SCM
**Parasol Version**: V5
**ä½œæˆæ—¥**: 2025-01-15
**Phase**: 4 - Application Design

---

## æ¦‚è¦

æœ¬ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã¯ã€ã‚µãƒ³ãƒˆãƒªãƒ¼ SCM ã‚·ã‚¹ãƒ†ãƒ ã®ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£å…¨ä½“åƒã‚’ç¤ºã—ã¾ã™ã€‚
Phase 3 ã§å®šç¾©ã—ãŸ 39 ã® CL3ï¼ˆæ¥­å‹™ã‚ªãƒšãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ï¼‰ã‚’ 8 ã¤ã® Bounded Contextï¼ˆBCï¼‰ã«æ•´ç†ã—ã€
ãƒã‚¤ã‚¯ãƒ­ã‚µãƒ¼ãƒ“ã‚¹ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ã¨ã—ã¦è¨­è¨ˆã—ã¾ã—ãŸã€‚

---

## 1. ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£æ¦‚è¦

### 1.1 ã‚·ã‚¹ãƒ†ãƒ å…¨ä½“æ§‹æˆ

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                              ã‚µãƒ³ãƒˆãƒªãƒ¼ SCM ã‚·ã‚¹ãƒ†ãƒ                                   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                                     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚                           Presentation Layer                                   â”‚ â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”‚ â”‚
â”‚  â”‚  â”‚ SCMç®¡ç†ç”»é¢  â”‚  â”‚ å€‰åº«ä½œæ¥­ã‚¢ãƒ—ãƒª â”‚  â”‚ BIãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰â”‚  â”‚ çµŒå–¶ãƒ¬ãƒãƒ¼ãƒˆ  â”‚      â”‚ â”‚
â”‚  â”‚  â”‚   (Web)     â”‚  â”‚  (Mobile)    â”‚  â”‚   (Web)      â”‚  â”‚   (Web)     â”‚      â”‚ â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                        â”‚                                           â”‚
â”‚                                        â–¼                                           â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚                            API Gateway                                         â”‚ â”‚
â”‚  â”‚  èªè¨¼ãƒ»èªå¯ â”‚ ãƒ¬ãƒ¼ãƒˆåˆ¶é™ â”‚ ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚° â”‚ ãƒ­ã‚° â”‚ SSLçµ‚ç«¯                        â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                        â”‚                                           â”‚
â”‚                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                       â”‚
â”‚                    â–¼                   â–¼                   â–¼                       â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚                         Application Services                                 â”‚   â”‚
â”‚  â”‚                                                                              â”‚   â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”             â”‚   â”‚
â”‚  â”‚  â”‚ DemandPlanning  â”‚  â”‚TransportPlanningâ”‚  â”‚   Warehouse     â”‚             â”‚   â”‚
â”‚  â”‚  â”‚    Service      â”‚  â”‚    Service      â”‚  â”‚    Service      â”‚             â”‚   â”‚
â”‚  â”‚  â”‚    [Core]       â”‚  â”‚    [Core]       â”‚  â”‚    [VCI]        â”‚             â”‚   â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜             â”‚   â”‚
â”‚  â”‚                                                                              â”‚   â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”             â”‚   â”‚
â”‚  â”‚  â”‚   FoodSafety    â”‚  â”‚  Traceability   â”‚  â”‚    Water        â”‚             â”‚   â”‚
â”‚  â”‚  â”‚    Service      â”‚  â”‚    Service      â”‚  â”‚ Sustainability  â”‚             â”‚   â”‚
â”‚  â”‚  â”‚    [VCI]        â”‚  â”‚    [VCI]        â”‚  â”‚    Service      â”‚             â”‚   â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚    [Core]       â”‚             â”‚   â”‚
â”‚  â”‚                                            â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜             â”‚   â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                  â”‚   â”‚
â”‚  â”‚  â”‚ Environmental   â”‚  â”‚     Order       â”‚                                  â”‚   â”‚
â”‚  â”‚  â”‚   Reporting     â”‚  â”‚    Service      â”‚                                  â”‚   â”‚
â”‚  â”‚  â”‚    Service      â”‚  â”‚   [Generic]     â”‚                                  â”‚   â”‚
â”‚  â”‚  â”‚  [Supporting]   â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                  â”‚   â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                                        â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                        â”‚                                           â”‚
â”‚                                        â–¼                                           â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚                         Integration Hub                                        â”‚ â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”‚ â”‚
â”‚  â”‚  â”‚  SAPé€£æº     â”‚  â”‚  EDIé€£æº     â”‚  â”‚ traevoé€£æº   â”‚  â”‚ æ—¥ç«‹é€£æº     â”‚      â”‚ â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                        â”‚                                           â”‚
â”‚                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                       â”‚
â”‚                    â–¼                   â–¼                   â–¼                       â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚                         External Systems                                     â”‚   â”‚
â”‚  â”‚  SAP ERP â”‚ WMSå„ç¤¾ â”‚ traevo â”‚ æ—¥ç«‹å”å‰µ â”‚ å¤§ç‹ã‚°ãƒ«ãƒ¼ãƒ— â”‚ å¸å£²ãƒ»å°å£²EDI        â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 1.2 ã‚µãƒ¼ãƒ“ã‚¹ä¸€è¦§

| # | ã‚µãƒ¼ãƒ“ã‚¹å | BC | TVDC | è²¬å‹™ |
|---|-----------|-----|------|------|
| 1 | demand-planning-service | DemandPlanningContext | Core | éœ€è¦äºˆæ¸¬ãƒ»ç”Ÿç”£è¨ˆç”» |
| 2 | transport-planning-service | TransportPlanningContext | Core | è¼¸é€è¨ˆç”»ãƒ»é…è»Šãƒ»è¿½è·¡ |
| 3 | warehouse-service | WarehouseContext | VCI | å€‰åº«ã‚ªãƒšãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ |
| 4 | food-safety-service | FoodSafetyContext | VCI | é£Ÿå“å®‰å…¨ãƒ»HACCP |
| 5 | traceability-service | TraceabilityContext | VCI | ãƒ­ãƒƒãƒˆãƒˆãƒ¬ãƒ¼ã‚µãƒ“ãƒªãƒ†ã‚£ |
| 6 | water-sustainability-service | WaterSustainabilityContext | Core | æ°´æºæ¶µé¤Šãƒ»ã‚µã‚¹ãƒ†ãƒŠãƒ“ãƒªãƒ†ã‚£ |
| 7 | environmental-reporting-service | EnvironmentalReportingContext | Supporting | ç’°å¢ƒå ±å‘Šãƒ»CO2è¨ˆç®— |
| 8 | order-service | OrderContext | Generic | å—ç™ºæ³¨ãƒ»EDIé€£æº |
| 9 | integration-hub-service | - | Infrastructure | å¤–éƒ¨ã‚·ã‚¹ãƒ†ãƒ çµ±åˆ |

---

## 2. è¨­è¨ˆåŸå‰‡

### 2.1 ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£åŸå‰‡

| åŸå‰‡ | èª¬æ˜ | é©ç”¨ä¾‹ |
|------|------|--------|
| **BCç‹¬ç«‹æ€§** | å„BCã¯ç‹¬ç«‹ã—ã¦ãƒ‡ãƒ—ãƒ­ã‚¤ãƒ»ã‚¹ã‚±ãƒ¼ãƒ«å¯èƒ½ | ã‚µãƒ¼ãƒ“ã‚¹åˆ†å‰² |
| **ãƒ‡ãƒ¼ã‚¿è‡ªå¾‹æ€§** | å„BCã¯è‡ªèº«ã®ãƒ‡ãƒ¼ã‚¿ã‚¹ãƒˆã‚¢ã‚’æ‰€æœ‰ | Database per Service |
| **åŒæœŸé€šä¿¡å„ªå…ˆ** | REST APIã‚’åŸºæœ¬ã€éåŒæœŸã¯é™å®šçš„ | Orchestration at Edge |
| **ãƒ¬ã‚¬ã‚·ãƒ¼åˆ†é›¢** | å¤–éƒ¨ã‚·ã‚¹ãƒ†ãƒ ã¯Integration Hubã§éš”é›¢ | ACLãƒ‘ã‚¿ãƒ¼ãƒ³ |
| **2024å¹´å•é¡Œå¯¾å¿œ** | ãƒ‰ãƒ©ã‚¤ãƒãƒ¼åŠ´åƒæ™‚é–“ç®¡ç†ã®çµ„ã¿è¾¼ã¿ | TransportPlanningService |

### 2.2 TVDCé…ç½®æˆ¦ç•¥

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                              TVDC 4åˆ†é¡é…ç½®                                          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                                     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ Core Domainï¼ˆå·®åˆ¥åŒ–æŠ•è³‡ï¼‰                                                    â”‚   â”‚
â”‚  â”‚  â€¢ DemandPlanning: éœ€è¦äºˆæ¸¬ç²¾åº¦ãŒSCMåŠ¹ç‡ã®æºæ³‰                               â”‚   â”‚
â”‚  â”‚  â€¢ TransportPlanning: ã‚¹ãƒãƒ¼ãƒˆãƒ­ã‚¸ã‚¹ãƒ†ã‚£ã‚¯ã‚¹æˆ¦ç•¥ã®ä¸­æ ¸                       â”‚   â”‚
â”‚  â”‚  â€¢ WaterSustainability: ã‚µãƒ³ãƒˆãƒªãƒ¼ç‹¬è‡ªã®å·®åˆ¥åŒ–è¦å›                            â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                                     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ VCI Domainï¼ˆå“è³ªåŸºç›¤ï¼‰                                                       â”‚   â”‚
â”‚  â”‚  â€¢ Warehouse: å¤±æ•—ã¯è‡´å‘½çš„ã ãŒæ¥­ç•Œæ¨™æº–ã‚ªãƒšãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³                         â”‚   â”‚
â”‚  â”‚  â€¢ FoodSafety: è¦åˆ¶è¦ä»¶å¿…é ˆã€å·®åˆ¥åŒ–ã§ã¯ãªãå¿…é ˆæ¡ä»¶                          â”‚   â”‚
â”‚  â”‚  â€¢ Traceability: ãƒªã‚³ãƒ¼ãƒ«å¯¾å¿œã«å¿…é ˆã€æ—¥ç«‹å”å‰µã§å…ˆé€²çš„                        â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                                     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ Supporting Domainï¼ˆåŠ¹ç‡åŒ–ï¼‰                                                  â”‚   â”‚
â”‚  â”‚  â€¢ EnvironmentalReporting: ç¤¾å†…æ¥­å‹™æ”¯æ´ã€å¤–éƒ¨é–‹ç¤ºè¦ä»¶å¯¾å¿œ                    â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                                     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ Generic Domainï¼ˆæ¨™æº–åŒ–ï¼‰                                                     â”‚   â”‚
â”‚  â”‚  â€¢ Order: æ¥­ç•Œæ¨™æº–EDIã€ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸æ´»ç”¨å¯èƒ½                                    â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 3. ãƒ‡ãƒ¼ã‚¿ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£

### 3.1 Database per Service

| ã‚µãƒ¼ãƒ“ã‚¹ | ãƒ‡ãƒ¼ã‚¿ã‚¹ãƒˆã‚¢ | é¸å®šç†ç”± |
|---------|------------|---------|
| demand-planning | PostgreSQL | æ™‚ç³»åˆ—äºˆæ¸¬ãƒ‡ãƒ¼ã‚¿ã€è¤‡é›‘ãªã‚¯ã‚¨ãƒª |
| transport-planning | PostgreSQL + Redis | ãƒˆãƒ©ãƒ³ã‚¶ã‚¯ã‚·ãƒ§ãƒ³ + ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ã‚­ãƒ£ãƒƒã‚·ãƒ¥ |
| warehouse | PostgreSQL | ãƒˆãƒ©ãƒ³ã‚¶ã‚¯ã‚·ãƒ§ãƒ³æ•´åˆæ€§ |
| food-safety | PostgreSQL | ç›£æŸ»è¨¼è·¡ã€é•·æœŸä¿å­˜ |
| traceability | PostgreSQL + Blockchain | ãƒ­ãƒ¼ã‚«ãƒ« + æ—¥ç«‹å”å‰µé€£æº |
| water-sustainability | PostgreSQL + TimescaleDB | æ™‚ç³»åˆ—ç’°å¢ƒãƒ‡ãƒ¼ã‚¿ |
| environmental-reporting | PostgreSQL | ãƒ¬ãƒãƒ¼ãƒˆé›†è¨ˆ |
| order | PostgreSQL | ãƒˆãƒ©ãƒ³ã‚¶ã‚¯ã‚·ãƒ§ãƒ³ |
| integration-hub | Redis + PostgreSQL | ã‚­ãƒ£ãƒƒã‚·ãƒ¥ + ãƒ­ã‚° |

### 3.2 ãƒ‡ãƒ¼ã‚¿ãƒ•ãƒ­ãƒ¼

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                              ãƒ‡ãƒ¼ã‚¿ãƒ•ãƒ­ãƒ¼æ¦‚è¦                                        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                                     â”‚
â”‚  ã€è¨ˆç”»ãƒ‡ãƒ¼ã‚¿ãƒ•ãƒ­ãƒ¼ã€‘                                                               â”‚
â”‚  Order â†’ DemandPlanning â†’ TransportPlanning â†’ Warehouse                            â”‚
â”‚         (å—æ³¨å®Ÿç¸¾)  (éœ€è¦äºˆæ¸¬)   (è¼¸é€è¨ˆç”»)    (å…¥å‡ºåº«è¨ˆç”»)                         â”‚
â”‚                                                                                     â”‚
â”‚  ã€å®Ÿè¡Œãƒ‡ãƒ¼ã‚¿ãƒ•ãƒ­ãƒ¼ã€‘                                                               â”‚
â”‚  Warehouse â†’ TransportPlanning â†’ FoodSafety â†’ Traceability                         â”‚
â”‚   (å‡ºåº«)      (é…é€è¿½è·¡)        (å“è³ªæ¤œæŸ»)   (ãƒ­ãƒƒãƒˆè¨˜éŒ²)                           â”‚
â”‚                                                                                     â”‚
â”‚  ã€å ±å‘Šãƒ‡ãƒ¼ã‚¿ãƒ•ãƒ­ãƒ¼ã€‘                                                               â”‚
â”‚  TransportPlanning â”€â”                                                              â”‚
â”‚  Warehouse â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â†’ EnvironmentalReporting â†’ å¤–éƒ¨å ±å‘Š                          â”‚
â”‚  WaterSustainabilityâ”˜                                                              â”‚
â”‚                                                                                     â”‚
â”‚  ã€å¤–éƒ¨é€£æºãƒ‡ãƒ¼ã‚¿ãƒ•ãƒ­ãƒ¼ã€‘                                                           â”‚
â”‚  External EDI â†â†’ Integration Hub â†â†’ Order                                          â”‚
â”‚  traevo â†â†’ Integration Hub â†â†’ TransportPlanning                                    â”‚
â”‚  æ—¥ç«‹å”å‰µ â†â†’ Traceability                                                          â”‚
â”‚                                                                                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 4. ã‚¤ãƒ³ãƒ•ãƒ©ã‚¹ãƒˆãƒ©ã‚¯ãƒãƒ£æ¦‚è¦

### 4.1 ãƒ‡ãƒ—ãƒ­ã‚¤ãƒ¡ãƒ³ãƒˆæ§‹æˆ

```yaml
Deployment_Architecture:
  platform: Kubernetes (EKS / AKS)

  namespaces:
    scm-core:
      services:
        - demand-planning-service
        - transport-planning-service
        - water-sustainability-service
      scaling: HPA (CPU/Memory based)

    scm-vci:
      services:
        - warehouse-service
        - food-safety-service
        - traceability-service
      scaling: HPA

    scm-support:
      services:
        - environmental-reporting-service
        - order-service
      scaling: HPA (conservative)

    scm-integration:
      services:
        - integration-hub-service
      scaling: HPA (connection-aware)

  shared_infrastructure:
    api_gateway: AWS API Gateway / Azure API Management
    service_mesh: Istio (optional, Phase 2)
    observability: OpenTelemetry + Grafana
    secrets: AWS Secrets Manager / Azure Key Vault
```

### 4.2 å¯ç”¨æ€§è¨­è¨ˆ

| å±¤ | SLAç›®æ¨™ | å¯¾ç­– |
|----|--------|------|
| API Gateway | 99.9% | ãƒãƒãƒ¼ã‚¸ãƒ‰ã‚µãƒ¼ãƒ“ã‚¹åˆ©ç”¨ |
| Core Services | 99.5% | ãƒãƒ«ãƒAZã€HPA |
| VCI Services | 99.5% | ãƒãƒ«ãƒAZã€HPA |
| Supporting Services | 99% | ã‚·ãƒ³ã‚°ãƒ«AZå¯ |
| Integration Hub | 99.5% | ãƒãƒ«ãƒAZã€ãƒªãƒˆãƒ©ã‚¤ |
| Database | 99.9% | ãƒãƒãƒ¼ã‚¸ãƒ‰RDSã€è‡ªå‹•ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ— |

---

## 5. ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£æ¦‚è¦

### 5.1 èªè¨¼ãƒ»èªå¯

```yaml
Security_Architecture:
  authentication:
    internal:
      method: JWT
      provider: Corporate IdP (SAML/OIDC)
      mfa: å¿…é ˆï¼ˆç®¡ç†è€…ï¼‰

    external:
      traevo: OAuth 2.0 Client Credentials
      hitachi: API Key + mTLS
      edi: API Key + IP Whitelist

  authorization:
    model: RBAC
    enforcement: API Gateway + Service Level

  network:
    internal: Private VPC
    external: VPN / Private Link
    edi: å°‚ç”¨ç·š / VPN
```

### 5.2 ãƒ‡ãƒ¼ã‚¿ä¿è­·

```yaml
Data_Protection:
  encryption:
    at_rest: AES-256 (RDS, S3)
    in_transit: TLS 1.3

  sensitive_data:
    pii: ãƒã‚¹ã‚­ãƒ³ã‚°ã€ã‚¢ã‚¯ã‚»ã‚¹åˆ¶å¾¡
    business_critical: æš—å·åŒ–ã€ç›£æŸ»ãƒ­ã‚°

  retention:
    transaction: 7å¹´ï¼ˆæ³•å®šè¦ä»¶ï¼‰
    audit_log: 10å¹´
    operational: 1å¹´
```

---

## 6. æˆæœç‰©ä¸€è¦§

### 6.1 Phase 4 æˆæœç‰©

| ãƒ•ã‚¡ã‚¤ãƒ« | èª¬æ˜ | ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ |
|---------|------|----------|
| architecture-overview.md | æœ¬ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ | âœ… å®Œäº† |
| capability-bc-mapping.md | CL3â†’BCãƒãƒƒãƒ”ãƒ³ã‚° | âœ… å®Œäº† |
| context-map.md | BCé–“é–¢ä¿‚å®šç¾© | âœ… å®Œäº† |
| integration-patterns.md | çµ±åˆãƒ‘ã‚¿ãƒ¼ãƒ³è¨­è¨ˆ | âœ… å®Œäº† |
| services/*/service-definition.md | ã‚µãƒ¼ãƒ“ã‚¹å®šç¾© | ğŸ“ ä½œæˆä¸­ |
| decisions/adr-*.md | ADRï¼ˆ5ä»¶ä»¥ä¸Šï¼‰ | ğŸ“ ä½œæˆä¸­ |

### 6.2 é–¢é€£ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆå‚ç…§

| Phase | ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ | ç”¨é€” |
|-------|------------|------|
| Phase 1 | organization-analysis.md | çµ„ç¹”ã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆ |
| Phase 1 | constraints.md | åˆ¶ç´„æ¡ä»¶ï¼ˆ2024å¹´å•é¡Œç­‰ï¼‰ |
| Phase 2 | value-streams-mapping.md | ä¾¡å€¤ã‚¹ãƒˆãƒªãƒ¼ãƒ  |
| Phase 3 | cl3-business-operations.md | 39 CL3å®šç¾© |

---

## 7. Phase 5 ã¸ã®å¼•ãç¶™ã

### 7.1 Phase 5 ã§è¨­è¨ˆã™ã‚‹é …ç›®

- **ãƒ‰ãƒ¡ã‚¤ãƒ³ãƒ¢ãƒ‡ãƒ«**: å„BCã®ã‚¨ãƒ³ãƒ†ã‚£ãƒ†ã‚£ã€é›†ç´„ã€å€¤ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆ
- **APIä»•æ§˜**: OpenAPI 3.0ã«ã‚ˆã‚‹APIå®šç¾©
- **ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹è¨­è¨ˆ**: å„ã‚µãƒ¼ãƒ“ã‚¹ã®ã‚¹ã‚­ãƒ¼ãƒå®šç¾©
- **PDLï¼ˆParasol Domain Languageï¼‰**: ãƒ¦ãƒ“ã‚­ã‚¿ã‚¹è¨€èªã®è©³ç´°å®šç¾©

### 7.2 ä¸»è¦ã‚¨ãƒ³ãƒ†ã‚£ãƒ†ã‚£å€™è£œ

| BC | é›†ç´„ãƒ«ãƒ¼ãƒˆ | ä¸»è¦ã‚¨ãƒ³ãƒ†ã‚£ãƒ†ã‚£ |
|----|----------|----------------|
| DemandPlanning | DemandForecast | Product, Region, Season |
| TransportPlanning | DeliveryPlan | Route, Vehicle, Driver |
| Warehouse | InventoryItem | Pallet, Location |
| FoodSafety | HACCPRecord | ControlPoint, Inspection |
| Traceability | LotTrace | LotNumber, ShipmentHistory |
| WaterSustainability | WaterBalance | ForestArea, WaterUsage |
| EnvironmentalReporting | EnvironmentReport | CO2Emission, ESGMetric |
| Order | Order | OrderLine, Customer |

---

**ä½œæˆ**: Parasol V5 Phase 4
