# Bounded Context ドメインモデル分析

**プロジェクト**: サントリーホールディングス / SCM
**Parasol Version**: V5.7
**作成日**: 2026-01-20

---

## 1. BC一覧とドメインタイプ

```
┌─────────────────────────────────────────────────────────────────────────────────┐
│                        8 Bounded Contexts 概要                                  │
├─────────────────────────────────────────────────────────────────────────────────┤
│                                                                                  │
│  ┌─────────────────────────────────────────────────────────────────────────┐   │
│  │ Core Domain（50%投資）                                                    │   │
│  │                                                                          │   │
│  │  ┌──────────────────┐  ┌──────────────────┐  ┌──────────────────┐      │   │
│  │  │ DemandPlanning   │  │ TransportPlanning│  │ Order            │      │   │
│  │  │ BC               │  │ BC               │  │ BC               │      │   │
│  │  │                  │  │                  │  │                  │      │   │
│  │  │ 需要計画         │  │ 輸送計画         │  │ 受注管理         │      │   │
│  │  │ 3 Aggregates     │  │ 3 Aggregates     │  │ 3 Aggregates     │      │   │
│  │  └──────────────────┘  └──────────────────┘  └──────────────────┘      │   │
│  └─────────────────────────────────────────────────────────────────────────┘   │
│                                                                                  │
│  ┌─────────────────────────────────────────────────────────────────────────┐   │
│  │ VCI Domain（20%投資）                                                     │   │
│  │                                                                          │   │
│  │  ┌──────────────────┐  ┌──────────────────┐  ┌──────────────────┐      │   │
│  │  │ Warehouse        │  │ FoodSafety       │  │ Traceability     │      │   │
│  │  │ BC               │  │ BC               │  │ BC               │      │   │
│  │  │                  │  │                  │  │                  │      │   │
│  │  │ 倉庫管理         │  │ 食品安全         │  │ トレーサビリティ │      │   │
│  │  │ 3 Aggregates     │  │ 3 Aggregates     │  │ 3 Aggregates     │      │   │
│  │  └──────────────────┘  └──────────────────┘  └──────────────────┘      │   │
│  └─────────────────────────────────────────────────────────────────────────┘   │
│                                                                                  │
│  ┌─────────────────────────────────────────────────────────────────────────┐   │
│  │ Supporting/Generic Domain（30%投資）                                      │   │
│  │                                                                          │   │
│  │  ┌──────────────────┐  ┌──────────────────┐                             │   │
│  │  │ WaterSustain     │  │ Environmental    │                             │   │
│  │  │ ability BC       │  │ Reporting BC     │                             │   │
│  │  │                  │  │                  │                             │   │
│  │  │ 水資源持続可能性 │  │ 環境報告         │                             │   │
│  │  │ 3 Aggregates     │  │ 3 Aggregates     │                             │   │
│  │  │ [Supporting]     │  │ [Generic]        │                             │   │
│  │  └──────────────────┘  └──────────────────┘                             │   │
│  └─────────────────────────────────────────────────────────────────────────┘   │
│                                                                                  │
│  合計: 8 BC / 24 Aggregates / 47 Entities / 71 Value Objects                   │
│                                                                                  │
└─────────────────────────────────────────────────────────────────────────────────┘
```

---

## 2. Core Domain ドメインモデル

### 2.1 DemandPlanning BC（需要計画）

```
┌─────────────────────────────────────────────────────────────────────────────────┐
│  DemandPlanning Bounded Context                                                 │
│  ドメインタイプ: Core | 担当CL3: 7件                                            │
├─────────────────────────────────────────────────────────────────────────────────┤
│                                                                                  │
│  ┌─────────────────────────────────────────────────────────────────────────┐   │
│  │ Aggregate 1: DemandForecast（需要予測）                                   │   │
│  │                                                                          │   │
│  │  ┌──────────────────┐                                                   │   │
│  │  │ <<Entity>>       │                                                   │   │
│  │  │ DemandForecast   │ ← Root Entity                                     │   │
│  │  │ ──────────────── │                                                   │   │
│  │  │ id               │                                                   │   │
│  │  │ forecastDate     │                                                   │   │
│  │  │ status           │                                                   │   │
│  │  └────────┬─────────┘                                                   │   │
│  │           │ 1                                                            │   │
│  │           │                                                              │   │
│  │  ┌────────┴────────────────────────────────────────────┐                │   │
│  │  │        ├────────────────┼────────────────┤          │                │   │
│  │  │        ▼                ▼                ▼          │                │   │
│  │  │  ┌───────────┐   ┌───────────┐   ┌───────────┐     │                │   │
│  │  │  │ Forecast  │   │ Forecast  │   │ Forecast  │     │                │   │
│  │  │  │ Period    │   │ Region    │   │ Product   │     │                │   │
│  │  │  └───────────┘   └───────────┘   └───────────┘     │                │   │
│  │  │  Entity *        Entity *        Entity *          │                │   │
│  │  └─────────────────────────────────────────────────────┘                │   │
│  │                                                                          │   │
│  │  Value Objects:                                                          │   │
│  │  ┌────────────────┐ ┌────────────────┐ ┌────────────────┐               │   │
│  │  │ ForecastAccuracy│ │ Confidence    │ │ SeasonalFactor │               │   │
│  │  │ ・精度スコア    │ │ Interval      │ │ ・季節指数     │               │   │
│  │  │ ・誤差率       │ │ ・上限/下限   │ │ ・月別係数     │               │   │
│  │  └────────────────┘ └────────────────┘ └────────────────┘               │   │
│  └─────────────────────────────────────────────────────────────────────────┘   │
│                                                                                  │
│  ┌─────────────────────────────────────────────────────────────────────────┐   │
│  │ Aggregate 2: ProductionPlan（生産計画）                                   │   │
│  │                                                                          │   │
│  │  ┌──────────────────┐                                                   │   │
│  │  │ <<Entity>>       │                                                   │   │
│  │  │ ProductionPlan   │ ← Root Entity                                     │   │
│  │  │ ──────────────── │                                                   │   │
│  │  │ id               │                                                   │   │
│  │  │ planDate         │                                                   │   │
│  │  │ approvalStatus   │                                                   │   │
│  │  └────────┬─────────┘                                                   │   │
│  │           │                                                              │   │
│  │  ┌────────┴──────────────────────────┐                                  │   │
│  │  │        ▼                ▼         │                                  │   │
│  │  │  ┌───────────────┐ ┌───────────────┐                                 │   │
│  │  │  │ Planned       │ │ Factory       │                                 │   │
│  │  │  │ Production    │ │ Assignment    │                                 │   │
│  │  │  └───────────────┘ └───────────────┘                                 │   │
│  │  │  Entity *          Entity *                                          │   │
│  │  └───────────────────────────────────────┘                              │   │
│  │                                                                          │   │
│  │  Value Objects:                                                          │   │
│  │  ┌────────────────┐ ┌────────────────┐ ┌────────────────┐               │   │
│  │  │ Production     │ │ Production    │ │ Material       │               │   │
│  │  │ Capacity       │ │ Schedule      │ │ Requirement    │               │   │
│  │  └────────────────┘ └────────────────┘ └────────────────┘               │   │
│  └─────────────────────────────────────────────────────────────────────────┘   │
│                                                                                  │
│  ┌─────────────────────────────────────────────────────────────────────────┐   │
│  │ Aggregate 3: InventoryTarget（在庫目標）                                  │   │
│  │                                                                          │   │
│  │  ┌──────────────────┐                                                   │   │
│  │  │ <<Entity>>       │                                                   │   │
│  │  │ InventoryTarget  │ ← Root Entity                                     │   │
│  │  └────────┬─────────┘                                                   │   │
│  │           │                                                              │   │
│  │  ┌────────┴──────────────────────────┐                                  │   │
│  │  │        ▼                ▼         │                                  │   │
│  │  │  ┌───────────────┐ ┌───────────────┐                                 │   │
│  │  │  │ SafetyStock   │ │ Reorder      │                                 │   │
│  │  │  │ Level         │ │ Point        │                                 │   │
│  │  │  └───────────────┘ └───────────────┘                                 │   │
│  │  │  Entity           Entity                                             │   │
│  │  └───────────────────────────────────────┘                              │   │
│  │                                                                          │   │
│  │  Value Objects: StockCoverage, ServiceLevel                              │   │
│  └─────────────────────────────────────────────────────────────────────────┘   │
│                                                                                  │
│  【Domain Events】                                                               │
│  ┌────────────────────────────────────────────────────────────────────────┐    │
│  │ Published:                                                              │    │
│  │ ・DemandForecastCreated     ・DemandForecastUpdated                    │    │
│  │ ・ProductionPlanApproved    ・InventoryTargetUpdated                   │    │
│  │ ・ForecastAccuracyCalculated                                           │    │
│  │                                                                         │    │
│  │ Subscribed:                                                             │    │
│  │ ・OrderReceived (from Order BC) → 実績フィードバック                   │    │
│  │ ・InventoryUpdated (from Warehouse BC) → 在庫目標調整                  │    │
│  │ ・ExternalPOSDataReceived (from IntegrationHub)                        │    │
│  └────────────────────────────────────────────────────────────────────────┘    │
│                                                                                  │
└─────────────────────────────────────────────────────────────────────────────────┘
```

### 2.2 TransportPlanning BC（輸送計画）

```
┌─────────────────────────────────────────────────────────────────────────────────┐
│  TransportPlanning Bounded Context                                              │
│  ドメインタイプ: Core | 担当CL3: 6件 | 差別化: 2024年問題対応・共同配送        │
├─────────────────────────────────────────────────────────────────────────────────┤
│                                                                                  │
│  ┌─────────────────────────────────────────────────────────────────────────┐   │
│  │ Aggregate 1: DeliverySchedule（配送スケジュール）                         │   │
│  │                                                                          │   │
│  │  ┌──────────────────┐                                                   │   │
│  │  │ <<Entity>>       │                                                   │   │
│  │  │ DeliverySchedule │ ← Root Entity                                     │   │
│  │  └────────┬─────────┘                                                   │   │
│  │           │                                                              │   │
│  │  ┌────────┴──────────────────────────┐                                  │   │
│  │  │        ▼                ▼         │                                  │   │
│  │  │  ┌───────────────┐ ┌───────────────┐                                 │   │
│  │  │  │ DeliveryStop  │ │ DeliveryRoute │                                 │   │
│  │  │  │ ・配送先      │ │ ・ルート情報  │                                 │   │
│  │  │  │ ・時間枠      │ │ ・距離/時間  │                                 │   │
│  │  │  └───────────────┘ └───────────────┘                                 │   │
│  │  │  Entity *          Entity *                                          │   │
│  │  └───────────────────────────────────────┘                              │   │
│  │                                                                          │   │
│  │  Value Objects: TimeWindow, DeliveryPriority, LoadCapacity               │   │
│  └─────────────────────────────────────────────────────────────────────────┘   │
│                                                                                  │
│  ┌─────────────────────────────────────────────────────────────────────────┐   │
│  │ Aggregate 2: VehicleAssignment（車両割当）⭐ 2024年問題対応              │   │
│  │                                                                          │   │
│  │  ┌──────────────────┐                                                   │   │
│  │  │ <<Entity>>       │                                                   │   │
│  │  │ VehicleAssignment│ ← Root Entity                                     │   │
│  │  └────────┬─────────┘                                                   │   │
│  │           │                                                              │   │
│  │  ┌────────┴──────────────────────────┐                                  │   │
│  │  │        ▼                ▼         │                                  │   │
│  │  │  ┌───────────────┐ ┌───────────────┐                                 │   │
│  │  │  │ AssignedDriver│ │ AssignedVehicle│                                │   │
│  │  │  │ ・労働時間    │ │ ・積載容量   │                                 │   │
│  │  │  └───────────────┘ └───────────────┘                                 │   │
│  │  │  Entity           Entity                                             │   │
│  │  └───────────────────────────────────────┘                              │   │
│  │                                                                          │   │
│  │  Value Objects:                                                          │   │
│  │  ┌────────────────┐ ┌────────────────┐ ┌────────────────┐               │   │
│  │  │ DriverWorking  │ │ Vehicle       │ │ Rest           │               │   │
│  │  │ Hours ⭐       │ │ Capacity      │ │ Requirement ⭐ │               │   │
│  │  │ ・拘束時間13h  │ │ ・積載量     │ │ ・30分休憩    │               │   │
│  │  │ ・連続運転4h  │ │ ・車種        │ │ ・休憩ポイント │               │   │
│  │  └────────────────┘ └────────────────┘ └────────────────┘               │   │
│  └─────────────────────────────────────────────────────────────────────────┘   │
│                                                                                  │
│  ┌─────────────────────────────────────────────────────────────────────────┐   │
│  │ Aggregate 3: JointDelivery（共同輸送）⭐ 大王グループ連携                │   │
│  │                                                                          │   │
│  │  ┌──────────────────┐                                                   │   │
│  │  │ <<Entity>>       │                                                   │   │
│  │  │ JointDelivery    │ ← Root Entity                                     │   │
│  │  └────────┬─────────┘                                                   │   │
│  │           │                                                              │   │
│  │  ┌────────┴──────────────────────────┐                                  │   │
│  │  │        ▼                ▼         │                                  │   │
│  │  │  ┌───────────────┐ ┌───────────────┐                                 │   │
│  │  │  │ Partner       │ │ SharedRoute   │                                 │   │
│  │  │  │ Allocation    │ │ ・共同ルート  │                                 │   │
│  │  │  └───────────────┘ └───────────────┘                                 │   │
│  │  │  Entity           Entity                                             │   │
│  │  └───────────────────────────────────────┘                              │   │
│  │                                                                          │   │
│  │  Value Objects: CostShare, LoadShare, PartnerSLA                         │   │
│  └─────────────────────────────────────────────────────────────────────────┘   │
│                                                                                  │
│  【Domain Events】                                                               │
│  ┌────────────────────────────────────────────────────────────────────────┐    │
│  │ Published:                                                              │    │
│  │ ・DeliveryScheduleCreated   ・PickupRequestCreated                     │    │
│  │ ・DeliveryCompleted         ・DeliveryDelayed                          │    │
│  │ ・RouteOptimized            ・JointDeliveryConfirmed ⭐                │    │
│  │                                                                         │    │
│  │ Subscribed:                                                             │    │
│  │ ・DemandForecastCreated (from DemandPlanning BC)                       │    │
│  │ ・ProductionPlanApproved (from DemandPlanning BC)                      │    │
│  │ ・InventoryAllocated (from Warehouse BC)                               │    │
│  └────────────────────────────────────────────────────────────────────────┘    │
│                                                                                  │
│  【外部連携】traevo（車両追跡）、大王グループ（共同配送）                       │
│                                                                                  │
└─────────────────────────────────────────────────────────────────────────────────┘
```

### 2.3 Order BC（受注管理）

```
┌─────────────────────────────────────────────────────────────────────────────────┐
│  Order Bounded Context                                                          │
│  ドメインタイプ: Core | 担当CL3: 6件 | Saga起点                                 │
├─────────────────────────────────────────────────────────────────────────────────┤
│                                                                                  │
│  ┌─────────────────────────────────────────────────────────────────────────┐   │
│  │ Aggregate 1: Order（受注）                                                │   │
│  │                                                                          │   │
│  │  ┌──────────────────┐                                                   │   │
│  │  │ <<Entity>>       │                                                   │   │
│  │  │ Order            │ ← Root Entity                                     │   │
│  │  │ ──────────────── │                                                   │   │
│  │  │ id               │                                                   │   │
│  │  │ orderDate        │                                                   │   │
│  │  │ customerId       │                                                   │   │
│  │  └────────┬─────────┘                                                   │   │
│  │           │                                                              │   │
│  │  ┌────────┴──────────────────────────┐                                  │   │
│  │  │        ▼                ▼         │                                  │   │
│  │  │  ┌───────────────┐ ┌───────────────┐                                 │   │
│  │  │  │ OrderLine     │ │ Delivery      │                                 │   │
│  │  │  │ ・明細        │ │ Schedule      │                                 │   │
│  │  │  │ ・数量/単価  │ │ ・配送日程    │                                 │   │
│  │  │  └───────────────┘ └───────────────┘                                 │   │
│  │  │  Entity *          Entity                                            │   │
│  │  └───────────────────────────────────────┘                              │   │
│  │                                                                          │   │
│  │  Value Objects: OrderNumber, OrderStatus, CustomerInfo, DeliveryAddress  │   │
│  └─────────────────────────────────────────────────────────────────────────┘   │
│                                                                                  │
│  ┌─────────────────────────────────────────────────────────────────────────┐   │
│  │ Aggregate 2: ShipmentOrder（出荷指示）                                    │   │
│  │                                                                          │   │
│  │  ┌──────────────────┐                                                   │   │
│  │  │ <<Entity>>       │                                                   │   │
│  │  │ ShipmentOrder    │ ← Root Entity                                     │   │
│  │  └────────┬─────────┘                                                   │   │
│  │           │                                                              │   │
│  │  ┌────────┴──────────────────────────┐                                  │   │
│  │  │        ▼                ▼         │                                  │   │
│  │  │  ┌───────────────┐ ┌───────────────┐                                 │   │
│  │  │  │ ShipmentLine  │ │ Picking       │                                 │   │
│  │  │  │               │ │ Instruction   │                                 │   │
│  │  │  └───────────────┘ └───────────────┘                                 │   │
│  │  │  Entity *          Entity *                                          │   │
│  │  └───────────────────────────────────────┘                              │   │
│  │                                                                          │   │
│  │  Value Objects: ShipmentNumber, ShipmentStatus, Priority                 │   │
│  └─────────────────────────────────────────────────────────────────────────┘   │
│                                                                                  │
│  ┌─────────────────────────────────────────────────────────────────────────┐   │
│  │ Aggregate 3: EDITransaction（EDI取引）                                    │   │
│  │                                                                          │   │
│  │  ┌──────────────────┐                                                   │   │
│  │  │ <<Entity>>       │                                                   │   │
│  │  │ EDITransaction   │ ← Root Entity                                     │   │
│  │  └────────┬─────────┘                                                   │   │
│  │           │                                                              │   │
│  │  ┌────────┴──────────────────────────┐                                  │   │
│  │  │        ▼                ▼         │                                  │   │
│  │  │  ┌───────────────┐ ┌───────────────┐                                 │   │
│  │  │  │ EDIMessage    │ │ Transaction   │                                 │   │
│  │  │  │ ・D01発注     │ │ Log           │                                 │   │
│  │  │  │ ・D03出荷案内 │ │               │                                 │   │
│  │  │  └───────────────┘ └───────────────┘                                 │   │
│  │  │  Entity *          Entity *                                          │   │
│  │  └───────────────────────────────────────┘                              │   │
│  │                                                                          │   │
│  │  Value Objects: MessageType, PartnerCode, ProcessingStatus               │   │
│  └─────────────────────────────────────────────────────────────────────────┘   │
│                                                                                  │
│  【Domain Events】                                                               │
│  ┌────────────────────────────────────────────────────────────────────────┐    │
│  │ Published:                                                              │    │
│  │ ・OrderReceived ⭐       ・OrderConfirmed                              │    │
│  │ ・OrderCancelled          ・ShipmentOrderCreated（Saga起点）           │    │
│  │ ・DeliveryDateConfirmed                                                │    │
│  │                                                                         │    │
│  │ Subscribed:                                                             │    │
│  │ ・InventoryAllocated (from Warehouse BC) → 受注ステータス更新          │    │
│  │ ・DeliveryScheduleCreated (from TransportPlanning BC)                  │    │
│  │ ・ShipmentCompleted (from Warehouse BC)                                │    │
│  └────────────────────────────────────────────────────────────────────────┘    │
│                                                                                  │
│  【Saga参加】Shipment_Saga の起点（オーケストレーション開始）                   │
│                                                                                  │
└─────────────────────────────────────────────────────────────────────────────────┘
```

---

## 3. VCI Domain ドメインモデル

### 3.1 Warehouse BC（倉庫管理）

```
┌─────────────────────────────────────────────────────────────────────────────────┐
│  Warehouse Bounded Context                                                      │
│  ドメインタイプ: VCI | 担当CL3: 6件 | Published Language発行者                  │
├─────────────────────────────────────────────────────────────────────────────────┤
│                                                                                  │
│  ┌─────────────────────────────────────────────────────────────────────────┐   │
│  │ Aggregate 1: Inventory（在庫）                                            │   │
│  │                                                                          │   │
│  │  ┌──────────────────┐                                                   │   │
│  │  │ <<Entity>>       │                                                   │   │
│  │  │ InventoryItem    │ ← Root Entity                                     │   │
│  │  └────────┬─────────┘                                                   │   │
│  │           │                                                              │   │
│  │  ┌────────┴──────────────────────────┐                                  │   │
│  │  │        ▼                ▼         │                                  │   │
│  │  │  ┌───────────────┐ ┌───────────────┐                                 │   │
│  │  │  │ InventoryLot  │ │ Inventory     │                                 │   │
│  │  │  │ ⭐ロット番号  │ │ Location      │                                 │   │
│  │  │  │ LOT-YYYY-NNNN│ │ WH-XXX-YY-ZZ │                                 │   │
│  │  │  └───────────────┘ └───────────────┘                                 │   │
│  │  │  Entity *          Entity *                                          │   │
│  │  └───────────────────────────────────────┘                              │   │
│  │                                                                          │   │
│  │  Value Objects: StockQuantity, ExpirationDate, StorageCondition          │   │
│  └─────────────────────────────────────────────────────────────────────────┘   │
│                                                                                  │
│  ┌─────────────────────────────────────────────────────────────────────────┐   │
│  │ Aggregate 2: InboundShipment（入庫）                                      │   │
│  │                                                                          │   │
│  │  ┌──────────────────┐                                                   │   │
│  │  │ <<Entity>>       │                                                   │   │
│  │  │ InboundShipment  │ ← Root Entity                                     │   │
│  │  └────────┬─────────┘                                                   │   │
│  │           │                                                              │   │
│  │  ┌────────┴──────────────────────────┐                                  │   │
│  │  │        ▼                ▼         │                                  │   │
│  │  │  ┌───────────────┐ ┌───────────────┐                                 │   │
│  │  │  │ ReceivedItem  │ │ Inspection    │                                 │   │
│  │  │  │               │ │ Result        │                                 │   │
│  │  │  └───────────────┘ └───────────────┘                                 │   │
│  │  │  Entity *          Entity                                            │   │
│  │  └───────────────────────────────────────┘                              │   │
│  │                                                                          │   │
│  │  Value Objects: ReceiptQuantity, QualityGrade, LocationAssignment        │   │
│  └─────────────────────────────────────────────────────────────────────────┘   │
│                                                                                  │
│  ┌─────────────────────────────────────────────────────────────────────────┐   │
│  │ Aggregate 3: OutboundShipment（出庫）                                     │   │
│  │                                                                          │   │
│  │  ┌──────────────────┐                                                   │   │
│  │  │ <<Entity>>       │                                                   │   │
│  │  │ OutboundShipment │ ← Root Entity                                     │   │
│  │  └────────┬─────────┘                                                   │   │
│  │           │                                                              │   │
│  │  ┌────────┴──────────────────────────┐                                  │   │
│  │  │        ▼                ▼         │                                  │   │
│  │  │  ┌───────────────┐ ┌───────────────┐                                 │   │
│  │  │  │ PickedItem    │ │ PackedUnit   │                                 │   │
│  │  │  │               │ │               │                                 │   │
│  │  │  └───────────────┘ └───────────────┘                                 │   │
│  │  │  Entity *          Entity *                                          │   │
│  │  └───────────────────────────────────────┘                              │   │
│  │                                                                          │   │
│  │  Value Objects: ShipmentQuantity, PackingSpec, ShippingLabel             │   │
│  └─────────────────────────────────────────────────────────────────────────┘   │
│                                                                                  │
│  【Published Language】⭐ FoodSafety・Traceabilityと共有                        │
│  ┌────────────────────────────────────────────────────────────────────────┐    │
│  │ ・LotNumber: LOT-YYYY-NNNNNN形式（発行者: Warehouse）                  │    │
│  │ ・Location: WH-XXX-YY-ZZ形式（倉庫-棚-段-列）                         │    │
│  │ ・StorageCondition: 常温/冷蔵/冷凍                                     │    │
│  │ ・MovementType: 入庫/出庫/倉庫間移動                                   │    │
│  └────────────────────────────────────────────────────────────────────────┘    │
│                                                                                  │
│  【Domain Events】                                                               │
│  ┌────────────────────────────────────────────────────────────────────────┐    │
│  │ Published:                                                              │    │
│  │ ・InventoryAllocated ⭐   ・InventoryUpdated                           │    │
│  │ ・InboundCompleted        ・OutboundCompleted                          │    │
│  │ ・ShipmentCompleted       ・LotRegistered ⭐                           │    │
│  └────────────────────────────────────────────────────────────────────────┘    │
│                                                                                  │
│  【Saga参加】Step2: InventoryAllocated, Step6: ShipmentCompleted               │
│                                                                                  │
└─────────────────────────────────────────────────────────────────────────────────┘
```

### 3.2 FoodSafety BC（食品安全）

```
┌─────────────────────────────────────────────────────────────────────────────────┐
│  FoodSafety Bounded Context                                                     │
│  ドメインタイプ: VCI | 担当CL3: 5件 | Partnership: Traceability                 │
├─────────────────────────────────────────────────────────────────────────────────┤
│                                                                                  │
│  ┌─────────────────────────────────────────────────────────────────────────┐   │
│  │ Aggregate 1: HACCPRecord（HACCP記録）⭐ 法規制対応                       │   │
│  │                                                                          │   │
│  │  ┌──────────────────┐                                                   │   │
│  │  │ <<Entity>>       │                                                   │   │
│  │  │ HACCPRecord      │ ← Root Entity                                     │   │
│  │  │ ──────────────── │                                                   │   │
│  │  │ id               │                                                   │   │
│  │  │ lotNumber        │ ← Published Language使用                          │   │
│  │  │ recordDate       │                                                   │   │
│  │  └────────┬─────────┘                                                   │   │
│  │           │                                                              │   │
│  │  ┌────────┴────────────────────────────────────────┐                    │   │
│  │  │        ▼                ▼                ▼      │                    │   │
│  │  │  ┌───────────────┐ ┌───────────────┐ ┌───────────────┐              │   │
│  │  │  │ Critical      │ │ Monitoring    │ │ Corrective    │              │   │
│  │  │  │ ControlPoint  │ │ Result        │ │ Action        │              │   │
│  │  │  │ ・CCP1-5      │ │ ・測定値     │ │ ・是正措置    │              │   │
│  │  │  └───────────────┘ └───────────────┘ └───────────────┘              │   │
│  │  │  Entity *          Entity *          Entity *                        │   │
│  │  └──────────────────────────────────────────────────────┘               │   │
│  │                                                                          │   │
│  │  Value Objects: CriticalLimit, DeviationReport, VerificationResult       │   │
│  └─────────────────────────────────────────────────────────────────────────┘   │
│                                                                                  │
│  ┌─────────────────────────────────────────────────────────────────────────┐   │
│  │ Aggregate 2: QualityInspection（品質検査）                                │   │
│  │                                                                          │   │
│  │  ┌──────────────────┐                                                   │   │
│  │  │ <<Entity>>       │                                                   │   │
│  │  │ Quality          │ ← Root Entity                                     │   │
│  │  │ Inspection       │                                                   │   │
│  │  └────────┬─────────┘                                                   │   │
│  │           │                                                              │   │
│  │  ┌────────┴──────────────────────────┐                                  │   │
│  │  │        ▼                ▼         │                                  │   │
│  │  │  ┌───────────────┐ ┌───────────────┐                                 │   │
│  │  │  │ Inspection    │ │ TestResult   │                                 │   │
│  │  │  │ Item          │ │               │                                 │   │
│  │  │  └───────────────┘ └───────────────┘                                 │   │
│  │  │  Entity *          Entity *                                          │   │
│  │  └───────────────────────────────────────┘                              │   │
│  │                                                                          │   │
│  │  Value Objects: InspectionCriteria, QualityGrade, InspectionStatus       │   │
│  └─────────────────────────────────────────────────────────────────────────┘   │
│                                                                                  │
│  ┌─────────────────────────────────────────────────────────────────────────┐   │
│  │ Aggregate 3: TemperatureLog（温度記録）⭐ コールドチェーン               │   │
│  │                                                                          │   │
│  │  ┌──────────────────┐                                                   │   │
│  │  │ <<Entity>>       │                                                   │   │
│  │  │ TemperatureLog   │ ← Root Entity                                     │   │
│  │  └────────┬─────────┘                                                   │   │
│  │           │                                                              │   │
│  │  ┌────────┴──────────────────────────┐                                  │   │
│  │  │        ▼                ▼         │                                  │   │
│  │  │  ┌───────────────┐ ┌───────────────┐                                 │   │
│  │  │  │ Temperature   │ │ AlertRecord  │                                 │   │
│  │  │  │ Reading       │ │ ・異常検知   │                                 │   │
│  │  │  │ ・1分間隔     │ │ ・通知履歴   │                                 │   │
│  │  │  └───────────────┘ └───────────────┘                                 │   │
│  │  │  Entity *          Entity *                                          │   │
│  │  └───────────────────────────────────────┘                              │   │
│  │                                                                          │   │
│  │  Value Objects: TemperatureRange, SensorLocation, AlertThreshold         │   │
│  └─────────────────────────────────────────────────────────────────────────┘   │
│                                                                                  │
│  【Partnership】Traceability BCとの双方向協力                                   │
│  ┌────────────────────────────────────────────────────────────────────────┐    │
│  │ FoodSafety → Traceability:                                             │    │
│  │   ・POST /lot-quality-records（品質検査結果の記録）                    │    │
│  │                                                                         │    │
│  │ Traceability → FoodSafety:                                             │    │
│  │   ・GET /lot-trace/{lotNumber}（ロット追跡情報取得）                   │    │
│  │   ・POST /recall-candidates（リコール候補通知）                        │    │
│  │                                                                         │    │
│  │ Shared Events:                                                          │    │
│  │   ・QualityInspectionCompleted ・LotTraceRecorded                      │    │
│  │   ・TemperatureAnomalyDetected                                         │    │
│  └────────────────────────────────────────────────────────────────────────┘    │
│                                                                                  │
│  【Domain Events】                                                               │
│  ┌────────────────────────────────────────────────────────────────────────┐    │
│  │ Published:                                                              │    │
│  │ ・QualityInspectionCompleted   ・QualityApproved ⭐                    │    │
│  │ ・QualityRejected              ・TemperatureAnomalyDetected            │    │
│  │ ・HACCPDeviationReported       ・RecallCandidatesIdentified            │    │
│  └────────────────────────────────────────────────────────────────────────┘    │
│                                                                                  │
│  【規制対応】HACCP義務化（食品衛生法）、データ保持7年                          │
│  【Saga参加】Step4: QualityApproved                                            │
│                                                                                  │
└─────────────────────────────────────────────────────────────────────────────────┘
```

### 3.3 Traceability BC（トレーサビリティ）

```
┌─────────────────────────────────────────────────────────────────────────────────┐
│  Traceability Bounded Context                                                   │
│  ドメインタイプ: VCI | 担当CL3: 5件 | 日立協創連携（ブロックチェーン）          │
├─────────────────────────────────────────────────────────────────────────────────┤
│                                                                                  │
│  ┌─────────────────────────────────────────────────────────────────────────┐   │
│  │ Aggregate 1: LotTrace（ロット追跡）                                       │   │
│  │                                                                          │   │
│  │  ┌──────────────────┐                                                   │   │
│  │  │ <<Entity>>       │                                                   │   │
│  │  │ LotTrace         │ ← Root Entity                                     │   │
│  │  │ ──────────────── │                                                   │   │
│  │  │ lotNumber        │ ← Published Language使用                          │   │
│  │  │ blockchainHash   │ ← 日立協創連携                                    │   │
│  │  └────────┬─────────┘                                                   │   │
│  │           │                                                              │   │
│  │  ┌────────┴──────────────────────────┐                                  │   │
│  │  │        ▼                ▼         │                                  │   │
│  │  │  ┌───────────────┐ ┌───────────────┐                                 │   │
│  │  │  │ TraceEvent    │ │ Location     │                                 │   │
│  │  │  │ ・入庫/出庫   │ │ Record       │                                 │   │
│  │  │  │ ・倉庫間移動  │ │               │                                 │   │
│  │  │  └───────────────┘ └───────────────┘                                 │   │
│  │  │  Entity *          Entity *                                          │   │
│  │  └───────────────────────────────────────┘                              │   │
│  │                                                                          │   │
│  │  Value Objects: LotNumber, TraceTimestamp, MovementType                  │   │
│  └─────────────────────────────────────────────────────────────────────────┘   │
│                                                                                  │
│  ┌─────────────────────────────────────────────────────────────────────────┐   │
│  │ Aggregate 2: MaterialTrace（原材料追跡）                                  │   │
│  │                                                                          │   │
│  │  ┌──────────────────┐                                                   │   │
│  │  │ <<Entity>>       │                                                   │   │
│  │  │ MaterialTrace    │ ← Root Entity                                     │   │
│  │  └────────┬─────────┘                                                   │   │
│  │           │                                                              │   │
│  │  ┌────────┴──────────────────────────┐                                  │   │
│  │  │        ▼                ▼         │                                  │   │
│  │  │  ┌───────────────┐ ┌───────────────┐                                 │   │
│  │  │  │ Supplier      │ │ MaterialLot  │                                 │   │
│  │  │  │ Record        │ │               │                                 │   │
│  │  │  └───────────────┘ └───────────────┘                                 │   │
│  │  │  Entity           Entity *                                           │   │
│  │  └───────────────────────────────────────┘                              │   │
│  │                                                                          │   │
│  │  Value Objects: MaterialCode, SupplierInfo, CertificationStatus          │   │
│  └─────────────────────────────────────────────────────────────────────────┘   │
│                                                                                  │
│  ┌─────────────────────────────────────────────────────────────────────────┐   │
│  │ Aggregate 3: ProductTrace（製品追跡）                                     │   │
│  │                                                                          │   │
│  │  ┌──────────────────┐                                                   │   │
│  │  │ <<Entity>>       │                                                   │   │
│  │  │ ProductTrace     │ ← Root Entity                                     │   │
│  │  └────────┬─────────┘                                                   │   │
│  │           │                                                              │   │
│  │  ┌────────┴──────────────────────────┐                                  │   │
│  │  │        ▼                ▼         │                                  │   │
│  │  │  ┌───────────────┐ ┌───────────────┐                                 │   │
│  │  │  │ Distribution  │ │ RetailLocation│                                 │   │
│  │  │  │ Record        │ │               │                                 │   │
│  │  │  └───────────────┘ └───────────────┘                                 │   │
│  │  │  Entity *          Entity *                                          │   │
│  │  └───────────────────────────────────────┘                              │   │
│  │                                                                          │   │
│  │  Value Objects: ProductCode, ShipmentInfo, RetailInfo                    │   │
│  └─────────────────────────────────────────────────────────────────────────┘   │
│                                                                                  │
│  【外部連携】日立協創システム（ブロックチェーン）⭐                             │
│  ┌────────────────────────────────────────────────────────────────────────┐    │
│  │ Outbound:                                                               │    │
│  │   ・ロット追跡記録のブロックチェーン登録                               │    │
│  │   ・品質検査結果のハッシュ登録                                         │    │
│  │                                                                         │    │
│  │ Inbound:                                                                │    │
│  │   ・ブロックチェーン登録完了通知                                       │    │
│  │   ・改ざん検知アラート                                                 │    │
│  │                                                                         │    │
│  │ Data Mapping:                                                           │    │
│  │   internal_LotTrace → hitachi_BlockRecord                              │    │
│  │   internal_QualityRecord → hitachi_QualityHash                         │    │
│  └────────────────────────────────────────────────────────────────────────┘    │
│                                                                                  │
│  【Domain Events】                                                               │
│  ┌────────────────────────────────────────────────────────────────────────┐    │
│  │ Published:                                                              │    │
│  │ ・LotTraceRecorded ⭐       ・MaterialTraceRecorded                    │    │
│  │ ・ProductDistributionTracked ・RecallScopeIdentified                   │    │
│  └────────────────────────────────────────────────────────────────────────┘    │
│                                                                                  │
│  【Saga参加】Step5: LotTraceRecorded                                           │
│  【データ保持】10年（リコール対応期間）                                         │
│                                                                                  │
└─────────────────────────────────────────────────────────────────────────────────┘
```

---

## 4. Supporting/Generic Domain ドメインモデル

### 4.1 WaterSustainability BC（水資源持続可能性）

```
┌─────────────────────────────────────────────────────────────────────────────────┐
│  WaterSustainability Bounded Context                                            │
│  ドメインタイプ: Supporting | 担当CL3: 4件 | 天然水の森 ⭐                       │
├─────────────────────────────────────────────────────────────────────────────────┤
│                                                                                  │
│  ┌─────────────────────────────────────────────────────────────────────────┐   │
│  │ Aggregate 1: WaterBalance（水収支）                                       │   │
│  │                                                                          │   │
│  │  ┌──────────────────┐                                                   │   │
│  │  │ <<Entity>>       │                                                   │   │
│  │  │ WaterBalance     │ ← Root Entity                                     │   │
│  │  │ ──────────────── │                                                   │   │
│  │  │ facilityId       │                                                   │   │
│  │  │ period           │                                                   │   │
│  │  │ netBalance       │ ← 取水-使用+還元                                  │   │
│  │  └────────┬─────────┘                                                   │   │
│  │           │                                                              │   │
│  │  ┌────────┴────────────────────────────────────────┐                    │   │
│  │  │        ▼                ▼                ▼      │                    │   │
│  │  │  ┌───────────────┐ ┌───────────────┐ ┌───────────────┐              │   │
│  │  │  │ WaterIntake   │ │ WaterUsage   │ │ WaterReturn  │              │   │
│  │  │  │ ・取水量      │ │ ・使用量     │ │ ・還元量     │              │   │
│  │  │  └───────────────┘ └───────────────┘ └───────────────┘              │   │
│  │  │  Entity           Entity           Entity                            │   │
│  │  └──────────────────────────────────────────────────────┘               │   │
│  │                                                                          │   │
│  │  Value Objects: WaterVolume, MeasurementPeriod, FacilityLocation         │   │
│  └─────────────────────────────────────────────────────────────────────────┘   │
│                                                                                  │
│  ┌─────────────────────────────────────────────────────────────────────────┐   │
│  │ Aggregate 2: WaterSourceConservation（水源涵養）⭐ 天然水の森            │   │
│  │                                                                          │   │
│  │  ┌──────────────────┐                                                   │   │
│  │  │ <<Entity>>       │                                                   │   │
│  │  │ WaterSource      │ ← Root Entity                                     │   │
│  │  │ Conservation     │                                                   │   │
│  │  │ ──────────────── │                                                   │   │
│  │  │ forestId         │                                                   │   │
│  │  │ totalArea        │ ← 21,000ha ⭐                                     │   │
│  │  │ conservationVol  │                                                   │   │
│  │  └────────┬─────────┘                                                   │   │
│  │           │                                                              │   │
│  │  ┌────────┴──────────────────────────┐                                  │   │
│  │  │        ▼                ▼         │                                  │   │
│  │  │  ┌───────────────┐ ┌───────────────┐                                 │   │
│  │  │  │ ForestArea    │ │ Conservation │                                 │   │
│  │  │  │ ・地域        │ │ Activity     │                                 │   │
│  │  │  │ ・面積        │ │ ・活動記録   │                                 │   │
│  │  │  └───────────────┘ └───────────────┘                                 │   │
│  │  │  Entity *          Entity *                                          │   │
│  │  └───────────────────────────────────────┘                              │   │
│  │                                                                          │   │
│  │  Value Objects: ConservationVolume, ForestLocation, ActivityType         │   │
│  └─────────────────────────────────────────────────────────────────────────┘   │
│                                                                                  │
│  ┌─────────────────────────────────────────────────────────────────────────┐   │
│  │ Aggregate 3: WaterQuality（水質管理）                                     │   │
│  │                                                                          │   │
│  │  ┌──────────────────┐                                                   │   │
│  │  │ <<Entity>>       │                                                   │   │
│  │  │ WaterQuality     │ ← Root Entity                                     │   │
│  │  └────────┬─────────┘                                                   │   │
│  │           │                                                              │   │
│  │  ┌────────┴──────────────────────────┐                                  │   │
│  │  │        ▼                ▼         │                                  │   │
│  │  │  ┌───────────────┐ ┌───────────────┐                                 │   │
│  │  │  │ Quality       │ │ Discharge    │                                 │   │
│  │  │  │ Measurement   │ │ Record       │                                 │   │
│  │  │  │ ・pH/BOD/SS   │ │               │                                 │   │
│  │  │  └───────────────┘ └───────────────┘                                 │   │
│  │  │  Entity *          Entity *                                          │   │
│  │  └───────────────────────────────────────┘                              │   │
│  │                                                                          │   │
│  │  Value Objects: QualityMetric, ComplianceStatus, MeasurementLocation     │   │
│  └─────────────────────────────────────────────────────────────────────────┘   │
│                                                                                  │
│  【Domain Events】                                                               │
│  ┌────────────────────────────────────────────────────────────────────────┐    │
│  │ Published:                                                              │    │
│  │ ・WaterBalanceUpdated ⭐       ・ConservationActivityRecorded          │    │
│  │ ・WaterQualityMeasured         ・SustainabilityTargetProgress          │    │
│  └────────────────────────────────────────────────────────────────────────┘    │
│                                                                                  │
│  【KPI】水のプラスマイナスゼロ（取水量 ≤ 涵養量）                               │
│                                                                                  │
└─────────────────────────────────────────────────────────────────────────────────┘
```

### 4.2 EnvironmentalReporting BC（環境報告）

```
┌─────────────────────────────────────────────────────────────────────────────────┐
│  EnvironmentalReporting Bounded Context                                         │
│  ドメインタイプ: Generic | 担当CL3: 5件 | GHGプロトコル準拠                     │
├─────────────────────────────────────────────────────────────────────────────────┤
│                                                                                  │
│  ┌─────────────────────────────────────────────────────────────────────────┐   │
│  │ Aggregate 1: CarbonEmission（CO2排出量）                                  │   │
│  │                                                                          │   │
│  │  ┌──────────────────┐                                                   │   │
│  │  │ <<Entity>>       │                                                   │   │
│  │  │ CarbonEmission   │ ← Root Entity                                     │   │
│  │  │ ──────────────── │                                                   │   │
│  │  │ scope            │ ← Scope1/2/3                                      │   │
│  │  │ period           │                                                   │   │
│  │  │ totalCO2         │                                                   │   │
│  │  └────────┬─────────┘                                                   │   │
│  │           │                                                              │   │
│  │  ┌────────┴──────────────────────────┐                                  │   │
│  │  │        ▼                ▼         │                                  │   │
│  │  │  ┌───────────────┐ ┌───────────────┐                                 │   │
│  │  │  │ Emission      │ │ Emission     │                                 │   │
│  │  │  │ Source        │ │ Factor       │                                 │   │
│  │  │  │ ・輸送/倉庫   │ │ ・排出係数   │                                 │   │
│  │  │  └───────────────┘ └───────────────┘                                 │   │
│  │  │  Entity *          Entity *                                          │   │
│  │  └───────────────────────────────────────┘                              │   │
│  │                                                                          │   │
│  │  Value Objects: CO2Volume, EmissionScope, CalculationMethod              │   │
│  │                                                                          │   │
│  │  【Scope定義】                                                            │   │
│  │  ・Scope1: 直接排出（自社燃焼）                                         │   │
│  │  ・Scope2: 間接排出（購入電力）                                         │   │
│  │  ・Scope3: その他間接（輸送=Category4, 購入品=Category1）               │   │
│  └─────────────────────────────────────────────────────────────────────────┘   │
│                                                                                  │
│  ┌─────────────────────────────────────────────────────────────────────────┐   │
│  │ Aggregate 2: ESGMetric（ESG指標）                                         │   │
│  │                                                                          │   │
│  │  ┌──────────────────┐                                                   │   │
│  │  │ <<Entity>>       │                                                   │   │
│  │  │ ESGMetric        │ ← Root Entity                                     │   │
│  │  └────────┬─────────┘                                                   │   │
│  │           │                                                              │   │
│  │  ┌────────┴──────────────────────────┐                                  │   │
│  │  │        ▼                ▼         │                                  │   │
│  │  │  ┌───────────────┐ ┌───────────────┐                                 │   │
│  │  │  │ MetricValue   │ │ Target       │                                 │   │
│  │  │  │ ・E/S/G       │ │ Progress     │                                 │   │
│  │  │  └───────────────┘ └───────────────┘                                 │   │
│  │  │  Entity *          Entity *                                          │   │
│  │  └───────────────────────────────────────┘                              │   │
│  │                                                                          │   │
│  │  Value Objects: MetricType, ReportingPeriod, ComplianceStatus            │   │
│  └─────────────────────────────────────────────────────────────────────────┘   │
│                                                                                  │
│  ┌─────────────────────────────────────────────────────────────────────────┐   │
│  │ Aggregate 3: EnvironmentalReport（環境報告書）                            │   │
│  │                                                                          │   │
│  │  ┌──────────────────┐                                                   │   │
│  │  │ <<Entity>>       │                                                   │   │
│  │  │ Environmental    │ ← Root Entity                                     │   │
│  │  │ Report           │                                                   │   │
│  │  └────────┬─────────┘                                                   │   │
│  │           │                                                              │   │
│  │  ┌────────┴──────────────────────────┐                                  │   │
│  │  │        ▼                ▼         │                                  │   │
│  │  │  ┌───────────────┐ ┌───────────────┐                                 │   │
│  │  │  │ ReportSection │ │ DataSource   │                                 │   │
│  │  │  │ ・TCFD        │ │               │                                 │   │
│  │  │  │ ・CDP         │ │               │                                 │   │
│  │  │  └───────────────┘ └───────────────┘                                 │   │
│  │  │  Entity *          Entity *                                          │   │
│  │  └───────────────────────────────────────┘                              │   │
│  │                                                                          │   │
│  │  Value Objects: ReportFormat, ReportingStandard, PublicationStatus       │   │
│  └─────────────────────────────────────────────────────────────────────────┘   │
│                                                                                  │
│  【Domain Events】                                                               │
│  ┌────────────────────────────────────────────────────────────────────────┐    │
│  │ Published:                                                              │    │
│  │ ・CO2EmissionsCalculated      ・ESGMetricUpdated                       │    │
│  │ ・EnvironmentalReportGenerated ・TargetProgressUpdated                 │    │
│  │                                                                         │    │
│  │ Subscribed:                                                             │    │
│  │ ・DeliveryCompleted (from TransportPlanning BC) → 輸送CO2計算          │    │
│  │ ・WaterBalanceUpdated (from WaterSustainability BC)                    │    │
│  │ ・InventoryUpdated (from Warehouse BC) → 倉庫エネルギー消費            │    │
│  └────────────────────────────────────────────────────────────────────────┘    │
│                                                                                  │
│  【外部連携】CDP/TCFD/統合報告書向けデータエクスポート                          │
│                                                                                  │
└─────────────────────────────────────────────────────────────────────────────────┘
```

---

## 5. BC間関係マトリクス

```
┌─────────────────────────────────────────────────────────────────────────────────┐
│                        BC間関係マトリクス                                        │
├─────────────────────────────────────────────────────────────────────────────────┤
│                                                                                  │
│                 │ Demand │ Trans │ Order │ Ware │ Food │ Trace │ Water │ Env  │
│  ───────────────┼────────┼───────┼───────┼──────┼──────┼───────┼───────┼──────│
│  DemandPlanning │   -    │  D    │  U    │  U   │      │       │       │      │
│  TransportPlan  │   U    │   -   │  D    │  D   │      │       │       │  D   │
│  Order          │   D    │  U    │   -   │  U/D │  U   │       │       │      │
│  Warehouse      │   D    │  U    │  U/D  │   -  │  D   │   D   │       │  D   │
│  FoodSafety     │        │       │  D    │  U   │   -  │   P   │       │      │
│  Traceability   │        │       │       │  U   │  P   │   -   │       │  D   │
│  WaterSustain   │        │       │       │      │      │       │   -   │  D   │
│  EnvReporting   │        │  U    │       │  U   │      │  U    │  U    │   -  │
│                                                                                  │
│  【凡例】                                                                         │
│  U = Upstream（依存先）   D = Downstream（提供先）   P = Partnership（双方向）  │
│                                                                                  │
└─────────────────────────────────────────────────────────────────────────────────┘
```

---

## 6. 統計サマリー

```
┌─────────────────────────────────────────────────────────────────────────────────┐
│                        ドメインモデル統計                                        │
├─────────────────────────────────────────────────────────────────────────────────┤
│                                                                                  │
│  【BC数】                                                                         │
│  ├── Core Domain: 3 BC（DemandPlanning, TransportPlanning, Order）              │
│  ├── VCI Domain: 3 BC（Warehouse, FoodSafety, Traceability）                    │
│  ├── Supporting Domain: 1 BC（WaterSustainability）                             │
│  └── Generic Domain: 1 BC（EnvironmentalReporting）                             │
│                                                                                  │
│  【Aggregate数】                                                                  │
│  ├── 合計: 24 Aggregates                                                        │
│  ├── Core Domain: 9 Aggregates                                                  │
│  ├── VCI Domain: 9 Aggregates                                                   │
│  └── Supporting/Generic: 6 Aggregates                                           │
│                                                                                  │
│  【Entity数】                                                                     │
│  ├── 合計: 47 Entities                                                          │
│  └── 平均: 約6 Entities/BC                                                      │
│                                                                                  │
│  【Value Object数】                                                              │
│  ├── 合計: 71 Value Objects                                                     │
│  └── 平均: 約9 VOs/BC                                                           │
│                                                                                  │
│  【Domain Event数】                                                              │
│  ├── Published Events: 34件                                                     │
│  └── Subscribed Events: 22件（重複除く）                                        │
│                                                                                  │
│  【特徴的なパターン】                                                            │
│  ├── Published Language: Warehouse BC → FoodSafety/Traceability                 │
│  ├── Partnership: FoodSafety ↔ Traceability                                     │
│  ├── Saga Choreography: Order→Warehouse→FoodSafety→Traceability→Warehouse      │
│  └── 外部連携: traevo, 日立協創, 大王グループ, EDI                              │
│                                                                                  │
└─────────────────────────────────────────────────────────────────────────────────┘
```

---

## 7. 差別化要素とBCの対応

```
┌─────────────────────────────────────────────────────────────────────────────────┐
│                    差別化要素 → BC/Aggregate マッピング                          │
├─────────────────────────────────────────────────────────────────────────────────┤
│                                                                                  │
│  【スマートロジスティクス】                                                       │
│  ├── DemandPlanning BC / DemandForecast Aggregate                               │
│  │   └── AI需要予測（ForecastAccuracy VO）                                      │
│  └── TransportPlanning BC / DeliverySchedule Aggregate                          │
│      └── 配車最適化（RouteOptimized Event）                                     │
│                                                                                  │
│  【天然水の森】                                                                   │
│  └── WaterSustainability BC / WaterSourceConservation Aggregate ⭐              │
│      ├── ForestArea Entity（21,000ha）                                          │
│      └── ConservationVolume VO（涵養量）                                        │
│                                                                                  │
│  【日立協創トレーサビリティ】                                                     │
│  └── Traceability BC / LotTrace Aggregate ⭐                                    │
│      ├── blockchainHash（ブロックチェーン連携）                                 │
│      └── 日立協創ACL（Integration Hub経由）                                     │
│                                                                                  │
│  【異業種共同配送】                                                               │
│  └── TransportPlanning BC / JointDelivery Aggregate ⭐                          │
│      ├── PartnerAllocation Entity（大王グループ）                               │
│      └── CostShare/LoadShare VO（コスト・積載分担）                             │
│                                                                                  │
└─────────────────────────────────────────────────────────────────────────────────┘
```

---

**作成**: Parasol V5.7 Phase 4
**最終更新**: 2026-01-20
