---
description: Capability decomposition (CL1/CL2/CL3) (project:parasol)
---

# Phase 3: Capabilities - ã‚±ã‚¤ãƒ‘ãƒ“ãƒªãƒ†ã‚£åˆ†è§£

Value Streamsã‹ã‚‰DDD/ãƒã‚¤ã‚¯ãƒ­ã‚µãƒ¼ãƒ“ã‚¹ã¸ã®æ®µéšçš„ãªåˆ†è§£ã‚’è¡Œã„ã¾ã™ã€‚

## ä½¿ç”¨æ–¹æ³•

```bash
# CL1: ãƒ‰ãƒ¡ã‚¤ãƒ³åˆ†é¡ï¼ˆæˆ¦ç•¥çš„ã€å…¨ä½“ä¿¯ç°ï¼‰
/parasol:3-capabilities cl1

# CL2: ã‚µãƒ–ãƒ‰ãƒ¡ã‚¤ãƒ³è¨­è¨ˆï¼ˆæˆ¦è¡“çš„ã€Value Streamå˜ä½ï¼‰
/parasol:3-capabilities cl2              # ã‚¤ãƒ³ã‚¿ãƒ©ã‚¯ãƒ†ã‚£ãƒ–é¸æŠ
/parasol:3-capabilities cl2 VS2          # VS2ï¼ˆè£½å“é–‹ç™ºï¼‰ã‚’ç›´æ¥æŒ‡å®š
/parasol:3-capabilities cl2 VS3          # VS3ï¼ˆãƒ–ãƒ©ãƒ³ãƒ‡ã‚£ãƒ³ã‚°ï¼‰ã‚’ç›´æ¥æŒ‡å®š

# CL3: Bounded Contextå®šç¾©ï¼ˆé‹ç”¨çš„ã€ã‚µãƒ–ãƒ‰ãƒ¡ã‚¤ãƒ³ã”ã¨ï¼‰
/parasol:3-capabilities cl3                      # ã‚¤ãƒ³ã‚¿ãƒ©ã‚¯ãƒ†ã‚£ãƒ–é¸æŠ
/parasol:3-capabilities cl3 product-catalog      # ç›´æ¥æŒ‡å®š
```

## ğŸ¤– ã‚µãƒ–ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆæ´»ç”¨ã«ã¤ã„ã¦

**é‡è¦**: ã‚±ã‚¤ãƒ‘ãƒ“ãƒªãƒ†ã‚£åˆ†è§£ã¯è¤‡é›‘ãªåˆ†æãƒ»è¨­è¨ˆã‚¿ã‚¹ã‚¯ã§ã™ã€‚ã“ã®ã‚³ãƒãƒ³ãƒ‰ã¯é©åˆ‡ãªã‚µãƒ–ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆã«ä½œæ¥­ã‚’å§”è­²ã—ã¾ã™ã€‚

### ä½¿ç”¨ã™ã‚‹ã‚µãƒ–ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆ

**CL1: ãƒ‰ãƒ¡ã‚¤ãƒ³åˆ†é¡**
- `zen-architect` (ANALYZE mode)
- æˆ¦ç•¥çš„åˆ†æã«ã‚ˆã‚Š Core/Supporting/Generic ã‚’åˆ†é¡
- æŠ•è³‡é…åˆ†ã¨å„ªå…ˆé †ä½ã‚’æ¨å¥¨

**CL2: ã‚µãƒ–ãƒ‰ãƒ¡ã‚¤ãƒ³è¨­è¨ˆ**
- `zen-architect` (ARCHITECT mode)
- ãƒ‰ãƒ¡ã‚¤ãƒ³å†…ã®ã‚µãƒ–ãƒ‰ãƒ¡ã‚¤ãƒ³å€™è£œã‚’æŠ½å‡º
- ãƒã‚¤ã‚¯ãƒ­ã‚µãƒ¼ãƒ“ã‚¹å¢ƒç•Œã‚’è¨­è¨ˆ

**CL3: Bounded Contextå®šç¾©**
- `zen-architect` (ARCHITECT mode) - BCè²¬å‹™ã¨å¢ƒç•Œ
- `api-contract-designer` - APIå¥‘ç´„è¨­è¨ˆï¼ˆå¿…è¦ã«å¿œã˜ã¦ï¼‰

### ã‚µãƒ–ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆæ´»ç”¨ã®åˆ©ç‚¹

âœ… **å°‚é–€çš„ãªåˆ†æ**: æˆ¦ç•¥åˆ†æã‚„ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£è¨­è¨ˆã®å°‚é–€çŸ¥è­˜ã‚’æ´»ç”¨
âœ… **ä¸€è²«æ€§**: ç¢ºç«‹ã•ã‚ŒãŸãƒ‘ã‚¿ãƒ¼ãƒ³ã¨ãƒ™ã‚¹ãƒˆãƒ—ãƒ©ã‚¯ãƒ†ã‚£ã‚¹ã‚’é©ç”¨
âœ… **åŠ¹ç‡æ€§**: è¤‡é›‘ãªã‚¿ã‚¹ã‚¯ã‚’åŠ¹ç‡çš„ã«å®Ÿè¡Œ
âœ… **å“è³ªä¿è¨¼**: è¨­è¨ˆå“è³ªã®ãƒ¬ãƒ“ãƒ¥ãƒ¼ã¨æ¤œè¨¼

## ç›®çš„

ã‚±ã‚¤ãƒ‘ãƒ“ãƒªãƒ†ã‚£ã®éšå±¤çš„åˆ†è§£ã«ã‚ˆã‚Šã€ãƒ“ã‚¸ãƒã‚¹ä¾¡å€¤ã‹ã‚‰ã‚½ãƒ•ãƒˆã‚¦ã‚§ã‚¢è¨­è¨ˆã¸ã®æ©‹æ¸¡ã—ã‚’è¡Œã„ã¾ã™ï¼š

- **CL1**: æˆ¦ç•¥çš„åˆ†é¡ï¼ˆCore/Supporting/Genericï¼‰
- **CL2**: ãƒ“ã‚¸ãƒã‚¹ã‚ªãƒšãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ç¾¤ã®å®šç¾©ï¼ˆâ‰ˆãƒã‚¤ã‚¯ãƒ­ã‚µãƒ¼ãƒ“ã‚¹å€™è£œï¼‰
- **CL3**: Bounded Contextå®šç¾©ï¼ˆæ¥­å‹™ãƒ«ãƒ¼ãƒ« + æŠ€è¡“è¨­è¨ˆï¼‰

---

## ğŸ“› å‘½åã‚¬ã‚¤ãƒ‰ãƒ©ã‚¤ãƒ³

**é‡è¦**: DXã«ãµã•ã‚ã—ã„å‘½åã‚’è¡Œã†ãŸã‚ã€ã€ŒXXXç®¡ç†ã€è¡¨ç¾ã‚’é¿ã‘ã¦ãã ã•ã„ã€‚

### é¿ã‘ã‚‹ã¹ããƒ‘ã‚¿ãƒ¼ãƒ³

| é¿ã‘ã‚‹è¡¨ç¾ | æ¨å¥¨è¡¨ç¾ | ç†ç”± |
|-----------|---------|------|
| `xxx-management` | `xxx-optimization`, `xxx-orchestration` | é™çš„â†’å‹•çš„ |
| `inventory-management` | `inventory-optimization` | åœ¨åº«ã¯ã€Œæœ€é©åŒ–ã€ã™ã‚‹ |
| `order-management` | `order-fulfillment` | æ³¨æ–‡ã®ã€Œå……è¶³ã€ |
| `customer-management` | `customer-engagement` | é¡§å®¢ã¨ã®ã€Œé–¢ä¿‚æ§‹ç¯‰ã€ |
| `data-management` | `data-engineering` | ãƒ‡ãƒ¼ã‚¿ã®ã€ŒæŠ€è¡“çš„æ§‹ç¯‰ã€ |

### æ¨å¥¨ãƒ‘ã‚¿ãƒ¼ãƒ³

| ãƒ‘ã‚¿ãƒ¼ãƒ³ | æ„å‘³ | ä¾‹ |
|---------|------|-----|
| `xxx-research` | ç ”ç©¶ãƒ»æ¢ç©¶ | `fermentation-research` |
| `xxx-development` | é–‹ç™ºãƒ»é€²åŒ– | `beer-development` |
| `xxx-engineering` | æŠ€è¡“çš„æ§‹ç¯‰ | `process-engineering` |
| `xxx-optimization` | æœ€é©åŒ– | `supply-optimization` |
| `xxx-innovation` | é©æ–°ãƒ»å‰µé€  | `product-innovation` |

**è©³ç´°**: `.claude/commands/parasol/_capability-naming-guide.md`

---

## ğŸ” VSæ¨ªæ–­ä¸€æ„æ€§ãƒã‚§ãƒƒã‚¯

**é‡è¦**: ã‚±ãƒ¼ãƒ‘ãƒ“ãƒªãƒ†ã‚£åã¯Value Streamï¼ˆVSï¼‰ã‚’æ¨ªæ–­ã—ã¦**å”¯ä¸€ç„¡äºŒ**ã§ã‚ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚

### ãƒã‚§ãƒƒã‚¯ã‚¿ã‚¤ãƒŸãƒ³ã‚°

- **CL2ï¼ˆã‚µãƒ–ãƒ‰ãƒ¡ã‚¤ãƒ³è¨­è¨ˆï¼‰å®Œäº†æ™‚**: æ–°è¦ã‚µãƒ–ãƒ‰ãƒ¡ã‚¤ãƒ³åã‚’ç™»éŒ²
- **CL3ï¼ˆBCå®šç¾©ï¼‰å®Œäº†æ™‚**: BCåã‚’ç™»éŒ²

### ãƒã‚§ãƒƒã‚¯æ–¹æ³•

**ã‚¹ãƒ†ãƒƒãƒ—1**: registry.yaml ã‚’èª­ã¿è¾¼ã¿
```bash
# æ—¢å­˜ã‚±ãƒ¼ãƒ‘ãƒ“ãƒªãƒ†ã‚£ã‚’ç¢ºèª
cat .claude/commands/parasol/_capability-knowledge/registry.yaml
```

**ã‚¹ãƒ†ãƒƒãƒ—2**: é‡è¤‡ãƒã‚§ãƒƒã‚¯
```yaml
# all_capability_names ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã§é‡è¤‡ç¢ºèª
all_capability_names:
  - fermentation-research        # asashi VS2
  - ingredient-research          # asashi VS2
  - customer-engagement          # åˆ¥ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆ VS3ï¼ˆé‡è¤‡NGï¼‰
```

**ã‚¹ãƒ†ãƒƒãƒ—3**: é‡è¤‡æ™‚ã®å¯¾å‡¦
```
âš ï¸ é‡è¤‡æ¤œå‡º: "customer-engagement" ã¯æ—¢ã«ç™»éŒ²æ¸ˆã¿

å¯¾å‡¦ã‚ªãƒ—ã‚·ãƒ§ãƒ³:
1. VSæ¥é ­è¾ã‚’è¿½åŠ : vs3-customer-engagement
2. ã‚ˆã‚Šå…·ä½“çš„ãªåå‰ã«å¤‰æ›´: b2b-customer-engagement
3. æ—¢å­˜ã¨çµ±åˆå¯èƒ½ã‹æ¤œè¨
```

### è‡ªå‹•ãƒã‚§ãƒƒã‚¯ï¼ˆAIå®Ÿè¡Œæ™‚ï¼‰

CL2/CL3å®Ÿè¡Œæ™‚ã€AIã¯ä»¥ä¸‹ã‚’è‡ªå‹•å®Ÿè¡Œï¼š

1. `registry.yaml` ã‚’èª­ã¿è¾¼ã¿
2. æ–°è¦ã‚±ãƒ¼ãƒ‘ãƒ“ãƒªãƒ†ã‚£åã®é‡è¤‡ãƒã‚§ãƒƒã‚¯
3. é¡ä¼¼åã‚°ãƒ«ãƒ¼ãƒ—ï¼ˆsimilar_name_groupsï¼‰ã¨ã®ç…§åˆ
4. å•é¡Œãªã‘ã‚Œã° `registry.yaml` ã«è¿½åŠ 

---

## ğŸ“š ãƒŠãƒ¬ãƒƒã‚¸ãƒ™ãƒ¼ã‚¹æ´»ç”¨

ã‚±ãƒ¼ãƒ‘ãƒ“ãƒªãƒ†ã‚£åˆ†è§£ã®çŸ¥è¦‹ã‚’è“„ç©ãƒ»å†åˆ©ç”¨ã™ã‚‹ãŸã‚ã®ãƒŠãƒ¬ãƒƒã‚¸ãƒ™ãƒ¼ã‚¹ã‚’æä¾›ã—ã¾ã™ã€‚

### ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªæ§‹æˆ

```
.claude/commands/parasol/_capability-knowledge/
â”œâ”€â”€ README.md                    # æ¦‚è¦
â”œâ”€â”€ registry.yaml                # ã‚±ãƒ¼ãƒ‘ãƒ“ãƒªãƒ†ã‚£ç™»éŒ²ç°¿ï¼ˆä¸€æ„æ€§ç®¡ç†ï¼‰
â”œâ”€â”€ patterns/                    # ãƒ‘ã‚¿ãƒ¼ãƒ³é›†
â”‚   â”œâ”€â”€ decomposition-patterns.md # åˆ†è§£ãƒ‘ã‚¿ãƒ¼ãƒ³
â”‚   â””â”€â”€ naming-patterns.md       # å‘½åãƒ‘ã‚¿ãƒ¼ãƒ³ï¼ˆâ†’ _capability-naming-guide.mdï¼‰
â””â”€â”€ examples/                    # äº‹ä¾‹é›†
    â””â”€â”€ {project-name}.md        # ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆåˆ¥ã®å­¦ã³
```

### æ´»ç”¨ã‚¿ã‚¤ãƒŸãƒ³ã‚°

**åˆ†è§£é–‹å§‹å‰**:
1. `patterns/decomposition-patterns.md` ã§æ¥­ç•Œãƒ‘ã‚¿ãƒ¼ãƒ³ã‚’ç¢ºèª
2. `examples/` ã§é¡ä¼¼ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®å­¦ã³ã‚’å‚ç…§
3. `registry.yaml` ã§æ—¢å­˜ã‚±ãƒ¼ãƒ‘ãƒ“ãƒªãƒ†ã‚£ã‚’æŠŠæ¡

**åˆ†è§£å®Œäº†å¾Œ**:
1. `registry.yaml` ã«æ–°è¦ã‚±ãƒ¼ãƒ‘ãƒ“ãƒªãƒ†ã‚£ã‚’ç™»éŒ²
2. `examples/{project-name}.md` ã«å­¦ã³ã‚’è¨˜éŒ²
3. æ–°ãƒ‘ã‚¿ãƒ¼ãƒ³ç™ºè¦‹æ™‚ã¯ `patterns/` ã«è¿½åŠ 

### AIã¸ã®æŒ‡ç¤º

CL2/CL3å®Ÿè¡Œæ™‚ã€ä»¥ä¸‹ã‚’è‡ªå‹•å®Ÿè¡Œï¼š

```yaml
åˆ†è§£é–‹å§‹æ™‚:
  - registry.yaml ã‚’èª­ã¿è¾¼ã¿ã€æ—¢å­˜ã‚±ãƒ¼ãƒ‘ãƒ“ãƒªãƒ†ã‚£ã‚’æŠŠæ¡
  - æ¥­ç•Œãƒ‘ã‚¿ãƒ¼ãƒ³ã‚’ patterns/decomposition-patterns.md ã‹ã‚‰å‚ç…§
  - å‘½åã‚¬ã‚¤ãƒ‰ãƒ©ã‚¤ãƒ³ _capability-naming-guide.md ã‚’é©ç”¨

åˆ†è§£å®Œäº†æ™‚:
  - æ–°è¦ã‚±ãƒ¼ãƒ‘ãƒ“ãƒªãƒ†ã‚£ã‚’ registry.yaml ã«è¿½åŠ 
  - å‘½åç†ç”±ï¼ˆnaming_rationaleï¼‰ã‚’è¨˜éŒ²
  - é¡ä¼¼ã‚±ãƒ¼ãƒ‘ãƒ“ãƒªãƒ†ã‚£ã¨ã®é–¢ä¿‚ã‚’ related_capabilities ã«è¨˜éŒ²

ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆå®Œäº†æ™‚:
  - examples/{project-name}.md ã«å­¦ã³ã‚’è¨˜éŒ²
  - æ–°ãƒ‘ã‚¿ãƒ¼ãƒ³ç™ºè¦‹æ™‚ã¯ patterns/ ã«è¿½åŠ ææ¡ˆ
```

---

## ğŸ”§ ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ¤œå‡º

**é‡è¦**: ã“ã®ã‚³ãƒãƒ³ãƒ‰ã¯Parasolãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆå†…ã§å®Ÿè¡Œã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚

### è‡ªå‹•æ¤œå‡º

ã‚³ãƒãƒ³ãƒ‰å®Ÿè¡Œæ™‚ã€ä»¥ä¸‹ã®é †åºã§ `parasol.yaml` ã‚’è‡ªå‹•æ¢ç´¢ï¼š

1. **ã‚«ãƒ¬ãƒ³ãƒˆãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒª** (`.`)
2. **è¦ªãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒª** (`..`)
3. **ç¥–çˆ¶ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒª** (`../..`)

### æ¤œå‡ºæˆåŠŸ

```
âœ… ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ¤œå‡º: {project-name}

ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒª: projects/{project-name}/
å‡ºåŠ›å…ˆ: projects/{project-name}/outputs/
```

ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆè¨­å®šã‚’èª­ã¿è¾¼ã¿ã€Phaseé€²æ—ã‚’è‡ªå‹•è¨˜éŒ²ã—ã¾ã™ã€‚

### æ¤œå‡ºå¤±æ•—

```
âŒ Parasolãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãŒè¦‹ã¤ã‹ã‚Šã¾ã›ã‚“

ğŸ“‹ æ¬¡ã®ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ã‚’é¸æŠã—ã¦ãã ã•ã„:

1. æ–°ã—ã„ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’ä½œæˆ
   â†’ /parasol:project init {project-name}

2. æ—¢å­˜ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã«ç§»å‹•
   â†’ cd projects/{project-name}

3. ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆä¸€è¦§ã‚’ç¢ºèª
   â†’ /parasol:project list
```

**ãƒ™ã‚¹ãƒˆãƒ—ãƒ©ã‚¯ãƒ†ã‚£ã‚¹**: ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªå†…ã§ä½œæ¥­
```bash
# æ¨å¥¨
cd projects/my-project
/parasol:1-context

# éæ¨å¥¨ï¼ˆãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãŒæ¤œå‡ºã•ã‚Œãªã„ï¼‰
cd ~/somewhere-else
/parasol:1-context  # âŒ
```

è©³ç´°ã¯ `.claude/commands/parasol/_project-detection.md` ã‚’å‚ç…§ã€‚

## é‡è¦ãªæ¦‚å¿µ

**ã‚±ã‚¤ãƒ‘ãƒ“ãƒªãƒ†ã‚£åˆ†è§£ = ã‚µãƒ–ãƒ‰ãƒ¡ã‚¤ãƒ³åˆ†æãƒ»åˆ†è§£**

```
Value Stream (WHAT: ä¾¡å€¤å‰µé€ ã®æµã‚Œ)
â†“ ZIGZAG
CL1: Strategic (WHY: ãªãœé‡è¦ã‹ã€ã©ã“ã«æŠ•è³‡ã™ã‚‹ã‹)
â†’ Domain Classification (Core/Supporting/Generic)
â†“ ZIGZAG
CL2: Tactical (WHAT: ã©ã‚“ãªæ¥­å‹™ã‚ªãƒšãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ã‚’è¡Œã†ã‹)
â†’ ãƒ“ã‚¸ãƒã‚¹ã‚ªãƒšãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ç¾¤ã®å®šç¾©
â†’ Microservice Candidates
â†“ ZIGZAG
CL3: Operational (HOW: æ¥­å‹™ã‚’ã©ã†å®Ÿè¡Œãƒ»å®Ÿè£…ã™ã‚‹ã‹)
â†’ æ¥­å‹™ãƒ«ãƒ¼ãƒ« + æŠ€è¡“è¨­è¨ˆ
â†’ Bounded Context Definition
â†“
WHAT (ã‚·ã‚¹ãƒ†ãƒ ãƒ¬ãƒ™ãƒ«ã§ä½•ãŒå¿…è¦ã‹)
â†’ Aggregates, Entities, Value Objects (L4)
```

## æˆæœç‰©æ§‹é€ 

```
outputs/3-capabilities/
â”œâ”€â”€ {vs-number}-{vs-slug}/            # VSãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªï¼ˆPhase 2ã‹ã‚‰å°å‡ºï¼‰
â”‚   â”œâ”€â”€ cl1-domain-classification.md  # CL1: æ´»å‹•é ˜åŸŸã®åˆ†é¡
â”‚   â”œâ”€â”€ cl2-subdomain-design.md       # CL2: ã‚µãƒ–ãƒ‰ãƒ¡ã‚¤ãƒ³è¨­è¨ˆ
â”‚   â””â”€â”€ cl3-bounded-contexts/         # CL3: BCå®šç¾©
â”‚       â””â”€â”€ {subdomain}-bc.md
â””â”€â”€ ...
```

### VSãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªå‘½åè¦å‰‡

**é‡è¦**: ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªåã¯Phase 2ã® `value-streams-mapping.md` ã‹ã‚‰å‹•çš„ã«å°å‡ºã•ã‚Œã¾ã™ã€‚

**å½¢å¼**: `{vs-number}-{vs-slug}`
- `{vs-number}`: vs0, vs1, vs2, ... ï¼ˆVSç•ªå·ï¼‰
- `{vs-slug}`: VSåã‚’kebab-caseã«å¤‰æ›ï¼ˆæ—¥æœ¬èªâ†’è‹±èªâ†’kebab-caseï¼‰

**å°å‡ºãƒ—ãƒ­ã‚»ã‚¹**:
1. `outputs/2-value/value-streams-mapping.md` ã‚’èª­ã¿è¾¼ã¿
2. å„VSã®åå‰ã‚’å–å¾—
3. åå‰ã‚’kebab-caseè‹±èªã«å¤‰æ›ã—ã¦ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªåã‚’ç”Ÿæˆ

**ä¾‹ï¼ˆãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã«ã‚ˆã‚Šç•°ãªã‚‹ï¼‰**:
```
Phase 2ã§å®šç¾©ã•ã‚ŒãŸVS:
- VS0: ãƒ“ã‚¸ãƒ§ãƒ³ç­–å®šãƒ»æˆ¦ç•¥ç«‹æ¡ˆ â†’ vs0-vision-strategy/
- VS2: è£½å“é–‹ç™ºãƒ»ã‚¤ãƒãƒ™ãƒ¼ã‚·ãƒ§ãƒ³ â†’ vs2-product-innovation/
- VS2: ç ”ç©¶é–‹ç™ºãƒ»æŠ€è¡“é©æ–° â†’ vs2-research-development/  # åˆ¥ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆ
```

**ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆå›ºæœ‰ã®ãƒãƒƒãƒ”ãƒ³ã‚°**:
- ã‚³ãƒãƒ³ãƒ‰å®Ÿè¡Œæ™‚ã« `parasol.yaml` ã¨ `value-streams-mapping.md` ã‚’å‚ç…§
- ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã”ã¨ã«é©åˆ‡ãªãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªåã‚’è‡ªå‹•æ±ºå®š

## Phase 3a: CL1 - Domain Classification

### ã‚³ãƒãƒ³ãƒ‰

```bash
/parasol:3-capabilities cl1
```

### å®Ÿè¡Œãƒ•ãƒ­ãƒ¼

**ã‚¹ãƒ†ãƒƒãƒ—1**: Phase 2ã®æˆæœç‰©ã‚’ç¢ºèª
- value-streams-mapping.md ã‹ã‚‰ VS0-VS7 ã‚’èª­ã¿è¾¼ã¿
- enterprise-activities.md ã‹ã‚‰ã‚¨ãƒ³ã‚¿ãƒ¼ãƒ—ãƒ©ã‚¤ã‚ºæ´»å‹•ã‚’æŠŠæ¡

**ã‚¹ãƒ†ãƒƒãƒ—2**: ğŸ¤– zen-architect ã‚µãƒ–ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆã«å§”è­²

```
Task tool ã‚’ä½¿ç”¨ã—ã¦ zen-architect (ANALYZE mode) ã‚’èµ·å‹•ï¼š

ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆ:
"""
Parasol V4 Lite - Phase 3a: Domain Classification (CL1)

## ã‚¿ã‚¹ã‚¯
outputs/2-value/ ã®æˆæœç‰©ã‚’åˆ†æã—ã€ãƒ‰ãƒ¡ã‚¤ãƒ³ã‚’Core/Supporting/Genericã«åˆ†é¡ã—ã¦ãã ã•ã„ã€‚

## å…¥åŠ›
- value-streams-mapping.md: VS0-VS7ã®å®šç¾©
- enterprise-activities.md: ã‚¨ãƒ³ã‚¿ãƒ¼ãƒ—ãƒ©ã‚¤ã‚ºæ´»å‹•
- organization-analysis.md: çµ„ç¹”ã®æˆ¦ç•¥æ–¹å‘æ€§

## åˆ†æè¦³ç‚¹

### Core Domainï¼ˆç«¶äº‰å„ªä½ã®æºæ³‰ï¼‰
- æˆ¦ç•¥çš„é‡è¦æ€§: é«˜
- ç«¶äº‰å„ªä½æ€§: é«˜
- è¤‡é›‘åº¦: é«˜
- ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚ºå¿…è¦æ€§: é«˜
- æ¨å¥¨æŠ•è³‡é…åˆ†: 70%

### Supporting Domainï¼ˆãƒ“ã‚¸ãƒã‚¹æ”¯æ´ï¼‰
- æˆ¦ç•¥çš„é‡è¦æ€§: ä¸­
- ç«¶äº‰å„ªä½æ€§: ä½
- è¤‡é›‘åº¦: ä¸­
- ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚ºå¿…è¦æ€§: ä¸­
- æ¨å¥¨æŠ•è³‡é…åˆ†: 20%

### Generic Domainï¼ˆæ±ç”¨æ©Ÿèƒ½ï¼‰
- æˆ¦ç•¥çš„é‡è¦æ€§: ä½
- ç«¶äº‰å„ªä½æ€§: ãªã—
- è¤‡é›‘åº¦: ä½
- ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚ºå¿…è¦æ€§: ä½
- æ¨å¥¨æŠ•è³‡é…åˆ†: 10%ï¼ˆå¤–éƒ¨ã‚µãƒ¼ãƒ“ã‚¹è³¼å…¥æ¨å¥¨ï¼‰

## å‡ºåŠ›å½¢å¼
outputs/3-capabilities/{vs-dir}/cl1-domain-classification.md

â€» {vs-dir} ã¯Phase 2ã®VSå®šç¾©ã‹ã‚‰å‹•çš„ã«æ±ºå®šï¼ˆä¾‹: vs2-product-innovation/ï¼‰

ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆæ§‹é€ ï¼š
1. ãƒ‰ãƒ¡ã‚¤ãƒ³åˆ†é¡ã‚µãƒãƒªãƒ¼ï¼ˆCore/Supporting/Genericå„ãƒªã‚¹ãƒˆï¼‰
2. å„æ´»å‹•é ˜åŸŸã®è©³ç´°
- æ´»å‹•é ˜åŸŸå
- èª¬æ˜
- æˆ¦ç•¥çš„é‡è¦æ€§ / ç«¶äº‰å„ªä½æ€§ / è¤‡é›‘åº¦
- åˆ†é¡ç†ç”±
3. æŠ•è³‡é…åˆ†æ¨å¥¨
4. æ¬¡ã®ã‚¹ãƒ†ãƒƒãƒ—ï¼ˆCL2: ã‚µãƒ–ãƒ‰ãƒ¡ã‚¤ãƒ³è¨­è¨ˆï¼‰
"""
```

**ã‚¹ãƒ†ãƒƒãƒ—3**: zen-architectã®å‡ºåŠ›ã‚’ç¢ºèªã—ã€cl1-domain-classification.md ã‚’ç”Ÿæˆ

**ã‚¹ãƒ†ãƒƒãƒ—4**: çµæœãƒ¬ãƒãƒ¼ãƒˆ
```
âœ… CL1: Domain Classification ({vs-number}: {vs-name}) å®Œäº†

åˆ†é¡çµæœ:
- Core Activities: X å€‹
- Supporting Activities: X å€‹
- Generic Activities: X å€‹

æˆæœç‰©: outputs/3-capabilities/{vs-dir}/cl1-domain-classification.md

æ¬¡ã®ã‚¹ãƒ†ãƒƒãƒ—:
â†’ `/parasol:3-capabilities cl2 {vs-number}` ã§ã‚µãƒ–ãƒ‰ãƒ¡ã‚¤ãƒ³è¨­è¨ˆ
```

### ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ: strategic-classification.md

```markdown
# Strategic Domain Classification (CL1)

ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆ: {ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆå}
ä½œæˆæ—¥: {æ—¥ä»˜}

## ãƒ‰ãƒ¡ã‚¤ãƒ³åˆ†é¡ã‚µãƒãƒªãƒ¼

### Core Domainsï¼ˆç«¶äº‰å„ªä½ã®æºæ³‰ï¼‰
1. **product-catalog**: è£½å“æƒ…å ±ç®¡ç†ã®ä¸­æ ¸
2. **order-management**: æ³¨æ–‡å‡¦ç†ã®ä¸­æ ¸
3. **customer-insights**: é¡§å®¢ç†è§£ã¨ä½“é¨“æœ€é©åŒ–

### Supporting Domainsï¼ˆãƒ“ã‚¸ãƒã‚¹æ”¯æ´ï¼‰
1. **inventory-management**: åœ¨åº«ç®¡ç†
2. **payment-processing**: æ±ºæ¸ˆå‡¦ç†
3. **customer-service**: ã‚«ã‚¹ã‚¿ãƒãƒ¼ã‚µãƒ¼ãƒ“ã‚¹
4. **analytics**: åˆ†æã¨ãƒ¬ãƒãƒ¼ãƒ†ã‚£ãƒ³ã‚°

### Generic Domainsï¼ˆæ±ç”¨æ©Ÿèƒ½ï¼‰
1. **notification**: é€šçŸ¥é…ä¿¡
2. **authentication**: èªè¨¼ãƒ»èªå¯

## è©³ç´°åˆ†æ

### Core Domain: product-catalog

**èª¬æ˜**: è£½å“æƒ…å ±ã®ç®¡ç†ã€ã‚«ã‚¿ãƒ­ã‚°æ§‹æˆã€ä¾¡æ ¼è¨­å®šã®ä¸­æ ¸æ©Ÿèƒ½

**é–¢é€£Value Stream**:
- VS2: è£½å“é–‹ç™º

**è©•ä¾¡**:
- æˆ¦ç•¥çš„é‡è¦æ€§: â˜…â˜…â˜…â˜…â˜… (5/5)
- ç«¶äº‰å„ªä½æ€§: â˜…â˜…â˜…â˜…â˜… (5/5)
- è¤‡é›‘åº¦: â˜…â˜…â˜…â˜…â˜† (4/5)
- ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚ºå¿…è¦æ€§: â˜…â˜…â˜…â˜…â˜… (5/5)

**åˆ†é¡ç†ç”±**:
è£½å“ã‚«ã‚¿ãƒ­ã‚°ã®ç‹¬è‡ªæ€§ã¨æŸ”è»Ÿæ€§ãŒç«¶äº‰å„ªä½ã‚’ç”Ÿã‚€ã€‚æ¥­ç•Œç‰¹æœ‰ã®è£½å“åˆ†é¡ã€å‹•çš„ä¾¡æ ¼è¨­å®šã€åœ¨åº«é€£æºãªã©ã®è¤‡é›‘ãªãƒ“ã‚¸ãƒã‚¹ãƒ«ãƒ¼ãƒ«ã‚’å«ã‚€ã€‚æ—¢è£½å“ã§ã¯å¯¾å¿œå›°é›£ã€‚

**æ¨å¥¨ã‚¢ãƒ—ãƒ­ãƒ¼ãƒ**: ãƒ•ãƒ«ã‚«ã‚¹ã‚¿ãƒ é–‹ç™ºã€æœ€é«˜å“è³ªã®æŠ•è³‡

---

### Core Domain: order-management

**èª¬æ˜**: æ³¨æ–‡å—ä»˜ã‹ã‚‰å‡ºè·ã¾ã§ã®ã‚ªãƒ¼ãƒ€ãƒ¼ãƒ©ã‚¤ãƒ•ã‚µã‚¤ã‚¯ãƒ«ç®¡ç†

**é–¢é€£Value Stream**:
- VS4: è²©å£²ãƒ»æµé€š

**è©•ä¾¡**:
- æˆ¦ç•¥çš„é‡è¦æ€§: â˜…â˜…â˜…â˜…â˜… (5/5)
- ç«¶äº‰å„ªä½æ€§: â˜…â˜…â˜…â˜…â˜† (4/5)
- è¤‡é›‘åº¦: â˜…â˜…â˜…â˜…â˜… (5/5)
- ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚ºå¿…è¦æ€§: â˜…â˜…â˜…â˜…â˜† (4/5)

**åˆ†é¡ç†ç”±**:
ç‹¬è‡ªã®æ³¨æ–‡å‡¦ç†ãƒ•ãƒ­ãƒ¼ã€è¤‡æ•°ãƒãƒ£ãƒãƒ«çµ±åˆã€ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ åœ¨åº«å¼•å½“ãªã©ãŒç«¶äº‰å„ªä½ã‚’ç”Ÿã‚€ã€‚è¤‡é›‘ãªçŠ¶æ…‹ç®¡ç†ã¨ã‚¤ãƒ™ãƒ³ãƒˆé§†å‹•ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ãŒå¿…è¦ã€‚

**æ¨å¥¨ã‚¢ãƒ—ãƒ­ãƒ¼ãƒ**: ãƒ•ãƒ«ã‚«ã‚¹ã‚¿ãƒ é–‹ç™ºã€ã‚¤ãƒ™ãƒ³ãƒˆã‚½ãƒ¼ã‚·ãƒ³ã‚°æ¤œè¨

---

### Supporting Domain: inventory-management

**èª¬æ˜**: åœ¨åº«ãƒ¬ãƒ™ãƒ«ç®¡ç†ã€å…¥å‡ºåº«å‡¦ç†ã€åœ¨åº«æœ€é©åŒ–

**é–¢é€£Value Stream**:
- VS2: è£½å“é–‹ç™ºï¼ˆåœ¨åº«è¨ˆç”»ï¼‰
- VS4: è²©å£²ãƒ»æµé€šï¼ˆåœ¨åº«å¼•å½“ï¼‰

**è©•ä¾¡**:
- æˆ¦ç•¥çš„é‡è¦æ€§: â˜…â˜…â˜…â˜†â˜† (3/5)
- ç«¶äº‰å„ªä½æ€§: â˜…â˜…â˜†â˜†â˜† (2/5)
- è¤‡é›‘åº¦: â˜…â˜…â˜…â˜†â˜† (3/5)
- ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚ºå¿…è¦æ€§: â˜…â˜…â˜…â˜†â˜† (3/5)

**åˆ†é¡ç†ç”±**:
é‡è¦ã ãŒç«¶äº‰å„ªä½ã®ç›´æ¥çš„æºæ³‰ã§ã¯ãªã„ã€‚ä¸€éƒ¨ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚ºã¯å¿…è¦ã ãŒã€æ—¢è£½å“ã‚’ãƒ™ãƒ¼ã‚¹ã«æ‹¡å¼µå¯èƒ½ã€‚

**æ¨å¥¨ã‚¢ãƒ—ãƒ­ãƒ¼ãƒ**: æ—¢è£½å“ + ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚ºã€ã¾ãŸã¯ç¤¾å†…é–‹ç™ºï¼ˆä¸­ç¨‹åº¦ã®æŠ•è³‡ï¼‰

---

### Generic Domain: notification

**èª¬æ˜**: Emailã€SMSã€Pushãªã©ã®é€šçŸ¥é…ä¿¡

**é–¢é€£Value Stream**:
- å…¨VSã«æ¨ªæ–­çš„ã«åˆ©ç”¨

**è©•ä¾¡**:
- æˆ¦ç•¥çš„é‡è¦æ€§: â˜…â˜…â˜†â˜†â˜† (2/5)
- ç«¶äº‰å„ªä½æ€§: â˜…â˜†â˜†â˜†â˜† (1/5)
- è¤‡é›‘åº¦: â˜…â˜…â˜†â˜†â˜† (2/5)
- ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚ºå¿…è¦æ€§: â˜…â˜†â˜†â˜†â˜† (1/5)

**åˆ†é¡ç†ç”±**:
æ±ç”¨çš„ãªæ©Ÿèƒ½ã§ç«¶äº‰å„ªä½ã‚’ç”Ÿã¾ãªã„ã€‚æˆç†Ÿã—ãŸå¤–éƒ¨ã‚µãƒ¼ãƒ“ã‚¹ï¼ˆSendGridã€Twilioã€FCMç­‰ï¼‰ãŒå¤šæ•°å­˜åœ¨ã€‚

**æ¨å¥¨ã‚¢ãƒ—ãƒ­ãƒ¼ãƒ**: å¤–éƒ¨SaaSåˆ©ç”¨ï¼ˆSendGridã€Twilioç­‰ï¼‰

## æŠ•è³‡é…åˆ†æ¨å¥¨

```
Core Domains (3å€‹):      70% ã®æŠ•è³‡
Supporting Domains (4å€‹): 20% ã®æŠ•è³‡
Generic Domains (2å€‹):    10% ã®æŠ•è³‡ï¼ˆä¸»ã«çµ±åˆã‚³ã‚¹ãƒˆï¼‰

æ¨å¥¨é…åˆ†:
- product-catalog: 30%
- order-management: 25%
- customer-insights: 15%
- Supportingå…¨ä½“: 20%
- Genericå…¨ä½“: 10%
```

## æˆ¦ç•¥çš„æ¨å¥¨äº‹é …

1. **Core Domainé›†ä¸­æŠ•è³‡**: product-catalogã¨order-managementã«æœ€é«˜å“è³ªã®ã‚¨ãƒ³ã‚¸ãƒ‹ã‚¢ã‚’é…ç½®
2. **Supporting DomainåŠ¹ç‡åŒ–**: æ—¢è£½å“æ´»ç”¨ã¨ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚ºã®ãƒãƒ©ãƒ³ã‚¹
3. **Generic Domainå¤–æ³¨**: é€šçŸ¥ãƒ»èªè¨¼ã¯å¤–éƒ¨SaaSåˆ©ç”¨ã§è¿…é€Ÿã«ç«‹ã¡ä¸Šã’
4. **æŠ€è¡“çš„è² å‚µå›é¿**: Core Domainã§ã®æŠ€è¡“çš„è² å‚µã¯ç«¶äº‰åŠ›ã‚’ç›´æ¥æãªã†ãŸã‚ã€å“è³ªã‚’å„ªå…ˆ

## æ¬¡ã®ã‚¹ãƒ†ãƒƒãƒ—

CL2: ã‚µãƒ–ãƒ‰ãƒ¡ã‚¤ãƒ³è¨­è¨ˆ

å„Value Streamã‚’ã‚µãƒ–ãƒ‰ãƒ¡ã‚¤ãƒ³ï¼ˆâ‰ˆãƒã‚¤ã‚¯ãƒ­ã‚µãƒ¼ãƒ“ã‚¹å€™è£œï¼‰ã«åˆ†è§£ï¼š

```bash
# Core Domain ã®VSã‹ã‚‰é–‹å§‹ï¼ˆå„ªå…ˆåº¦é«˜ï¼‰
/parasol:3-capabilities cl2 VS2    # è£½å“é–‹ç™ºãƒ»ã‚¤ãƒãƒ™ãƒ¼ã‚·ãƒ§ãƒ³
/parasol:3-capabilities cl2 VS3    # ãƒ–ãƒ©ãƒ³ãƒ‡ã‚£ãƒ³ã‚°ãƒ»ãƒãƒ¼ã‚±ãƒ†ã‚£ãƒ³ã‚°
/parasol:3-capabilities cl2 VS4    # è²©å£²ãƒ»æµé€šãƒ»ã‚µãƒ—ãƒ©ã‚¤ãƒã‚§ãƒ¼ãƒ³

# Supporting Domain ã®VS
/parasol:3-capabilities cl2 VS1    # å¸‚å ´æ©Ÿä¼šç™ºè¦‹
/parasol:3-capabilities cl2 VS5    # ã‚«ã‚¹ã‚¿ãƒãƒ¼ã‚µãƒãƒ¼ãƒˆ
/parasol:3-capabilities cl2 VS6    # ãƒ‡ãƒ¼ã‚¿æ´»ç”¨ãƒ»DX
/parasol:3-capabilities cl2 VS7    # æ¥­å‹™æ”¹å–„

# Generic Domain ã®VS
/parasol:3-capabilities cl2 VS0    # ãƒ“ã‚¸ãƒ§ãƒ³ç­–å®šãƒ»æˆ¦ç•¥ç«‹æ¡ˆ
```
```


## Phase 3b: CL2 - Subdomain Design

### ã‚³ãƒãƒ³ãƒ‰

```bash
/parasol:3-capabilities cl2              # ã‚¤ãƒ³ã‚¿ãƒ©ã‚¯ãƒ†ã‚£ãƒ–é¸æŠï¼ˆVSä¸€è¦§ã‹ã‚‰é¸æŠï¼‰
/parasol:3-capabilities cl2 VS2          # VS2ï¼ˆè£½å“é–‹ç™ºï¼‰ã‚’ç›´æ¥æŒ‡å®š
/parasol:3-capabilities cl2 VS3          # VS3ï¼ˆãƒ–ãƒ©ãƒ³ãƒ‡ã‚£ãƒ³ã‚°ï¼‰ã‚’ç›´æ¥æŒ‡å®š
/parasol:3-capabilities cl2 VS4          # VS4ï¼ˆè²©å£²ãƒ»æµé€šï¼‰ã‚’ç›´æ¥æŒ‡å®š
```

### å®Ÿè¡Œãƒ•ãƒ­ãƒ¼

**ã‚¹ãƒ†ãƒƒãƒ—1**: Value Streamé¸æŠ
- ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ãªã— â†’ ã‚¤ãƒ³ã‚¿ãƒ©ã‚¯ãƒ†ã‚£ãƒ–é¸æŠï¼ˆè©³ç´°åŒ–æ¸ˆã¿VSã®ä¸€è¦§ã‹ã‚‰é¸æŠï¼‰
- ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã‚ã‚Šï¼ˆVSç•ªå·ï¼‰â†’ ç›´æ¥å®Ÿè¡Œ

**ã‚¹ãƒ†ãƒƒãƒ—2**: Phase 2ã®æˆæœç‰©ã‚’ç¢ºèª
- vs{N}-detail.md ã‹ã‚‰è©²å½“VSã®è©³ç´°å®šç¾©ã‚’å–å¾—
- strategic-classification.md ã‹ã‚‰ãƒ‰ãƒ¡ã‚¤ãƒ³ã‚¿ã‚¤ãƒ—ï¼ˆCore/Supporting/Genericï¼‰ã‚’ç¢ºèª

**ã‚¹ãƒ†ãƒƒãƒ—3**: ğŸ¤– zen-architect ã‚µãƒ–ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆã«å§”è­²

```
Task tool ã‚’ä½¿ç”¨ã—ã¦ zen-architect (ARCHITECT mode) ã‚’èµ·å‹•ï¼š

ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆ:
"""
Parasol V4 Lite - Phase 3b: Subdomain Design (CL2)

## ã‚¿ã‚¹ã‚¯
Value Stream {vs-number}ï¼ˆ{vs-name}ï¼‰ã‚’ã‚µãƒ–ãƒ‰ãƒ¡ã‚¤ãƒ³ï¼ˆãƒ“ã‚¸ãƒã‚¹ã‚ªãƒšãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ç¾¤ï¼‰ã«åˆ†è§£ã—ã¦ãã ã•ã„ã€‚
å„ã‚µãƒ–ãƒ‰ãƒ¡ã‚¤ãƒ³ã¯é–¢é€£ã™ã‚‹ãƒ“ã‚¸ãƒã‚¹ã‚ªãƒšãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ã®é›†åˆã§ã‚ã‚Šã€å°†æ¥ã®ãƒã‚¤ã‚¯ãƒ­ã‚µãƒ¼ãƒ“ã‚¹å€™è£œã¨ãªã‚Šã¾ã™ã€‚

## å…¥åŠ›
- vs{N}-detail.md: è©²å½“VSã®è©³ç´°å®šç¾©ï¼ˆä¾¡å€¤ã®æµã‚Œã€æ´»å‹•ã€KPIç­‰ï¼‰
- strategic-classification.md: ãƒ‰ãƒ¡ã‚¤ãƒ³åˆ†é¡çµæœï¼ˆã“ã®VSã®ãƒ‰ãƒ¡ã‚¤ãƒ³ã‚¿ã‚¤ãƒ—ç¢ºèªç”¨ï¼‰
- value-streams-mapping.md: å…¨ä½“ã®Value Streamsæ¦‚è¦
- enterprise-activities.md: ãƒ“ã‚¸ãƒã‚¹æ´»å‹•

## å¯¾è±¡Value Stream
{vs-detail.mdã®å†…å®¹ã‚’æç¤º}

ä¾‹ï¼ˆVS2: è£½å“é–‹ç™ºãƒ»ã‚¤ãƒãƒ™ãƒ¼ã‚·ãƒ§ãƒ³ ã®å ´åˆï¼‰:
- åŸºç›¤æŠ€è¡“ç ”ç©¶ï¼ˆé…µæ¯ã€ç™ºé…µã€ä¹³é…¸èŒï¼‰
- è£½å“ã‚³ãƒ³ã‚»ãƒ—ãƒˆé–‹ç™º
- é…’é¡è£½å“é–‹ç™º
- é£²æ–™ãƒ»é£Ÿå“é–‹ç™º

## åˆ†è§£è¦³ç‚¹

### ã‚µãƒ–ãƒ‰ãƒ¡ã‚¤ãƒ³ = ãƒ“ã‚¸ãƒã‚¹ã‚ªãƒšãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ç¾¤
ã‚µãƒ–ãƒ‰ãƒ¡ã‚¤ãƒ³ã¯ã€é–¢é€£ã™ã‚‹ãƒ“ã‚¸ãƒã‚¹ã‚ªãƒšãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ï¼ˆæ¥­å‹™æ´»å‹•ï¼‰ã‚’ã‚°ãƒ«ãƒ¼ãƒ—åŒ–ã—ãŸã‚‚ã®ã§ã™ã€‚
ä»¥ä¸‹ã®è¦³ç‚¹ã‹ã‚‰å„ãƒ‰ãƒ¡ã‚¤ãƒ³ã‚’ã‚µãƒ–ãƒ‰ãƒ¡ã‚¤ãƒ³ã«åˆ†è§£ï¼š

1. **æ¥­å‹™ã®é–¢é€£æ€§**: é–¢é€£ã™ã‚‹ãƒ“ã‚¸ãƒã‚¹ã‚ªãƒšãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ãŒã¾ã¨ã¾ã£ã¦ã„ã‚‹ã‹
2. **è²¬å‹™ã®å‡é›†æ€§**: å˜ä¸€ã®æ˜ç¢ºãªè²¬å‹™ã‚’æŒã¤ã‹
3. **å¤‰æ›´ã®ç‹¬ç«‹æ€§**: ä»–ã¨ç‹¬ç«‹ã—ã¦å¤‰æ›´ã§ãã‚‹ã‹
4. **ãƒãƒ¼ãƒ é…ç½®**: ç‹¬ç«‹ã—ãŸãƒãƒ¼ãƒ ã§é–‹ç™ºãƒ»é‹ç”¨å¯èƒ½ã‹
5. **ãƒ‡ãƒ¼ã‚¿å¢ƒç•Œ**: ç‹¬è‡ªã®ãƒ‡ãƒ¼ã‚¿ã‚¹ãƒˆã‚¢ã‚’æŒã¤ã¹ãã‹
6. **ã‚¹ã‚±ãƒ¼ãƒªãƒ³ã‚°è¦ä»¶**: ç‹¬ç«‹ã—ãŸã‚¹ã‚±ãƒ¼ãƒªãƒ³ã‚°ãŒå¿…è¦ã‹

### ã‚µãƒ–ãƒ‰ãƒ¡ã‚¤ãƒ³å®šç¾©ã«å«ã‚ã‚‹æƒ…å ±
- ã‚µãƒ–ãƒ‰ãƒ¡ã‚¤ãƒ³åï¼ˆkebab-caseï¼‰
- ç›®çš„ã¨è²¬å‹™
- **ãƒ“ã‚¸ãƒã‚¹ã‚ªãƒšãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ä¸€è¦§**ï¼ˆã“ã®ã‚µãƒ–ãƒ‰ãƒ¡ã‚¤ãƒ³ã§å®Ÿè¡Œã™ã‚‹æ¥­å‹™æ´»å‹•ï¼‰
- é–¢é€£ã™ã‚‹Value Streams
- ãƒ‡ãƒ¼ã‚¿æ‰€æœ‰ç¯„å›²
- ä»–ã‚µãƒ–ãƒ‰ãƒ¡ã‚¤ãƒ³ã¨ã®ä¾å­˜é–¢ä¿‚
- ãƒã‚¤ã‚¯ãƒ­ã‚µãƒ¼ãƒ“ã‚¹å€™è£œã¨ã—ã¦ã®è©•ä¾¡

## å‡ºåŠ›å½¢å¼
outputs/3-capabilities/{vs-dir}/cl2-subdomain-design.md

â€» {vs-dir} ã¯Phase 2ã®VSå®šç¾©ã‹ã‚‰å‹•çš„ã«æ±ºå®š

ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆæ§‹é€ ï¼š
1. Value Streamæ¦‚è¦ï¼ˆåå‰ã€ãƒ‰ãƒ¡ã‚¤ãƒ³ã‚¿ã‚¤ãƒ—ã€ç›®çš„ï¼‰
2. ã‚µãƒ–ãƒ‰ãƒ¡ã‚¤ãƒ³ä¸€è¦§
3. å„ã‚µãƒ–ãƒ‰ãƒ¡ã‚¤ãƒ³ã®è©³ç´°å®šç¾©
4. ã‚µãƒ–ãƒ‰ãƒ¡ã‚¤ãƒ³é–“ã®é–¢ä¿‚å›³
5. ãƒã‚¤ã‚¯ãƒ­ã‚µãƒ¼ãƒ“ã‚¹å¢ƒç•Œã®æ¨å¥¨
6. æ¬¡ã®ã‚¹ãƒ†ãƒƒãƒ—ï¼ˆCL3: BCå®šç¾©ï¼‰

## åˆ¶ç´„
- ã‚µãƒ–ãƒ‰ãƒ¡ã‚¤ãƒ³åã¯ kebab-case ã§çµ±ä¸€
- å„ã‚µãƒ–ãƒ‰ãƒ¡ã‚¤ãƒ³ã¯1ã¤ã®æ˜ç¢ºãªè²¬å‹™ã‚’æŒã¤
- ã‚µãƒ–ãƒ‰ãƒ¡ã‚¤ãƒ³æ•°ã¯VSã®è¤‡é›‘åº¦ã«å¿œã˜ã¦ï¼ˆCore VS: 4-6å€‹ã€Supporting VS: 2-4å€‹ã€Generic VS: 1-3å€‹ã‚’ç›®å®‰ï¼‰
"""
```

**ã‚¹ãƒ†ãƒƒãƒ—4**: zen-architectã®å‡ºåŠ›ã‚’ç¢ºèªã—ã€cl2-subdomain-design.md ã‚’ç”Ÿæˆ

**ã‚¹ãƒ†ãƒƒãƒ—5**: çµæœãƒ¬ãƒãƒ¼ãƒˆ
```
âœ… CL2: Subdomain Design ({vs-number}: {vs-name}) å®Œäº†

ãƒ‰ãƒ¡ã‚¤ãƒ³ã‚¿ã‚¤ãƒ—: {Core/Supporting/Generic} Domain

ã‚µãƒ–ãƒ‰ãƒ¡ã‚¤ãƒ³:
- {subdomain-1}: {èª¬æ˜}
- {subdomain-2}: {èª¬æ˜}
... (åˆè¨ˆ X å€‹)

æˆæœç‰©: outputs/3-capabilities/{vs-dir}/cl2-subdomain-design.md

æ¬¡ã®ã‚¹ãƒ†ãƒƒãƒ—:
â†’ `/parasol:3-capabilities cl3 {subdomain-name}` ã§å„ã‚µãƒ–ãƒ‰ãƒ¡ã‚¤ãƒ³ã®BCå®šç¾©
```

### ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ: vs{N}-subdomains.md

```markdown
# VS{N}: {VSå} - Subdomain Design (CL2)

ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆ: {ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆå}
Value Stream: VS{N} - {VSå}
ãƒ‰ãƒ¡ã‚¤ãƒ³ã‚¿ã‚¤ãƒ—: {Core/Supporting/Generic} Domain
ä½œæˆæ—¥: {æ—¥ä»˜}

## Value Stream æ¦‚è¦

**ç›®çš„**: {VSã®ç›®çš„}

**ä¾¡å€¤ã®æµã‚Œï¼ˆPhase 2ã‚ˆã‚Šï¼‰**:
- A1: {æ´»å‹•1}
- A2: {æ´»å‹•2}
- ...

---

## ã‚µãƒ–ãƒ‰ãƒ¡ã‚¤ãƒ³ä¸€è¦§

### 1. vs{N}-{subdomain-name-1}
**ç›®çš„**: {ã‚µãƒ–ãƒ‰ãƒ¡ã‚¤ãƒ³ã®ç›®çš„}

### 2. vs{N}-{subdomain-name-2}
**ç›®çš„**: {ã‚µãƒ–ãƒ‰ãƒ¡ã‚¤ãƒ³ã®ç›®çš„}

### 3. vs{N}-{subdomain-name-3}
**ç›®çš„**: {ã‚µãƒ–ãƒ‰ãƒ¡ã‚¤ãƒ³ã®ç›®çš„}

---

## ã‚µãƒ–ãƒ‰ãƒ¡ã‚¤ãƒ³è©³ç´°

### 1. vs{N}-{subdomain-name-1}

**ç›®çš„**: {è©³ç´°ãªç›®çš„}

**ãƒ“ã‚¸ãƒã‚¹ã‚ªãƒšãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ä¸€è¦§**:
ã“ã®ã‚µãƒ–ãƒ‰ãƒ¡ã‚¤ãƒ³ã§å®Ÿè¡Œã™ã‚‹æ¥­å‹™æ´»å‹•ï¼š
- {ã‚ªãƒšãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³1}: {èª¬æ˜}
- {ã‚ªãƒšãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³2}: {èª¬æ˜}
- {ã‚ªãƒšãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³3}: {èª¬æ˜}

**å¯¾å¿œã™ã‚‹æ´»å‹•ï¼ˆPhase 2ã®Value Flowã‚ˆã‚Šï¼‰**:
- A{X}: {æ´»å‹•å}

**ãƒ‡ãƒ¼ã‚¿æ‰€æœ‰ç¯„å›²**:
- {ãƒ†ãƒ¼ãƒ–ãƒ«/ãƒ‡ãƒ¼ã‚¿ã‚¹ãƒˆã‚¢1}
- {ãƒ†ãƒ¼ãƒ–ãƒ«/ãƒ‡ãƒ¼ã‚¿ã‚¹ãƒˆã‚¢2}

**ä»–ã‚µãƒ–ãƒ‰ãƒ¡ã‚¤ãƒ³ã¨ã®ä¾å­˜é–¢ä¿‚**:
- {ä¾å­˜ã‚µãƒ–ãƒ‰ãƒ¡ã‚¤ãƒ³1}: {é–¢ä¿‚ã®èª¬æ˜}
- {ä¾å­˜ã‚µãƒ–ãƒ‰ãƒ¡ã‚¤ãƒ³2}: {é–¢ä¿‚ã®èª¬æ˜}

**ãƒã‚¤ã‚¯ãƒ­ã‚µãƒ¼ãƒ“ã‚¹å€™è£œè©•ä¾¡**:
- ç‹¬ç«‹æ€§: {é«˜/ä¸­/ä½}ï¼ˆ{ç†ç”±}ï¼‰
- ã‚¹ã‚±ãƒ¼ãƒ©ãƒ“ãƒªãƒ†ã‚£: {é«˜/ä¸­/ä½}ï¼ˆ{ç†ç”±}ï¼‰
- ãƒãƒ¼ãƒ å¢ƒç•Œ: {æ˜ç¢º/æ›–æ˜§}
- ãƒ‡ãƒ¼ã‚¿å¢ƒç•Œ: {æ˜ç¢º/æ›–æ˜§}

**æ¨å¥¨**: {ç‹¬ç«‹ãƒã‚¤ã‚¯ãƒ­ã‚µãƒ¼ãƒ“ã‚¹åŒ– / ãƒ¢ã‚¸ãƒ¥ãƒ©ãƒ¼ãƒ¢ãƒãƒªã‚¹ / æ—¢å­˜çµ±åˆ} â˜…â˜…â˜…â˜…â˜…

---

## ã‚µãƒ–ãƒ‰ãƒ¡ã‚¤ãƒ³é–¢ä¿‚å›³

```
{ASCIIã‚¢ãƒ¼ãƒˆã§ã‚µãƒ–ãƒ‰ãƒ¡ã‚¤ãƒ³é–“ã®ä¾å­˜é–¢ä¿‚ã‚’å›³ç¤º}
```

## ãƒã‚¤ã‚¯ãƒ­ã‚µãƒ¼ãƒ“ã‚¹å¢ƒç•Œã®æ¨å¥¨

### ã“ã®VSå†…ã§ã®å„ªå…ˆé †ä½

1. **vs{N}-{subdomain-1}**: {ç†ç”±}
2. **vs{N}-{subdomain-2}**: {ç†ç”±}
3. **vs{N}-{subdomain-3}**: {ç†ç”±}

### ä»–VSã¨ã®çµ±åˆãƒã‚¤ãƒ³ãƒˆ

- VS{X}ã®{subdomain}: {çµ±åˆç†ç”±ã¨æ–¹å¼}
- VS{Y}ã®{subdomain}: {çµ±åˆç†ç”±ã¨æ–¹å¼}

## æ¬¡ã®ã‚¹ãƒ†ãƒƒãƒ—

CL3: Bounded Context å®šç¾©

ã“ã®VSã®ã‚µãƒ–ãƒ‰ãƒ¡ã‚¤ãƒ³ã®Bounded Contextã‚’å®šç¾©ï¼š

```bash
# VS{N}ã®ã‚µãƒ–ãƒ‰ãƒ¡ã‚¤ãƒ³ã‹ã‚‰
/parasol:3-capabilities cl3 vs{N}-{subdomain-1}
/parasol:3-capabilities cl3 vs{N}-{subdomain-2}
/parasol:3-capabilities cl3 vs{N}-{subdomain-3}
```

**é‡è¦**: BCå®šç¾©ã§ã¯ãƒ¦ãƒ“ã‚­ã‚¿ã‚¹è¨€èªã€é›†ç´„ã€ã‚¨ãƒ³ãƒ†ã‚£ãƒ†ã‚£ã€å€¤ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã‚’æ˜ç¢ºåŒ–ã—ã¾ã™ã€‚
```


## Phase 3c: CL3 - Bounded Context Definition

### ã‚³ãƒãƒ³ãƒ‰

```bash
/parasol:3-capabilities cl3                      # ã‚¤ãƒ³ã‚¿ãƒ©ã‚¯ãƒ†ã‚£ãƒ–é¸æŠ
/parasol:3-capabilities cl3 product-catalog-core # ç›´æ¥æŒ‡å®š
```

### å®Ÿè¡Œãƒ•ãƒ­ãƒ¼

**ã‚¹ãƒ†ãƒƒãƒ—1**: ã‚µãƒ–ãƒ‰ãƒ¡ã‚¤ãƒ³é¸æŠ
- ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ãªã— â†’ å…¨ã‚µãƒ–ãƒ‰ãƒ¡ã‚¤ãƒ³ãƒªã‚¹ãƒˆã‹ã‚‰ã‚¤ãƒ³ã‚¿ãƒ©ã‚¯ãƒ†ã‚£ãƒ–é¸æŠ
- ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã‚ã‚Š â†’ ç›´æ¥å®Ÿè¡Œ

**ã‚¹ãƒ†ãƒƒãƒ—2**: CL2ã®æˆæœç‰©ã‚’ç¢ºèª
- è©²å½“ã™ã‚‹ã‚µãƒ–ãƒ‰ãƒ¡ã‚¤ãƒ³å®šç¾©ã‚’ vs{N}-subdomains.md ã‹ã‚‰èª­ã¿è¾¼ã¿

**ã‚¹ãƒ†ãƒƒãƒ—3**: ğŸ¤– zen-architect ã‚µãƒ–ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆã«å§”è­²

```
Task tool ã‚’ä½¿ç”¨ã—ã¦ zen-architect (ARCHITECT mode) ã‚’èµ·å‹•ï¼š

ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆ:
"""
Parasol V4 Lite - Phase 3c: Bounded Context Definition (CL3)

## ã‚¿ã‚¹ã‚¯
ã‚µãƒ–ãƒ‰ãƒ¡ã‚¤ãƒ³ "{subdomain-name}" ã®Bounded Contextã‚’å®šç¾©ã—ã¦ãã ã•ã„ã€‚
Bounded Contextã¯ **ãƒ“ã‚¸ãƒã‚¹ã‚ªãƒšãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ã®è©³ç´°** ã¨ **æŠ€è¡“è¨­è¨ˆ** ã®ä¸¡æ–¹ã‚’å«ã¿ã¾ã™ã€‚

## å…¥åŠ›
- vs{N}-subdomains.md: è©²å½“VSã®ã‚µãƒ–ãƒ‰ãƒ¡ã‚¤ãƒ³å®šç¾©
- vs{N}-detail.md: Value Streamã®è©³ç´°å®šç¾©
- strategic-classification.md: ãƒ‰ãƒ¡ã‚¤ãƒ³åˆ†é¡

## Bounded Context å®šç¾©è¦ç´ 

### ã€ãƒ“ã‚¸ãƒã‚¹é¢ã€‘

### 1. ã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆæ¦‚è¦
- BCåï¼ˆã‚µãƒ–ãƒ‰ãƒ¡ã‚¤ãƒ³å + "-bc"ï¼‰
- ç›®çš„ã¨è²¬å‹™
- ãƒãƒ¼ãƒ å¢ƒç•Œï¼ˆã“ã®BCã‚’æ‹…å½“ã™ã‚‹ãƒãƒ¼ãƒ ï¼‰

### 2. ãƒ“ã‚¸ãƒã‚¹ã‚ªãƒšãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³è©³ç´°
CL2ã§å®šç¾©ã—ãŸã‚ªãƒšãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ç¾¤ã®è©³ç´°ï¼š
- **å„ã‚ªãƒšãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ã®å®Ÿè¡Œæ‰‹é †**ï¼ˆæ¥­å‹™ãƒ•ãƒ­ãƒ¼ï¼‰
- **æ¥­å‹™ãƒ«ãƒ¼ãƒ«**ï¼ˆãƒ“ã‚¸ãƒã‚¹ãƒ«ãƒ¼ãƒ«ã€åˆ¶ç´„æ¡ä»¶ï¼‰
- **å…¥åŠ›/å‡ºåŠ›**ï¼ˆä½•ã‚’å—ã‘å–ã‚Šã€ä½•ã‚’ç”Ÿæˆã™ã‚‹ã‹ï¼‰
- **ãƒˆãƒªã‚¬ãƒ¼**ï¼ˆä½•ãŒã“ã®ã‚ªãƒšãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ã‚’é–‹å§‹ã™ã‚‹ã‹ï¼‰

### 3. ãƒ¦ãƒ“ã‚­ã‚¿ã‚¹è¨€èªï¼ˆUbiquitous Languageï¼‰
ã“ã®BCå†…ã§ä½¿ç”¨ã•ã‚Œã‚‹ä¸»è¦ãª**æ¥­å‹™ç”¨èª**ã¨ãã®å®šç¾©ï¼š
- ãƒ‰ãƒ¡ã‚¤ãƒ³ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆï¼ˆæ¥­å‹™ã§æ‰±ã†ãƒ¢ãƒãƒ»ã‚³ãƒˆï¼‰
- ãƒ“ã‚¸ãƒã‚¹ãƒ«ãƒ¼ãƒ«ï¼ˆæ¥­å‹™ä¸Šã®åˆ¶ç´„ãƒ»ãƒ«ãƒ¼ãƒ«ï¼‰
- ãƒ—ãƒ­ã‚»ã‚¹ï¼ˆæ¥­å‹™ãƒ•ãƒ­ãƒ¼ï¼‰
- ã‚¤ãƒ™ãƒ³ãƒˆï¼ˆæ¥­å‹™ä¸Šã®é‡è¦ãªå‡ºæ¥äº‹ï¼‰

**é‡è¦**: ä»–ã®BCã¨ç”¨èªãŒé‡è¤‡ã—ã¦ã‚‚ã€ã“ã®BCå†…ã§ã®æ„å‘³ã‚’æ˜ç¢ºã«å®šç¾©

### ã€æŠ€è¡“é¢ã€‘

### 4. é›†ç´„ï¼ˆAggregatesï¼‰
ãƒ‡ãƒ¼ã‚¿æ•´åˆæ€§ã®å¢ƒç•Œï¼š
- é›†ç´„ãƒ«ãƒ¼ãƒˆï¼ˆAggregate Rootï¼‰
- ã‚¨ãƒ³ãƒ†ã‚£ãƒ†ã‚£ï¼ˆEntitiesï¼‰
- å€¤ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆï¼ˆValue Objectsï¼‰
- ä¸å¤‰æ¡ä»¶ï¼ˆInvariantsï¼‰= æ¥­å‹™ãƒ«ãƒ¼ãƒ«ã®æŠ€è¡“çš„è¡¨ç¾

### 5. ãƒ‰ãƒ¡ã‚¤ãƒ³ã‚¤ãƒ™ãƒ³ãƒˆï¼ˆDomain Eventsï¼‰
BCå¤–éƒ¨ã«å…¬é–‹ã™ã‚‹ã‚¤ãƒ™ãƒ³ãƒˆï¼ˆæ¥­å‹™ä¸Šã®é‡è¦ãªå‡ºæ¥äº‹ï¼‰ï¼š
- ã‚¤ãƒ™ãƒ³ãƒˆå
- ãƒšã‚¤ãƒ­ãƒ¼ãƒ‰
- ç™ºç”Ÿã‚¿ã‚¤ãƒŸãƒ³ã‚°ï¼ˆã©ã®æ¥­å‹™ã‚ªãƒšãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ã§ç™ºç”Ÿã™ã‚‹ã‹ï¼‰

### 6. ã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆãƒãƒƒãƒ—ï¼ˆContext Mapï¼‰
ä»–ã®BCã¨ã®é–¢ä¿‚ï¼ˆæ¥­å‹™é€£æºãƒ‘ã‚¿ãƒ¼ãƒ³ï¼‰ï¼š
- Customer-Supplier
- Partnership
- Published Language
- Open Host Service
- Conformist
- Anticorruption Layer

### 7. APIå¥‘ç´„ï¼ˆæ¦‚è¦ï¼‰
- æä¾›ã™ã‚‹APIï¼ˆã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆæ¦‚è¦ï¼‰
- ä¾å­˜ã™ã‚‹APIï¼ˆä»–BCã¸ã®ä¾å­˜ï¼‰

## å‡ºåŠ›å½¢å¼
outputs/3-capabilities/{vs-dir}/cl3-bounded-contexts/{subdomain-name}-bc.md

â€» {vs-dir} ã¯Phase 2ã®VSå®šç¾©ã‹ã‚‰å‹•çš„ã«æ±ºå®š

ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆæ§‹é€ ï¼š
ã€ãƒ“ã‚¸ãƒã‚¹é¢ã€‘
1. Bounded Context æ¦‚è¦
2. ãƒ“ã‚¸ãƒã‚¹ã‚ªãƒšãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³è©³ç´°ï¼ˆæ¥­å‹™ãƒ•ãƒ­ãƒ¼ã€æ¥­å‹™ãƒ«ãƒ¼ãƒ«ï¼‰
3. ãƒ¦ãƒ“ã‚­ã‚¿ã‚¹è¨€èªï¼ˆæ¥­å‹™ç”¨èªï¼‰
ã€æŠ€è¡“é¢ã€‘
4. é›†ç´„è¨­è¨ˆ
5. ãƒ‰ãƒ¡ã‚¤ãƒ³ã‚¤ãƒ™ãƒ³ãƒˆ
6. Context Mapï¼ˆä»–BCã¨ã®é–¢ä¿‚ï¼‰
7. APIå¥‘ç´„æ¦‚è¦
8. æŠ€è¡“ã‚¹ã‚¿ãƒƒã‚¯æ¨å¥¨
9. æ¬¡ã®ã‚¹ãƒ†ãƒƒãƒ—ï¼ˆPhase 4: Architectureï¼‰

## åˆ¶ç´„
- BCåã¯ "{subdomain-name}-bc" å½¢å¼
- ãƒ¦ãƒ“ã‚­ã‚¿ã‚¹è¨€èªã¯æ˜ç¢ºã«å®šç¾©
- é›†ç´„å¢ƒç•Œã‚’æ˜ç¢ºã«
- å¤–éƒ¨ã¨ã®ä¾å­˜ã¯ Context Map ã§è¡¨ç¾
"""
```

**ã‚¹ãƒ†ãƒƒãƒ—4**: å¿…è¦ã«å¿œã˜ã¦ api-contract-designer ã‚’è¿½åŠ èµ·å‹•

BCå®šç¾©ãŒå®Œäº†ã—ãŸã‚‰ã€ã‚ˆã‚Šè©³ç´°ãªAPIå¥‘ç´„è¨­è¨ˆãŒå¿…è¦ãªå ´åˆï¼š

```
Task tool ã‚’ä½¿ç”¨ã—ã¦ api-contract-designer ã‚’èµ·å‹•ï¼š

ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆ:
"""
{subdomain-name}-bc ã®APIå¥‘ç´„ã‚’è©³ç´°è¨­è¨ˆã—ã¦ãã ã•ã„ã€‚

å…¥åŠ›: {subdomain-name}-bc.md

å‡ºåŠ›:
- RESTful APIä»•æ§˜ï¼ˆä¸»è¦ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆï¼‰
- ãƒªã‚¯ã‚¨ã‚¹ãƒˆ/ãƒ¬ã‚¹ãƒãƒ³ã‚¹å½¢å¼
- ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°
- èªè¨¼ãƒ»èªå¯è¦ä»¶
"""
```

**ã‚¹ãƒ†ãƒƒãƒ—5**: zen-architectï¼ˆ+ api-contract-designerï¼‰ã®å‡ºåŠ›ã‚’ç¢ºèªã—ã€{subdomain-name}-bc.md ã‚’ç”Ÿæˆ

**ã‚¹ãƒ†ãƒƒãƒ—6**: çµæœãƒ¬ãƒãƒ¼ãƒˆ
```
âœ… CL3: Bounded Context Definition ({subdomain-name}) å®Œäº†

å®šç¾©å†…å®¹:
- é›†ç´„: Xå€‹
- ãƒ‰ãƒ¡ã‚¤ãƒ³ã‚¤ãƒ™ãƒ³ãƒˆ: Xå€‹
- é–¢é€£BC: Xå€‹

æˆæœç‰©: outputs/3-capabilities/{vs-dir}/cl3-bounded-contexts/{subdomain-name}-bc.md

æ¬¡ã®ã‚¹ãƒ†ãƒƒãƒ—:
1. ä»–ã®ã‚µãƒ–ãƒ‰ãƒ¡ã‚¤ãƒ³ã®BCå®šç¾©ã‚’å®Œäº†
2. å…¨BCå®Œäº†å¾Œ â†’ `/parasol:4-architecture` ã§Context Mapçµ±åˆ
```

### ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ: {subdomain-name}-bc.md

```markdown
# Bounded Context: product-catalog-core-bc

ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆ: {ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆå}
ã‚µãƒ–ãƒ‰ãƒ¡ã‚¤ãƒ³: product-catalog-core
ä½œæˆæ—¥: {æ—¥ä»˜}

## 1. Bounded Context æ¦‚è¦

### ç›®çš„
è£½å“ãƒã‚¹ã‚¿ãƒ‡ãƒ¼ã‚¿ã®ç®¡ç†ã¨ã‚«ã‚¿ãƒ­ã‚°æ§‹é€ ã®ç¶­æŒ

### è²¬å‹™
- è£½å“æƒ…å ±ã®ç™»éŒ²ãƒ»æ›´æ–°ãƒ»å‰Šé™¤
- ã‚«ãƒ†ã‚´ãƒªéšå±¤ã®ç®¡ç†
- è£½å“å±æ€§ã®å®šç¾©ã¨ç®¡ç†
- è£½å“ãƒ¡ãƒ‡ã‚£ã‚¢ï¼ˆç”»åƒãƒ»å‹•ç”»ï¼‰ã®ç®¡ç†
- å¤šè¨€èªå¯¾å¿œ

### ãƒãƒ¼ãƒ å¢ƒç•Œ
**æ‹…å½“ãƒãƒ¼ãƒ **: Product Management Team
- ãƒ—ãƒ­ãƒ€ã‚¯ãƒˆãƒãƒãƒ¼ã‚¸ãƒ£ãƒ¼: 1å
- ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ã‚¨ãƒ³ã‚¸ãƒ‹ã‚¢: 2å
- ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ã‚¨ãƒ³ã‚¸ãƒ‹ã‚¢: 1å
- QAã‚¨ãƒ³ã‚¸ãƒ‹ã‚¢: 1å

### ãƒ‰ãƒ¡ã‚¤ãƒ³ã‚¿ã‚¤ãƒ—
Core Domainï¼ˆç«¶äº‰å„ªä½ã®æºæ³‰ï¼‰

---

## 2. ãƒ¦ãƒ“ã‚­ã‚¿ã‚¹è¨€èªï¼ˆUbiquitous Languageï¼‰

### ä¸»è¦æ¦‚å¿µ

**Productï¼ˆè£½å“ï¼‰**
è²©å£²å¯èƒ½ãªå•†å“ã‚¢ã‚¤ãƒ†ãƒ ã€‚SKUå˜ä½ã§ç®¡ç†ã•ã‚Œã€ã‚«ãƒ†ã‚´ãƒªã«å±ã™ã‚‹ã€‚

**Categoryï¼ˆã‚«ãƒ†ã‚´ãƒªï¼‰**
è£½å“ã‚’åˆ†é¡ã™ã‚‹éšå±¤æ§‹é€ ã€‚æœ€å¤§5éšå±¤ã¾ã§ã€‚ä¾‹: Electronics > Computers > Laptops > Gaming Laptops

**Attributeï¼ˆå±æ€§ï¼‰**
è£½å“ã®ç‰¹æ€§ã‚’è¡¨ã™åå‰-å€¤ãƒšã‚¢ã€‚ã‚«ãƒ†ã‚´ãƒªã”ã¨ã«å®šç¾©å¯èƒ½ï¼ˆä¾‹: Laptop ã‚«ãƒ†ã‚´ãƒªãªã‚‰ "CPU", "RAM", "Storage"ï¼‰

**SKU (Stock Keeping Unit)**
åœ¨åº«ç®¡ç†ã®æœ€å°å˜ä½ã€‚è£½å“ãƒãƒªã‚¨ãƒ¼ã‚·ãƒ§ãƒ³ï¼ˆè‰²ãƒ»ã‚µã‚¤ã‚ºç­‰ï¼‰ã”ã¨ã«ä¸€æ„ã€‚

**ProductMediaï¼ˆè£½å“ãƒ¡ãƒ‡ã‚£ã‚¢ï¼‰**
è£½å“ã«ç´ã¥ãç”»åƒãƒ»å‹•ç”»ãƒ»3Dãƒ¢ãƒ‡ãƒ«ç­‰ã®ãƒ¡ãƒ‡ã‚£ã‚¢ãƒ•ã‚¡ã‚¤ãƒ«ã€‚

**Catalogï¼ˆã‚«ã‚¿ãƒ­ã‚°ï¼‰**
ç‰¹å®šã®ç›®çš„ã§ã‚­ãƒ¥ãƒ¬ãƒ¼ãƒˆã•ã‚ŒãŸè£½å“é›†åˆï¼ˆä¾‹: "Summer Sale Catalog", "New Arrivals"ï¼‰

### ãƒ“ã‚¸ãƒã‚¹ãƒ«ãƒ¼ãƒ«

1. **è£½å“ã¯å¿…ãš1ã¤ä»¥ä¸Šã®ã‚«ãƒ†ã‚´ãƒªã«å±ã™ã‚‹**
2. **SKUã¯ã‚·ã‚¹ãƒ†ãƒ å…¨ä½“ã§ä¸€æ„**
3. **ã‚«ãƒ†ã‚´ãƒªéšå±¤ã¯å¾ªç’°å‚ç…§ã‚’è¨±å®¹ã—ãªã„**
4. **è£½å“ã®å‰Šé™¤ã¯è«–ç†å‰Šé™¤ï¼ˆsoft deleteï¼‰ã®ã¿**
5. **å±æ€§ã®å‹ã¯ã‚«ãƒ†ã‚´ãƒªãƒ¬ãƒ™ãƒ«ã§å®šç¾©ã•ã‚Œã‚‹**

### ãƒ—ãƒ­ã‚»ã‚¹

**è£½å“ç™»éŒ²ãƒ—ãƒ­ã‚»ã‚¹**
1. è£½å“åŸºæœ¬æƒ…å ±å…¥åŠ›
2. ã‚«ãƒ†ã‚´ãƒªé¸æŠ
3. å±æ€§å€¤è¨­å®šï¼ˆã‚«ãƒ†ã‚´ãƒªã«å¿œã˜ãŸå±æ€§ï¼‰
4. SKUç”Ÿæˆ
5. ãƒ¡ãƒ‡ã‚£ã‚¢ç™»éŒ²
6. æ‰¿èªãƒ—ãƒ­ã‚»ã‚¹ï¼ˆå¿…è¦ã«å¿œã˜ã¦ï¼‰
7. å…¬é–‹

**ã‚«ãƒ†ã‚´ãƒªæ§‹é€ å¤‰æ›´ãƒ—ãƒ­ã‚»ã‚¹**
1. å¤‰æ›´è¨ˆç”»ä½œæˆ
2. å½±éŸ¿ç¯„å›²åˆ†æï¼ˆé…ä¸‹ã®è£½å“æ•°ï¼‰
3. æ‰¿èª
4. è£½å“ã®å†é…ç½®
5. å¤‰æ›´é©ç”¨

---

## 3. é›†ç´„è¨­è¨ˆï¼ˆAggregatesï¼‰

### Aggregate 1: Productï¼ˆè£½å“é›†ç´„ï¼‰

**é›†ç´„ãƒ«ãƒ¼ãƒˆ**: Product
**ã‚¨ãƒ³ãƒ†ã‚£ãƒ†ã‚£**: ProductVariantï¼ˆè£½å“ãƒãƒªã‚¨ãƒ¼ã‚·ãƒ§ãƒ³ï¼‰
**å€¤ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆ**: 
- SKU
- Priceï¼ˆå‚ç…§ã®ã¿ã€æ‰€æœ‰ã¯ pricing-bcï¼‰
- Dimensionsï¼ˆå¯¸æ³•: å¹…ãƒ»é«˜ã•ãƒ»å¥¥è¡Œãƒ»é‡é‡ï¼‰
- ProductStatusï¼ˆDraft/Active/Discontinuedï¼‰

**ä¸å¤‰æ¡ä»¶ï¼ˆInvariantsï¼‰**:
- è£½å“ã¯å¿…ãš1ã¤ä»¥ä¸Šã®ã‚«ãƒ†ã‚´ãƒªã«å±ã™ã‚‹
- SKUã¯ã‚·ã‚¹ãƒ†ãƒ å…¨ä½“ã§ä¸€æ„
- å°‘ãªãã¨ã‚‚1ã¤ã®ProductVariantã‚’æŒã¤
- å…¬é–‹çŠ¶æ…‹ï¼ˆActiveï¼‰ã®è£½å“ã¯å¿…é ˆå±æ€§ãŒå…¨ã¦è¨­å®šã•ã‚Œã¦ã„ã‚‹

**ä¸»è¦æ“ä½œ**:
```typescript
class Product {
// ã‚³ãƒãƒ³ãƒ‰
create(name, categoryIds, attributes): Product
update(name?, categoryIds?, attributes?): void
addVariant(sku, options): ProductVariant
removeVariant(sku): void
publish(): void
discontinue(): void

// ã‚¯ã‚¨ãƒª
getVariants(): ProductVariant[]
isPublishable(): boolean
}
```

---

### Aggregate 2: Categoryï¼ˆã‚«ãƒ†ã‚´ãƒªé›†ç´„ï¼‰

**é›†ç´„ãƒ«ãƒ¼ãƒˆ**: Category
**ã‚¨ãƒ³ãƒ†ã‚£ãƒ†ã‚£**: ãªã—ï¼ˆå˜ä¸€ã‚¨ãƒ³ãƒ†ã‚£ãƒ†ã‚£ï¼‰
**å€¤ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆ**:
- CategoryPathï¼ˆéšå±¤ãƒ‘ã‚¹: "/electronics/computers/laptops"ï¼‰
- AttributeDefinitionï¼ˆå±æ€§å®šç¾©: åå‰ãƒ»å‹ãƒ»å¿…é ˆãƒ•ãƒ©ã‚°ï¼‰

**ä¸å¤‰æ¡ä»¶ï¼ˆInvariantsï¼‰**:
- ã‚«ãƒ†ã‚´ãƒªéšå±¤ã«å¾ªç’°å‚ç…§ãªã—
- æœ€å¤§éšå±¤æ·±åº¦ã¯5
- å±æ€§å®šç¾©ã®å‹ã¯ä¸€åº¦è¨­å®šã—ãŸã‚‰å¤‰æ›´ä¸å¯ï¼ˆæ–°è¦å±æ€§ã¨ã—ã¦è¿½åŠ ï¼‰

**ä¸»è¦æ“ä½œ**:
```typescript
class Category {
// ã‚³ãƒãƒ³ãƒ‰
create(name, parentId?): Category
rename(name): void
move(newParentId): void
addAttributeDefinition(name, type, required): void

// ã‚¯ã‚¨ãƒª
getPath(): CategoryPath
getAttributeDefinitions(): AttributeDefinition[]
getChildren(): Category[]
getAncestors(): Category[]
}
```

---

### Aggregate 3: ProductMediaï¼ˆè£½å“ãƒ¡ãƒ‡ã‚£ã‚¢é›†ç´„ï¼‰

**é›†ç´„ãƒ«ãƒ¼ãƒˆ**: ProductMedia
**ã‚¨ãƒ³ãƒ†ã‚£ãƒ†ã‚£**: ãªã—
**å€¤ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆ**:
- MediaUrlï¼ˆãƒ¡ãƒ‡ã‚£ã‚¢ãƒ•ã‚¡ã‚¤ãƒ«ã®URLï¼‰
- MediaTypeï¼ˆImage/Video/3DModelï¼‰
- MediaMetadataï¼ˆè§£åƒåº¦ã€ãƒ•ã‚¡ã‚¤ãƒ«ã‚µã‚¤ã‚ºç­‰ï¼‰

**ä¸å¤‰æ¡ä»¶ï¼ˆInvariantsï¼‰**:
- ãƒ¡ãƒ‡ã‚£ã‚¢ã¯å¿…ãš1ã¤ã®è£½å“ã«å±ã™ã‚‹
- è¡¨ç¤ºé †åºã¯0ä»¥ä¸Šã®ãƒ¦ãƒ‹ãƒ¼ã‚¯æ•´æ•°

**ä¸»è¦æ“ä½œ**:
```typescript
class ProductMedia {
// ã‚³ãƒãƒ³ãƒ‰
upload(productId, file, type): ProductMedia
reorder(newPosition): void
delete(): void

// ã‚¯ã‚¨ãƒª
getUrl(): string
getThumbnailUrl(): string
}
```

---

## 4. ãƒ‰ãƒ¡ã‚¤ãƒ³ã‚¤ãƒ™ãƒ³ãƒˆï¼ˆDomain Eventsï¼‰

### ProductCreated
```typescript
{
eventId: string
occurredAt: timestamp
productId: string
name: string
categoryIds: string[]
createdBy: string
}
```
**ç™ºç”Ÿã‚¿ã‚¤ãƒŸãƒ³ã‚°**: è£½å“ãŒæ–°è¦ä½œæˆã•ã‚ŒãŸæ™‚
**è³¼èª­è€…**: search-bcï¼ˆæ¤œç´¢ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹æ›´æ–°ï¼‰, recommendation-bcï¼ˆæ¨å¥¨ãƒ¢ãƒ‡ãƒ«æ›´æ–°ï¼‰

---

### ProductPublished
```typescript
{
eventId: string
occurredAt: timestamp
productId: string
publishedAt: timestamp
publishedBy: string
}
```
**ç™ºç”Ÿã‚¿ã‚¤ãƒŸãƒ³ã‚°**: è£½å“ãŒDraftã‹ã‚‰Activeã«ãªã£ãŸæ™‚
**è³¼èª­è€…**: inventory-bcï¼ˆåœ¨åº«æº–å‚™é€šçŸ¥ï¼‰, search-bcï¼ˆå…¬é–‹ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹è¿½åŠ ï¼‰

---

### ProductUpdated
```typescript
{
eventId: string
occurredAt: timestamp
productId: string
changes: {field: string, oldValue: any, newValue: any}[]
updatedBy: string
}
```
**ç™ºç”Ÿã‚¿ã‚¤ãƒŸãƒ³ã‚°**: è£½å“æƒ…å ±ãŒæ›´æ–°ã•ã‚ŒãŸæ™‚
**è³¼èª­è€…**: pricing-bcï¼ˆä¾¡æ ¼å†è¨ˆç®—ï¼‰, search-bcï¼ˆã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹æ›´æ–°ï¼‰

---

### CategoryRestructured
```typescript
{
eventId: string
occurredAt: timestamp
categoryId: string
oldParentId: string | null
newParentId: string | null
affectedProductIds: string[]
}
```
**ç™ºç”Ÿã‚¿ã‚¤ãƒŸãƒ³ã‚°**: ã‚«ãƒ†ã‚´ãƒªéšå±¤ãŒå¤‰æ›´ã•ã‚ŒãŸæ™‚
**è³¼èª­è€…**: search-bcï¼ˆãƒ•ã‚¡ã‚»ãƒƒãƒˆå†æ§‹ç¯‰ï¼‰, analytics-bcï¼ˆã‚«ãƒ†ã‚´ãƒªåˆ†ææ›´æ–°ï¼‰

---

### ProductDiscontinued
```typescript
{
eventId: string
occurredAt: timestamp
productId: string
reason: string
discontinuedBy: string
}
```
**ç™ºç”Ÿã‚¿ã‚¤ãƒŸãƒ³ã‚°**: è£½å“ãŒå»ƒç•ªã«ãªã£ãŸæ™‚
**è³¼èª­è€…**: inventory-bcï¼ˆåœ¨åº«å‡¦åˆ†è¨ˆç”»ï¼‰, order-bcï¼ˆç™ºæ³¨åœæ­¢ï¼‰

---

## 5. Context Mapï¼ˆä»–BCã¨ã®é–¢ä¿‚ï¼‰

### Downstream BCï¼ˆã“ã®BCãŒãƒ‡ãƒ¼ã‚¿ã‚’æä¾›ï¼‰

**pricing-bc** (Customer-Supplier)
- é–¢ä¿‚: Product Catalog ãŒ Upstreamã€Pricing ãŒ Downstream
- æä¾›ãƒ‡ãƒ¼ã‚¿: è£½å“IDã€åŸºæœ¬æƒ…å ±ï¼ˆåå‰ãƒ»ã‚«ãƒ†ã‚´ãƒªï¼‰
- ãƒ‘ã‚¿ãƒ¼ãƒ³: Published Languageï¼ˆProductDTOï¼‰
- ã‚¤ãƒ™ãƒ³ãƒˆ: ProductCreated, ProductUpdated

**inventory-bc** (Customer-Supplier)
- é–¢ä¿‚: Product Catalog ãŒ Upstreamã€Inventory ãŒ Downstream
- æä¾›ãƒ‡ãƒ¼ã‚¿: è£½å“IDã€SKU
- ãƒ‘ã‚¿ãƒ¼ãƒ³: Published Languageï¼ˆProductDTOï¼‰
- ã‚¤ãƒ™ãƒ³ãƒˆ: ProductPublished, ProductDiscontinued

**order-bc** (Customer-Supplier)
- é–¢ä¿‚: Product Catalog ãŒ Upstreamã€Order ãŒ Downstream
- æä¾›ãƒ‡ãƒ¼ã‚¿: è£½å“æƒ…å ±ï¼ˆèª­ã¿å–ã‚Šå°‚ç”¨ï¼‰
- ãƒ‘ã‚¿ãƒ¼ãƒ³: Open Host Serviceï¼ˆREST APIï¼‰
- åŒæœŸAPI: GET /products/{id}

**search-bc** (Partnership)
- é–¢ä¿‚: ç›¸äº’ä¾å­˜ï¼ˆProduct Catalog â†’ ã‚¤ãƒ™ãƒ³ãƒˆã€Search â†’ æ¤œç´¢APIï¼‰
- æä¾›ãƒ‡ãƒ¼ã‚¿: å…¨è£½å“æƒ…å ±ï¼ˆã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹ç”¨ï¼‰
- ãƒ‘ã‚¿ãƒ¼ãƒ³: Partnershipï¼ˆç·Šå¯†ãªé€£æºï¼‰
- ã‚¤ãƒ™ãƒ³ãƒˆ: ProductCreated, ProductUpdated, ProductDiscontinued

### Upstream BCï¼ˆã“ã®BCãŒãƒ‡ãƒ¼ã‚¿ã‚’å‚ç…§ï¼‰

**authentication-bc** (Conformist)
- é–¢ä¿‚: Authentication ãŒ Upstreamã€Product Catalog ãŒ Downstream
- ä¾å­˜ãƒ‡ãƒ¼ã‚¿: ãƒ¦ãƒ¼ã‚¶ãƒ¼IDã€æ¨©é™æƒ…å ±
- ãƒ‘ã‚¿ãƒ¼ãƒ³: Conformistï¼ˆèªè¨¼æ¨™æº–ã«å¾“ã†ï¼‰
- åŒæœŸAPI: GET /users/{id}/permissions

### ãã®ä»–ã®é–¢ä¿‚

**recommendation-bc** (Published Language)
- åŒæ–¹å‘ã ãŒç–çµåˆ
- Product Catalog â†’ ã‚¤ãƒ™ãƒ³ãƒˆï¼ˆè£½å“å¤‰æ›´ï¼‰
- Recommendation â†’ æ¨å¥¨çµæœï¼ˆåˆ¥é€”APIï¼‰

---

## 6. APIå¥‘ç´„æ¦‚è¦

### æä¾›APIï¼ˆOpen Host Serviceï¼‰

**è£½å“å–å¾—**
```
GET /api/v1/products/{productId}
Response: ProductDTO
```

**è£½å“æ¤œç´¢**
```
GET /api/v1/products?categoryId={id}&query={text}&page={n}
Response: PagedList<ProductSummaryDTO>
```

**ã‚«ãƒ†ã‚´ãƒªéšå±¤å–å¾—**
```
GET /api/v1/categories
Response: CategoryTreeDTO
```

**è£½å“ä½œæˆ**
```
POST /api/v1/products
Request: CreateProductCommand
Response: ProductDTO
```

### ä¾å­˜APIï¼ˆä»–BCã¸ã®ä¾å­˜ï¼‰

**èªè¨¼ãƒ»èªå¯ç¢ºèª**
```
GET /api/v1/auth/permissions
â†’ authentication-bc
```

**åœ¨åº«ç¢ºèªï¼ˆã‚ªãƒ—ã‚·ãƒ§ãƒŠãƒ«ï¼‰**
```
GET /api/v1/inventory/stock/{sku}
â†’ inventory-bcï¼ˆè¡¨ç¤ºç”¨ã®ã¿ã€æ‰€æœ‰ã¯ã—ãªã„ï¼‰
```

---

## 7. æŠ€è¡“ã‚¹ã‚¿ãƒƒã‚¯æ¨å¥¨

### ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰
- **è¨€èª**: TypeScript / Node.js
- **ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯**: NestJSï¼ˆDDDå¯¾å¿œï¼‰
- **ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹**: PostgreSQLï¼ˆè£½å“ãƒã‚¹ã‚¿ï¼‰
- **ã‚­ãƒ£ãƒƒã‚·ãƒ¥**: Redisï¼ˆèª­ã¿å–ã‚Šè² è·è»½æ¸›ï¼‰
- **ã‚¤ãƒ™ãƒ³ãƒˆãƒã‚¹**: RabbitMQ / Kafka

### API
- **ã‚¹ã‚¿ã‚¤ãƒ«**: RESTful API
- **ä»•æ§˜**: OpenAPI 3.0
- **èªè¨¼**: JWTï¼ˆauthentication-bcç™ºè¡Œï¼‰
- **ãƒ¬ãƒ¼ãƒˆåˆ¶é™**: ã‚ã‚Š

### ç›£è¦–ãƒ»å¯è¦³æ¸¬æ€§
- **ãƒ­ã‚°**: JSONæ§‹é€ åŒ–ãƒ­ã‚°
- **ãƒ¡ãƒˆãƒªã‚¯ã‚¹**: Prometheus
- **ãƒˆãƒ¬ãƒ¼ã‚·ãƒ³ã‚°**: Jaeger

---

## 8. æ¬¡ã®ã‚¹ãƒ†ãƒƒãƒ—

### å³åº§ã®æ¬¡ã®ã‚¢ã‚¯ã‚·ãƒ§ãƒ³

1. **ä»–ã®ã‚µãƒ–ãƒ‰ãƒ¡ã‚¤ãƒ³ã®BCå®šç¾©**
```bash
/parasol:3-capabilities cl3 product-pricing
/parasol:3-capabilities cl3 order-management
# ... å…¨ã‚µãƒ–ãƒ‰ãƒ¡ã‚¤ãƒ³
```

### å…¨BCå®šç¾©å®Œäº†å¾Œ

2. **Phase 4: Architecture - Context Mapçµ±åˆ**
```bash
/parasol:4-architecture
```

Phase 4ã§ã¯ï¼š
- å…¨BCã®é–¢ä¿‚ã‚’çµ±åˆã—ãŸContext Mapã‚’ä½œæˆ
- ã‚µãƒ¼ãƒ“ã‚¹å¢ƒç•Œã‚’ç¢ºå®š
- çµ±åˆãƒ‘ã‚¿ãƒ¼ãƒ³ï¼ˆåŒæœŸ/éåŒæœŸï¼‰ã‚’æ±ºå®š
- ADRï¼ˆArchitecture Decision Recordsï¼‰ã‚’ä½œæˆ
```


## ã‚¨ãƒ©ãƒ¼ã‚±ãƒ¼ã‚¹

### Phase 2 ãŒå®Œäº†ã—ã¦ã„ãªã„

```
âš ï¸ Phase 2: Value Definition ãŒå®Œäº†ã—ã¦ã„ã¾ã›ã‚“

Value Streamsã‚’å…ˆã«å®šç¾©ã—ã¦ãã ã•ã„:
â†’ `/parasol:2-value`

å¿…è¦ãªæˆæœç‰©:
- value-streams-mapping.md (VS0-VS7)
- enterprise-activities.md
```

### CL1ãŒå®Œäº†ã—ã¦ã„ãªã„ã®ã«CL2ã‚’å®Ÿè¡Œ

```
âš ï¸ CL1: Domain Classification ãŒå®Œäº†ã—ã¦ã„ã¾ã›ã‚“

å…ˆã«ãƒ‰ãƒ¡ã‚¤ãƒ³åˆ†é¡ã‚’å®Ÿè¡Œã—ã¦ãã ã•ã„:
â†’ `/parasol:3-capabilities cl1`

å¿…è¦ãªæˆæœç‰©:
- strategic-classification.md
```

### CL2ãŒå®Œäº†ã—ã¦ã„ãªã„ã®ã«CL3ã‚’å®Ÿè¡Œ

```
âš ï¸ CL2: Subdomain Design ãŒå®Œäº†ã—ã¦ã„ã¾ã›ã‚“

å…ˆã«ã‚µãƒ–ãƒ‰ãƒ¡ã‚¤ãƒ³è¨­è¨ˆã‚’å®Ÿè¡Œã—ã¦ãã ã•ã„:
â†’ `/parasol:3-capabilities cl2`

å¿…è¦ãªæˆæœç‰©:
- core-domain-subdomains.md
- supporting-domain-subdomains.md
- generic-domain-subdomains.md
```

### ç„¡åŠ¹ãªã‚µãƒ–ã‚³ãƒãƒ³ãƒ‰

```
âŒ ç„¡åŠ¹ãªã‚µãƒ–ã‚³ãƒãƒ³ãƒ‰: xyz

æœ‰åŠ¹ãªã‚µãƒ–ã‚³ãƒãƒ³ãƒ‰:
- cl1: Domain Classification (æˆ¦ç•¥çš„åˆ†é¡)
- cl2: Subdomain Design (ã‚µãƒ–ãƒ‰ãƒ¡ã‚¤ãƒ³è¨­è¨ˆ)
- cl3: Bounded Context Definition (BCå®šç¾©)

ä½¿ç”¨ä¾‹:
â†’ `/parasol:3-capabilities cl1`
```

### å­˜åœ¨ã—ãªã„Value StreamæŒ‡å®šï¼ˆCL2ï¼‰

```
âŒ ç„¡åŠ¹ãªValue StreamæŒ‡å®š: xyz

æœ‰åŠ¹ãªValue Stream:
- VS0: ãƒ“ã‚¸ãƒ§ãƒ³ç­–å®šãƒ»æˆ¦ç•¥ç«‹æ¡ˆ (Generic)
- VS1: å¸‚å ´æ©Ÿä¼šç™ºè¦‹ (Supporting)
- VS2: è£½å“é–‹ç™ºãƒ»ã‚¤ãƒãƒ™ãƒ¼ã‚·ãƒ§ãƒ³ (Core) â† è©³ç´°åŒ–æ¸ˆã¿
- VS3: ãƒ–ãƒ©ãƒ³ãƒ‡ã‚£ãƒ³ã‚° (Core)
- ...

ä½¿ç”¨ä¾‹:
â†’ `/parasol:3-capabilities cl2 VS2`

æ³¨æ„: è©³ç´°åŒ–ã•ã‚Œã¦ã„ãªã„VSã¯å…ˆã«Phase 2ã§è©³ç´°åŒ–ã—ã¦ãã ã•ã„:
â†’ `/parasol:2-value VS3`
```

### å­˜åœ¨ã—ãªã„ã‚µãƒ–ãƒ‰ãƒ¡ã‚¤ãƒ³æŒ‡å®šï¼ˆCL3ï¼‰

```
âŒ ã‚µãƒ–ãƒ‰ãƒ¡ã‚¤ãƒ³ "xyz" ãŒè¦‹ã¤ã‹ã‚Šã¾ã›ã‚“

å®šç¾©æ¸ˆã¿ã‚µãƒ–ãƒ‰ãƒ¡ã‚¤ãƒ³ä¸€è¦§:
â†’ `/parasol:status phase3` ã§ç¢ºèª

ã¾ãŸã¯:
â†’ `/parasol:3-capabilities cl3` ã§ã‚¤ãƒ³ã‚¿ãƒ©ã‚¯ãƒ†ã‚£ãƒ–é¸æŠ
```

## ã‚µãƒ–ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆå®Ÿè¡Œæ™‚ã®æ³¨æ„

### zen-architect ãŒè¿”ã™ã‚¨ãƒ©ãƒ¼

ã‚‚ã—zen-architectãŒååˆ†ãªæƒ…å ±ãŒãªã„ã¨åˆ¤æ–­ã—ãŸå ´åˆï¼š

```
âš ï¸ zen-architect ã‹ã‚‰ã®ãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯:

"Phase 2ã®Value Streamså®šç¾©ãŒä¸å®Œå…¨ã§ã™ã€‚
ç‰¹ã«VS2ï¼ˆè£½å“é–‹ç™ºï¼‰ã¨VS4ï¼ˆè²©å£²ãƒ»æµé€šï¼‰ã®è©³ç´°ãŒä¸è¶³ã—ã¦ã„ã¾ã™ã€‚

æ¨å¥¨ã‚¢ã‚¯ã‚·ãƒ§ãƒ³:
1. `/parasol:2-value VS2` ã§VS2ã‚’è©³ç´°åŒ–
2. `/parasol:2-value VS4` ã§VS4ã‚’è©³ç´°åŒ–
3. ãã®å¾Œã€å†åº¦ `/parasol:3-capabilities cl1` ã‚’å®Ÿè¡Œ"
```

â†’ ã“ã®å ´åˆã€zen-architectã®æ¨å¥¨ã«å¾“ã£ã¦å‰ã®Phaseã‚’å……å®Ÿã•ã›ã¦ã‹ã‚‰å†å®Ÿè¡Œ

### api-contract-designer ãŒè¿”ã™ã‚¨ãƒ©ãƒ¼

ã‚‚ã—api-contract-designerãŒBCå®šç¾©ãŒä¸ååˆ†ã¨åˆ¤æ–­ã—ãŸå ´åˆï¼š

```
âš ï¸ api-contract-designer ã‹ã‚‰ã®ãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯:

"Bounded Contextå®šç¾©ã®é›†ç´„è¨­è¨ˆãŒä¸æ˜ç¢ºã§ã™ã€‚
ç‰¹ã« Product é›†ç´„ã®ãƒ©ã‚¤ãƒ•ã‚µã‚¤ã‚¯ãƒ«ç®¡ç†ãŒæœªå®šç¾©ã§ã™ã€‚

æ¨å¥¨ã‚¢ã‚¯ã‚·ãƒ§ãƒ³:
1. zen-architectã« Product ã®ãƒ©ã‚¤ãƒ•ã‚µã‚¤ã‚¯ãƒ«ï¼ˆDraftâ†’Reviewâ†’Publishedâ†’Discontinuedï¼‰ã‚’æ˜ç¢ºåŒ–ã™ã‚‹ã‚ˆã†æŒ‡ç¤º
2. ãã®å¾Œã€å†åº¦APIå¥‘ç´„è¨­è¨ˆã‚’å®Ÿè¡Œ"
```

â†’ ã“ã®å ´åˆã€BCå®šç¾©ã‚’è£œå®Œã—ã¦ã‹ã‚‰å†å®Ÿè¡Œ

## é€²æ—ç¢ºèª

Phase 3ã®é€²æ—ã‚’ç¢ºèªï¼š

```bash
/parasol:status phase3
```

å‡ºåŠ›ä¾‹:
```
ğŸ“Š Phase 3: Capabilities - è©³ç´°ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹

3a. Domain Classification (CL1)
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
âœ… strategic-classification.md
Core Domains: VS2, VS3, VS4
Supporting Domains: VS1, VS5, VS6, VS7
Generic Domains: VS0

3b. Subdomain Design (CL2) - Value Streamåˆ¥
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
âœ… vs2-subdomains.md (Core: è£½å“é–‹ç™º - 4ã‚µãƒ–ãƒ‰ãƒ¡ã‚¤ãƒ³)
â¸ï¸ vs3-subdomains.md (Core: ãƒ–ãƒ©ãƒ³ãƒ‡ã‚£ãƒ³ã‚° - å¾…æ©Ÿä¸­)
â¸ï¸ vs4-subdomains.md (Core: è²©å£²ãƒ»æµé€š - å¾…æ©Ÿä¸­)
â¸ï¸ vs0-subdomains.md (Generic: ãƒ“ã‚¸ãƒ§ãƒ³ç­–å®š - å¾…æ©Ÿä¸­)
... ä»–4å€‹

å®Œäº†: 1/8 VS (12.5%)

3c. Bounded Context Design (CL3)
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
âœ… vs2-fermentation-tech-bc.md (Core)
âœ… vs2-product-development-bc.md (Core)
â¸ï¸ vs2-quality-assurance-bc.md (å¾…æ©Ÿä¸­)
â¸ï¸ vs2-packaging-innovation-bc.md (å¾…æ©Ÿä¸­)
... ä»–Nå€‹

å®Œäº†: 2/4 BC (VS2ã®ã¿ã€50%)

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹: ğŸ”„ é€²è¡Œä¸­
å“è³ª: ğŸŸ¡ è¦ç¶™ç¶šï¼ˆCL2ã¨BCå®šç¾©ã‚’å®Œäº†ã•ã›ã‚‹å¿…è¦ã‚ã‚Šï¼‰

æ¬¡ã®ã‚¢ã‚¯ã‚·ãƒ§ãƒ³:
1. CL2ã®ç¶™ç¶š: `/parasol:3-capabilities cl2 VS3` (Coreå„ªå…ˆ)
2. BCå®šç¾©: `/parasol:3-capabilities cl3 vs2-quality-assurance`
3. å…¨BCå®Œäº†å¾Œ: `/parasol:4-architecture`

æ¨å¥¨é †åº:
å„ªå…ˆ: VS2, VS3, VS4 (Core Domain)
æ¬¡: VS1, VS5, VS6, VS7 (Supporting Domain)
æœ€å¾Œ: VS0 (Generic Domain)
```

## ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³

Phase 3 å®Œäº†å¾Œã€æ¤œè¨¼ã‚’å®Ÿè¡Œï¼š

```bash
/parasol:validate phase3
```

æ¤œè¨¼é …ç›®:
- âœ… CL1: å…¨VSï¼ˆVS0-VS7ï¼‰ã®ãƒ‰ãƒ¡ã‚¤ãƒ³åˆ†é¡æ¸ˆã¿
- âœ… CL2: è©³ç´°åŒ–æ¸ˆã¿VSã®ã‚µãƒ–ãƒ‰ãƒ¡ã‚¤ãƒ³å®šç¾©å®Œäº†
- âœ… CL3: å…¨ã‚µãƒ–ãƒ‰ãƒ¡ã‚¤ãƒ³ã®BCå®šç¾©å®Œäº†
- âœ… å‘½åè¦å‰‡: vs{N}-{name} å½¢å¼ã€kebab-caseéµå®ˆ
- âœ… ãƒˆãƒ¬ãƒ¼ã‚µãƒ“ãƒªãƒ†ã‚£: VSè©³ç´° â†’ Subdomain â†’ BC ã®ç´ä»˜ãç¢ºèª

## æ¬¡ã®ã‚¹ãƒ†ãƒƒãƒ—

Phase 3 (å…¨CLå®Œäº†) å¾Œ:

```bash
# Phase 4: Architecture ã¸é€²ã‚€
/parasol:4-architecture
```

Phase 4ã§ã¯:
- å…¨BCã‚’çµ±åˆã—ãŸContext Mapã‚’ä½œæˆ
- ã‚µãƒ¼ãƒ“ã‚¹å¢ƒç•Œã‚’ç¢ºå®šï¼ˆãƒã‚¤ã‚¯ãƒ­ã‚µãƒ¼ãƒ“ã‚¹æ§‹æˆï¼‰
- çµ±åˆãƒ‘ã‚¿ãƒ¼ãƒ³ã‚’æ±ºå®šï¼ˆåŒæœŸ/éåŒæœŸã€API/ã‚¤ãƒ™ãƒ³ãƒˆï¼‰
- Architecture Decision Records (ADR) ã‚’ä½œæˆ

## é–¢é€£ã‚³ãƒãƒ³ãƒ‰

- `/parasol:2-value` - Phase 2: Value Definitionï¼ˆå‰ææ¡ä»¶ï¼‰
- `/parasol:4-architecture` - Phase 4: Architectureï¼ˆæ¬¡ã®ã‚¹ãƒ†ãƒƒãƒ—ï¼‰
- `/parasol:status phase3` - Phase 3 ã®è©³ç´°é€²æ—ç¢ºèª
- `/parasol:validate phase3` - Phase 3 ã®æ¤œè¨¼
- `/parasol:0-help concepts` - ä¸»è¦æ¦‚å¿µã®è©³ç´°èª¬æ˜

## å‚è€ƒè³‡æ–™

### DDDæˆ¦ç•¥çš„è¨­è¨ˆ
- Eric Evans "Domain-Driven Design"
- Vaughn Vernon "Implementing Domain-Driven Design"

### Context Mapping ãƒ‘ã‚¿ãƒ¼ãƒ³
- Customer-Supplier: ä¸Šæµãƒ»ä¸‹æµã®æ˜ç¢ºãªé–¢ä¿‚
- Partnership: ç›¸äº’ä¾å­˜ã®ç·Šå¯†ãªé–¢ä¿‚
- Published Language: æ¨™æº–åŒ–ã•ã‚ŒãŸãƒ‡ãƒ¼ã‚¿å½¢å¼
- Open Host Service: å…¬é–‹APIæä¾›
- Conformist: ä¸Šæµã«å¾“ã†
- Anticorruption Layer: ç¿»è¨³å±¤ã§åˆ†é›¢

### ãƒã‚¤ã‚¯ãƒ­ã‚µãƒ¼ãƒ“ã‚¹è¨­è¨ˆ
- Sam Newman "Building Microservices"
- Chris Richardson "Microservices Patterns"
