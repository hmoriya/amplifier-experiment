# 3軸の対応関係：問題/解決領域、WHAT/HOW、ビジネス/システム

**バージョン**: 1.0
**最終更新**: 2025-01-09
**位置づけ**: V5設計思想の核心概念

---

## 核心的主張

```
┌─────────────────────────────────────────────────────────────────────────────┐
│                                                                              │
│  V5では3つの軸が存在し、「概ね対応」するが「完全には一致しない」            │
│                                                                              │
│  【軸1】問題領域 / 解決領域（DDD: Problem/Solution Space）                  │
│  【軸2】WHAT / HOW（Parasol: 視点）                                         │
│  【軸3】ビジネス分析 / システム設計（担当者・Phase）                        │
│                                                                              │
│  この3軸の関係を正しく理解することが、V5を使いこなす鍵である               │
│                                                                              │
└─────────────────────────────────────────────────────────────────────────────┘
```

---

## 3軸の全体像

```
┌─────────────────────────────────────────────────────────────────────────────────┐
│     問題領域/解決領域         WHAT/HOW              ビジネス/システム           │
│     (DDD Space)             (Parasol視点)          (担当者・Phase)              │
├─────────────────────────────────────────────────────────────────────────────────┤
│                                                                                 │
│  ┌─────────────────┐     ┌─────────────────┐     ┌─────────────────────────┐   │
│  │  問題領域        │     │  WHAT           │     │  ビジネス分析           │   │
│  │  Problem Space  │     │  何を（能力）    │     │  Phase 1-3              │   │
│  │                 │     │                 │     │                         │   │
│  │  ・Domain       │     │  ・CL1          │     │  ・経営層               │   │
│  │  ・Subdomain    │     │  ・CL2          │     │  ・事業部長             │   │
│  │                 │     │  ・CL3          │     │  ・業務担当             │   │
│  │                 │     ├─────────────────┤     │                         │   │
│  │                 │     │  HOW業務        │     │                         │   │
│  │                 │     │  ・BO           │     │                         │   │
│  │                 │     │  ・ActorUseCase │     │                         │   │
│  └────────┬────────┘     └────────┬────────┘     └────────────┬────────────┘   │
│           │                       │                           │               │
│  ═════════╪═══════════════════════╪═══════════════════════════╪═══════════════ │
│           │    CL2 = Subdomain = BC境界（境界線）              │               │
│  ═════════╪═══════════════════════╪═══════════════════════════╪═══════════════ │
│           │                       │                           │               │
│  ┌────────┴────────┐     ┌────────┴────────┐     ┌────────────┴────────────┐   │
│  │  解決領域        │     │  HOW技術        │     │  システム設計           │   │
│  │  Solution Space │     │  どう（実現）    │     │  Phase 4-6              │   │
│  │                 │     │                 │     │                         │   │
│  │  ・BC実装       │     │  ・BC設計       │     │  ・アーキテクト         │   │
│  │  ・Model        │     │  ・API契約      │     │  ・開発者               │   │
│  │  ・Code         │     │  ・DB設計       │     │                         │   │
│  └─────────────────┘     └─────────────────┘     └─────────────────────────┘   │
│                                                                                 │
└─────────────────────────────────────────────────────────────────────────────────┘
```

---

## 各軸の定義

### 軸1：問題領域 / 解決領域（DDD: Space）

| 領域 | 定義 | 問い | 成果物 |
|------|------|------|--------|
| **問題領域（Problem Space）** | ビジネスドメインの理解、何を解決すべきか | 「何が問題か？」「何が必要か？」 | Subdomain定義、要件 |
| **解決領域（Solution Space）** | 技術的解決策の設計・実装 | 「どう解決するか？」 | BC実装、コード |

### 軸2：WHAT / HOW（Parasol: 視点）

| 視点 | 定義 | 対象 | V5での概念 |
|------|------|------|-----------|
| **WHAT** | 何を（能力・要件の定義） | 能力階層 | CL1, CL2, CL3 |
| **HOW業務** | どう業務遂行するか | 業務活動 | BO, ActorUseCase, View |
| **HOW技術** | どう実装するか | 技術設計 | BC設計, API, DB |

### 軸3：ビジネス分析 / システム設計（担当者・Phase）

| 区分 | 定義 | Phase | 担当者 |
|------|------|-------|--------|
| **ビジネス分析** | ビジネス観点での要件・業務定義 | Phase 1-3 | 経営層、事業部長、業務担当、BA |
| **システム設計** | 技術観点での設計・実装 | Phase 4-6 | アーキテクト、開発者 |

---

## 境界線の「ズレ」：重要な発見

### 3軸は「概ね対応」するが「完全には一致しない」

```
┌─────────────────────────────────────────────────────────────────────────────────┐
│                          境界線のズレ                                           │
├─────────────────────────────────────────────────────────────────────────────────┤
│                                                                                 │
│  【ズレ1】問題領域内にもHOWがある                                               │
│  ─────────────────────────────────────────────────────────────────────────────  │
│                                                                                 │
│    問題領域（Problem Space）                                                    │
│    ┌─────────────────────────────────────────────────────────────────────┐     │
│    │  WHAT: CL1 → CL2 → CL3（能力階層）                                   │     │
│    │                                                                      │     │
│    │  HOW業務: BO → ActorUseCase → View                                  │     │
│    │           ↑                                                          │     │
│    │           └── 問題領域内のHOW = まだビジネス分析                     │     │
│    └─────────────────────────────────────────────────────────────────────┘     │
│                                                                                 │
│    解決領域（Solution Space）                                                   │
│    ┌─────────────────────────────────────────────────────────────────────┐     │
│    │  HOW技術: BC設計 → API → DB → Code                                  │     │
│    │           ↑                                                          │     │
│    │           └── 解決領域のHOW = システム設計                           │     │
│    └─────────────────────────────────────────────────────────────────────┘     │
│                                                                                 │
│  ─────────────────────────────────────────────────────────────────────────────  │
│                                                                                 │
│  【ズレ2】CL2=Subdomain=BC境界の意味                                            │
│  ─────────────────────────────────────────────────────────────────────────────  │
│                                                                                 │
│    DDD的解釈:                                                                   │
│      Subdomain（問題）とBC（解決）は別概念、N:M対応もあり得る                   │
│                                                                                 │
│    V5的解釈:                                                                    │
│      CL2 = Subdomain ≒ BC境界、1:1対応を前提                                   │
│      → 「問題を理解すれば解決境界も決まる」という思想                           │
│      → 境界は問題領域で「発見」、解決領域で「確定」                             │
│                                                                                 │
│  ─────────────────────────────────────────────────────────────────────────────  │
│                                                                                 │
│  【ズレ3】ビジネス分析の範囲                                                    │
│  ─────────────────────────────────────────────────────────────────────────────  │
│                                                                                 │
│    伝統的解釈:                                                                  │
│      ビジネス分析 = 問題領域（要件定義まで）= WHATのみ                          │
│                                                                                 │
│    V5的解釈:                                                                    │
│      ビジネス分析 = Phase1-3（BO/ActorUCまで含む）= WHAT + HOW業務             │
│      → 「業務のHOW」もビジネス分析の一部                                       │
│      → システム設計は「技術のHOW」から始まる                                   │
│                                                                                 │
└─────────────────────────────────────────────────────────────────────────────────┘
```

---

## Phase対応表

| Phase | 空間 | WHAT/HOW | 分析/設計 | 主要概念 | 担当者 |
|-------|------|----------|-----------|----------|--------|
| **Phase 1** | - | 前提情報 | ビジネス分析 | Context（組織・市場・制約） | BA |
| **Phase 2** | Value | WHAT価値 | ビジネス分析 | VS0-VS7, VMS, 価値定義 | BA/PO |
| **Phase 3前半** | Problem | WHAT能力 | ビジネス分析 | CL1→CL2→CL3 | BA/ドメインエキスパート |
| **Phase 3後半** | Problem | **HOW業務** | ビジネス分析 | BO, ActorUseCase, View | BA/UX |
| **--- 境界 ---** | | | | | |
| **Phase 4** | Solution | WHAT技術 | システム設計 | BC境界確定, Context Map | アーキテクト |
| **Phase 5** | Solution | **HOW技術** | システム設計 | ドメインモデル, API, DB | 設計者/開発者 |
| **Phase 6** | Solution | 成果物 | 実装 | Code, Test, Deploy | 開発者 |

---

## HOWの二層構造

```
┌─────────────────────────────────────────────────────────────────────────────────┐
│                           HOWの二層構造                                         │
├─────────────────────────────────────────────────────────────────────────────────┤
│                                                                                 │
│  【WHAT】能力階層（CL1 → CL2 → CL3）                                           │
│                      │                   │                                      │
│                      │                   │                                      │
│                      ▼                   ▼                                      │
│  ┌───────────────────────────┐   ┌───────────────────────────────────────────┐ │
│  │  【HOW業務】               │   │  【HOW技術】                              │ │
│  │  CL3のHOW                 │   │  CL2のHOW                                │ │
│  │  Phase 3                  │   │  Phase 4-5                               │ │
│  ├───────────────────────────┤   ├───────────────────────────────────────────┤ │
│  │  BO: 業務オペレーション   │   │  BC: 実装設計                             │ │
│  │  = Epic/Feature           │   │  ├── 集約/Entity/VO                      │ │
│  │  = ハイレベルUC           │   │  ├── ドメインイベント                    │ │
│  │  = 複数アクター協調       │   │  ├── API契約                             │ │
│  │         │                 │   │  └── ユビキタス言語                      │ │
│  │         ▼                 │   │                                          │ │
│  │  Actor UseCase            │   │  言語: 技術用語 + ユビキタス言語         │ │
│  │  = User Story             │   │  担当: アーキテクト、開発者              │ │
│  │  = 単一アクター完結       │   │                                          │ │
│  │         │                 │   │                                          │ │
│  │         ▼                 │   │                                          │ │
│  │  View = Task              │   │                                          │ │
│  │                           │   │                                          │ │
│  │  言語: 業務用語           │   │                                          │ │
│  │  担当: 業務担当者、BA     │   │                                          │ │
│  └───────────────────────────┘   └───────────────────────────────────────────┘ │
│                                                                                 │
│  【重要】                                                                       │
│  HOW業務（BO/ActorUC）は問題領域内にあり、ビジネス分析の範囲                   │
│  HOW技術（BC設計）は解決領域にあり、システム設計の範囲                         │
│                                                                                 │
└─────────────────────────────────────────────────────────────────────────────────┘
```

---

## よくある混乱と整理

### 混乱1：「HOW = システム設計」という誤解

```
┌─────────────────────────────────────────────────────────────────────────────────┐
│  【誤解】                                                                       │
│    HOWはすべてシステム設計の領域である                                          │
│                                                                                 │
│  【正解】                                                                       │
│    HOWには2種類ある：                                                           │
│    ・HOW業務（BO/ActorUC）→ 問題領域内 → ビジネス分析                         │
│    ・HOW技術（BC設計）    → 解決領域内 → システム設計                         │
│                                                                                 │
│  【V5での整理】                                                                 │
│    Phase 3: WHAT（CL1-CL3）+ HOW業務（BO/ActorUC）= ビジネス分析               │
│    Phase 4-6: HOW技術（BC設計/実装）= システム設計                              │
└─────────────────────────────────────────────────────────────────────────────────┘
```

### 混乱2：「Subdomain = BC」への疑問

```
┌─────────────────────────────────────────────────────────────────────────────────┐
│  【疑問】                                                                       │
│    DDDではSubdomain（問題）とBC（解決）は別概念では？                           │
│                                                                                 │
│  【V5の立場】                                                                   │
│    CL2 = Subdomain ≒ BC境界 として1:1対応を前提とする                          │
│                                                                                 │
│  【理由】                                                                       │
│    1. 時間軸分割により、ステージ = Subdomain = BC が自然に対応                 │
│    2. 「問題を正しく理解すれば、解決境界も決まる」という思想                   │
│    3. 実務的にN:M対応は複雑すぎて管理困難                                      │
│                                                                                 │
│  【2段階アプローチ】                                                            │
│    Phase 3: CL2でSubdomain（BC境界）を「発見」                                  │
│    Phase 4: BCとして「確定」（Context Map作成）                                 │
└─────────────────────────────────────────────────────────────────────────────────┘
```

### 混乱3：「ビジネス分析はWHATだけ」という誤解

```
┌─────────────────────────────────────────────────────────────────────────────────┐
│  【誤解】                                                                       │
│    ビジネス分析 = 要件定義（WHAT）だけ                                          │
│    HOWはすべて技術者の仕事                                                      │
│                                                                                 │
│  【正解】                                                                       │
│    ビジネス分析の範囲：                                                         │
│    ・WHAT: 何が必要か（能力定義）→ CL1-CL3                                     │
│    ・HOW業務: どう業務遂行するか → BO, ActorUseCase, View                      │
│                                                                                 │
│    システム設計の範囲：                                                         │
│    ・HOW技術: どう実装するか → BC設計, API, DB, Code                           │
│                                                                                 │
│  【実務的意味】                                                                 │
│    ・BO/ActorUCは業務担当者・BAが定義すべき（技術者任せにしない）              │
│    ・業務の流れを知らない技術者がBO/UCを書くと現実と乖離する                   │
└─────────────────────────────────────────────────────────────────────────────────┘
```

---

## まとめ：3軸の対応関係

```
┌─────────────────────────────────────────────────────────────────────────────────┐
│                           3軸対応の結論                                         │
├─────────────────────────────────────────────────────────────────────────────────┤
│                                                                                 │
│  【問題領域】          ≒ 【WHAT + HOW業務】    ≒ 【ビジネス分析】              │
│  Problem Space           CL1-CL3 + BO/UC          Phase 1-3                    │
│                                                                                 │
│  ════════════════════ CL2 = Subdomain = BC境界 ════════════════════            │
│                                                                                 │
│  【解決領域】          ≒ 【HOW技術】           ≒ 【システム設計】              │
│  Solution Space          BC設計/API/DB/Code       Phase 4-6                    │
│                                                                                 │
├─────────────────────────────────────────────────────────────────────────────────┤
│                                                                                 │
│  【キーポイント】                                                               │
│                                                                                 │
│  1. 3軸は「概ね対応」するが「完全には一致しない」                              │
│  2. 問題領域内にも「HOW業務」が存在する                                        │
│  3. ビジネス分析は「HOW業務」まで含む                                          │
│  4. システム設計は「HOW技術」から始まる                                        │
│  5. CL2=Subdomain=BC境界 が3軸の共通境界線                                     │
│                                                                                 │
└─────────────────────────────────────────────────────────────────────────────────┘
```

---

## 関連ドキュメント

- [time-axis-decomposition.md](./time-axis-decomposition.md) - 時間軸でのケイパビリティ分割
- [bc-database-design.md](./bc-database-design.md) - BC単位のデータベース設計
- [V5-BIZBOK-DESIGN-PHILOSOPHY-JA.md](../reference/V5-BIZBOK-DESIGN-PHILOSOPHY-JA.md) - BizBOKとの設計思想比較

---

**Parasol V5 - 3軸を統合した価値駆動設計フレームワーク**
