# 第9章　価値トレーサビリティシステム ― 設計の純度を保つ仕組み

## はじめに：失われた価値の物語

ある大手製造業でのプロジェクトレビュー会議。

プロジェクトマネージャーが誇らしげに報告します。
「計画通り、新システムが完成しました。予算内、納期通りです」

でも、現場からは不満の声が。
「これ、私たちが求めていたものと違います...」

経営陣も首をかしげます。
「投資対効果が見えないんだが...」

調査の結果、判明したのは悲しい事実でした。

最初に定義した「製造リードタイムを50%短縮」という価値は、いつの間にか「在庫管理システムの刷新」にすり替わっていました。システムは立派に動いていますが、リードタイムは5%しか改善されていません。

価値が、どこかで迷子になってしまったのです。

この章では、Parasol V5の最重要概念である「価値トレーサビリティシステム」を学びます。食品のトレーサビリティが「農場から食卓まで」を追跡するように、システム開発における「価値から実装まで」を追跡する技術です。

## 価値トレーサビリティとは何か

### 概念の本質

価値トレーサビリティとは、「定義された価値が、設計・実装のすべての段階で保持され、実現されることを保証する仕組み」です。

| 観点 | 食品トレーサビリティ | 価値トレーサビリティ |
|------|----------------------|----------------------|
| **目的** | 農場から食卓まで品質を保証 | ビジネス価値から実装まで純度を保証 |
| **追跡対象** | 生産地 → 加工過程 → 流通経路 → 品質検査 | 価値定義（Phase 2）→ ケイパビリティ設計（Phase 3）→ アーキテクチャ（Phase 4）→ サービス実装（Phase 5-6）→ 運用成果（Phase 7） |
| **成果** | 安全な食品 | 価値を実現するシステム |

### 各フェーズで追跡するもの

では、具体的に各フェーズで「何を」「どのように」追跡するのでしょうか。

| フェーズ | 追跡対象 | 追跡方法 | 確認ポイント |
|---------|---------|---------|-------------|
| **Phase 2（価値定義）** | ビジネス価値そのもの | 価値ステートメント、KPI定義 | 価値が具体的で測定可能か |
| **Phase 3（ケイパビリティ）** | 価値を実現する能力 | ケイパビリティマップ、価値への貢献度 | 各能力が価値に直結しているか |
| **Phase 4（アーキテクチャ）** | システム構造の設計意図 | アーキテクチャ決定記録（ADR） | 設計判断が価値優先になっているか |
| **Phase 5-6（実装）** | コードと価値の紐付け | アノテーション、コメント、テスト | 実装が価値に貢献しているか |
| **Phase 7（運用）** | 実際の成果 | メトリクス、ダッシュボード | 価値が実現されているか |

**追跡の鍵は「双方向性」です**。価値から実装への「順方向」だけでなく、「この実装は何の価値に貢献しているのか？」という「逆方向」の確認も重要です。逆方向で確認できない実装は、価値に貢献しない「無駄」である可能性があります。

### なぜトレーサビリティが必要なのか

システム開発の過程で、価値は様々な理由で変質します。

**1. 翻訳損失（Translation Loss）**
- **現象**: ビジネス用語→技術用語への変換で意味が変わる
- **例**: 「顧客満足度向上」→「レスポンスタイム短縮」
- **失われるもの**: 満足度の他の要因（UIの使いやすさ等）

**2. スコープの肥大化（Scope Creep）**
- **現象**: やりたいことが増えて焦点がぼける
- **例**: 「受注処理の高速化」→「受注＋在庫＋配送＋請求の統合システム」
- **失われるもの**: 高速化という核心

**3. 技術的偏向（Technical Bias）**
- **現象**: 技術的に面白い方向に流れる
- **例**: 「安定した基幹システム」→「最新のマイクロサービス実験場」
- **失われるもの**: 安定性

**4. ステークホルダーの横やり（Stakeholder Hijack）**
- **現象**: 声の大きい人の要望に引きずられる
- **例**: 「営業効率化」→「経理部も使えるシステム」
- **失われるもの**: 営業特化の使いやすさ

### 変質を防ぐには

これらの変質パターンには、それぞれ「防止策」と「早期発見の方法」があります。

| パターン | 防止策 | 早期発見の方法 |
|---------|-------|--------------|
| **翻訳損失** | 価値定義時にビジネス側と技術側が一緒に言語化する。「顧客満足度」のような抽象語を使う場合は、必ず具体的な構成要素（レスポンス、UI、サポート等）も併記する | 技術側が価値を説明できるか確認する。「なぜこの機能を作るのか？」を聞いて、価値に結び付けられなければ翻訳損失が起きている |
| **スコープ肥大化** | 新機能追加時に「この機能はどの価値に貢献するか？」を必ず問う。貢献度が低いものは別プロジェクトに切り出す | 価値あたりのケイパビリティ数を監視する。急増していれば肥大化の兆候 |
| **技術的偏向** | アーキテクチャ決定時に「この技術選択は価値実現に最適か？」を問う。技術的な面白さと価値貢献を分けて評価する | 「なぜこの技術を選んだか？」の回答が技術的理由のみなら要注意。価値への貢献が説明できるべき |
| **横やり** | 新しい要望には必ず「価値影響評価」を実施。既存価値を毀損する場合は、トレードオフを可視化してから判断 | 価値定義の変更履歴を追跡。頻繁な変更や、当初と異なる方向への変更は横やりの兆候 |

**重要な視点**: これらの変質は「悪意」ではなく「善意」から起こることがほとんどです。誰もが良かれと思って行動しています。だからこそ、仕組みとして防ぐ必要があるのです。

## V5の価値トレーサビリティシステム

### トレーサビリティの基本構造

V5では、価値を一貫して追跡するための構造を提供します。

**Phase 2: 価値定義**
> - **ID**: VAL-001
> - **ステートメント**: 受注から出荷まで24時間以内
> - **現状**: 72時間 → **目標**: 24時間
> - **インパクト**: 顧客満足度20%向上

**Phase 3: ケイパビリティマッピング**（価値ID: VAL-001）
| ID | ケイパビリティ | 貢献 |
|----|--------------|------|
| CAP-001 | リアルタイム在庫管理 | 在庫確認時間を即時に |
| CAP-002 | 自動配送手配 | 手配時間を1時間→5分に |

**Phase 5: サービス設計**（ケイパビリティID: CAP-001）
| ID | サービス名 | 責務 | SLA |
|----|-----------|------|-----|
| SVC-001 | inventory-service | 在庫の即時確認と引当 | 応答時間100ms以内 |

**Phase 6: 実装**（サービスID: SVC-001）
| ID | コンポーネント | 目的 | 性能要件 |
|----|--------------|------|---------|
| COMP-001 | InventoryCache | 高速な在庫照会 | 読み取り10ms以内 |

**Phase 7: 計測**（価値ID: VAL-001）
> - **達成値**: 平均26時間
> - **達成率**: 92%
> - **実現インパクト**: 顧客満足度18%向上

### トレーサビリティマトリクス

価値の流れを可視化するマトリクスを作成します。

**VAL-001: 24時間配送**

| ケイパビリティ | サービス | 実装状況 | 価値貢献 |
|--------------|---------|---------|---------|
| CAP-001: 在庫管理 | inventory-service, stock-allocation-service | 完了 | 確認時間を72→0.1時間 |
| CAP-002: 配送手配 | shipping-service, carrier-integration | 進行中 | 手配を24→1時間 |

**全体ステータス**
> - **目標**: 24時間
> - **現在の能力**: 26時間
> - **ギャップ**: 2時間
> - **ギャップ分析**: 配送業者との連携部分がボトルネック

### 価値の健全性チェック

定期的に価値の「健康診断」を行います。

**実施頻度**: スプリントごと

**チェックポイント**

| チェック項目 | 確認質問 | 健全性の指標 |
|------------|---------|-------------|
| 定義の明確さ | 価値定義は今も明確か？ | 全員が同じ説明ができる / 数値目標が変わっていない / 前提条件が有効 |
| 実装の整合性 | 実装は価値に向かっているか？ | コードが価値に貢献 / 不要な機能がない / 優先順位が正しい |
| 測定可能性 | 進捗を測定できているか？ | KPIが計測されている / 改善傾向が見える / ボトルネックが特定できる |

**アクション判定**
- 🟢 **Green**: そのまま継続
- 🟡 **Yellow**: 軌道修正
- 🔴 **Red**: 立ち止まって再定義

### VMS-OKR連携による継続的な価値測定

価値トレーサビリティをさらに強化するために、VMS（Value Milestone）とOKR（Objectives and Key Results）を連携させます。

**VMS-OKR連携の構造**

```
価値トレーサビリティチェーン
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
VL1（最上位価値）
  │
  ├─ VL2 → VL3（詳細価値）
  │           │
  │           └─ VMS（価値マイルストーン）
  │                 │
  │                 └─ OKR（測定層）
  │                       ├─ Objective
  │                       └─ Key Results（定量指標）
  ↓
VS（バリューストリーム）→ CL1 → CL2 → CL3 → 実装
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
```

**OKRが価値測定に最適な理由**

| 観点 | VMSのみ | VMS + OKR |
|------|---------|-----------|
| 達成基準 | 定性的な状態定義 | KRで定量的に測定可能 |
| 進捗把握 | 達成/未達成の二値 | KR達成率で段階的把握 |
| レビュー | フェーズ完了時のみ | 四半期ごとに継続的 |
| 組織連携 | 設計チーム内 | 全社OKRと整合可能 |

**実践例：VAL-001（24時間配送）のVMS-OKR連携**

```
VMS2: 顧客が価値を認識し選択できる状態
  │
  └─ Objective: 配送体験による顧客選択の促進
        │
        ├─ KR1: 24時間以内配送率 90%達成
        │       └─ 現在: 72% → 目標: 90%
        │
        ├─ KR2: 配送に関するNPS +30達成
        │       └─ 現在: +15 → 目標: +30
        │
        └─ KR3: 配送理由での選択率 40%達成
                └─ 現在: 25% → 目標: 40%
```

### 戦略レビューサイクル

価値は「深化」します。顧客理解が深まるにつれて、VL3やKRは洗練されていきます。

**4段階のレビューサイクル**

| サイクル | 対象 | 頻度 | 主な活動 |
|---------|------|------|----------|
| 四半期レビュー | KR進捗・VMS達成 | 3ヶ月 | OKR達成状況確認、次期目標調整 |
| 年次レビュー | VL2/VL3深化・OKR再設定 | 1年 | 価値理解の更新、年間OKR策定 |
| 中期レビュー | VL1・VS構造見直し | 3-5年 | Value Stream再構築、長期戦略整合 |
| 長期レビュー | Vision/Mission対応 | 5-10年 | 組織価値体系との再整合 |

**レビュー内容の詳細**

**四半期レビュー（3ヶ月）**
- KR達成率の確認と分析
- ボトルネックの特定
- 次四半期のKR調整
- 価値健全性チェックの実施

**年次レビュー（1年）**
- VL3の深化（顧客理解の更新による価値の精緻化）
- VL2の妥当性確認
- 年間OKRの策定
- トレーサビリティマトリクスの更新

**中期レビュー（3-5年）**
- VL1の見直し
- バリューストリーム構造の再評価
- CL2の投資判断の再検証
- 市場変化への適応

**長期レビュー（5-10年）**
- Vision/Mission変更への対応
- VL1の抜本的見直し
- 新規バリューストリームの創出

> **重要**: 「深化」と「変更」は異なります。四半期・年次レビューでは価値の**深化**（理解が深まることによる精緻化）が主であり、VL1やVision/Missionの**変更**は長期サイクルでのみ検討します。

## Claude Codeとの協働による価値追跡

### AIによる価値の逸脱検知

Claude Codeは、価値の逸脱を早期に検知します。

```
あなた：現在の実装をレビューして、価値との整合性を確認してください。

Claude Code：実装コードと価値定義を照合します。

[価値定義とコードベースを分析]

価値整合性レポート：

1. 定義された価値
   VAL-001: 受注から出荷まで24時間以内
   
2. 実装の分析結果

   ✅ 整合している実装:
   - 在庫サービスのキャッシュ機構（即時確認に貢献）
   - 注文処理の並列化（処理時間短縮に貢献）
   - 配送業者API連携（自動手配に貢献）
   
   ⚠️ 価値と関係が薄い実装:
   - 詳細な売上レポート機能（200+ メトリクス）
     → 配送時間短縮に直接貢献しない
   - 複雑な権限管理システム
     → 現時点では過剰な実装
   
   ❌ 価値に反する実装:
   - バッチ処理による在庫更新（6時間ごと）
     → リアルタイム性を損なう
   - 手動承認フロー（管理者承認必須）
     → 24時間配送の阻害要因

3. リファクタリング提案
   
   優先度高:
   - バッチ処理→イベント駆動に変更
   - 承認フロー→自動化（金額閾値以下）
   
   優先度中:
   - レポート機能をシンプル化
   - 権限管理を最小限に

4. 予測される改善効果
   - 現状: 平均26時間
   - 改善後: 平均18時間（目標により接近）
```

### 価値の依存関係分析

複雑な価値の連鎖を可視化します。

```
あなた：価値間の依存関係と影響を分析してください。

Claude Code：価値ストリームを分析し、依存関係を明らかにします。

価値依存関係グラフ：

  [VAL-001: 24時間配送] ← 起点（最重要価値）
         │
    ┌────┴────┐
    ▼         ▼
[VAL-002]  [VAL-003]
顧客満足度  在庫回転率
   向上       向上
    │         │
    ▼         ▼
[VAL-004]  [VAL-005]
リピート率  キャッシュ
   向上    フロー改善
    │         │
    └────┬────┘
         ▼
  [VAL-006: 売上成長] ← 最終目標

相関分析：
1. 24時間配送 → 顧客満足度
   - 相関係数: 0.72（強い正の相関）
   - 配送時間1時間短縮 → 満足度0.8%向上
   
2. 顧客満足度 → リピート率
   - 相関係数: 0.85（非常に強い相関）
   - 満足度1%向上 → リピート率2.1%向上
   
3. 複合効果
   - 24時間配送実現 → 最終的な売上15%増
   - 投資回収期間: 8ヶ月

推奨事項：
VAL-001（24時間配送）は価値連鎖の起点となる最重要価値。
これを犠牲にする変更は、全体に大きな負の影響を与える。
```

#### 価値依存関係グラフとは

上記の図で示した「価値依存関係グラフ」は、複数の価値がどのように連鎖しているかを可視化したものです。

**なぜこれが重要か？**

単独の価値だけを見ていると、その価値を実現することが全体にどう影響するかが見えません。価値依存関係グラフは以下を明らかにします：

1. **起点価値（Root Value）**: 他の価値に影響を与える「源流」となる価値。上記例ではVAL-001（24時間配送）がこれに該当します。起点価値を優先すると、下流の価値も連鎖的に改善されます。

2. **最終目標（Terminal Value）**: 最終的に達成したいビジネス成果。上記例ではVAL-006（売上成長）です。すべての価値はここに向かって流れています。

3. **因果の連鎖**: 「24時間配送」→「顧客満足度向上」→「リピート率向上」→「売上成長」という因果関係を可視化することで、なぜ配送時間短縮に投資すべきかが明確になります。

#### 相関係数の読み方

相関係数は、2つの価値の間にどれだけ強い関係があるかを示す数値です。-1から+1の範囲で表されます。

| 相関係数 | 意味 | 解釈 |
|---------|------|------|
| 0.8〜1.0 | 非常に強い正の相関 | 一方が改善すると、もう一方もほぼ確実に改善する |
| 0.6〜0.8 | 強い正の相関 | 一方が改善すると、もう一方も高確率で改善する |
| 0.4〜0.6 | 中程度の相関 | 関係はあるが、他の要因も大きく影響する |
| 0.0〜0.4 | 弱い相関 | 直接的な関係は薄い |
| 負の値 | 負の相関 | 一方が改善すると、もう一方は悪化する傾向 |

**例**: 相関係数0.72は「強い正の相関」を意味します。「24時間配送」を実現すると、顧客満足度が高い確率で向上することを示しています。ただし、1.0ではないので、配送時間だけで満足度が決まるわけではありません（UIの使いやすさ、価格、商品品質なども影響します）。

**実務での活用**: 相関係数が高い価値ペアを見つけることで、「この価値を改善すれば、あの価値も改善される」という効率的な投資判断ができます。

### 価値実現の予測シミュレーション

現在の進捗から、価値実現を予測します。

```
あなた：現在の開発ペースで、目標とする価値がいつ実現できるか予測してください。

Claude Code：開発速度と残作業を分析し、実現時期を予測します。

価値実現予測：

1. 現状分析
   - 目標: 24時間配送（100%の注文で）
   - 現在: 26時間（92%達成）
   - 開始時: 72時間（3ヶ月前）
   
2. 改善速度
   - 過去3ヶ月: 46時間の短縮
   - 月平均: 15.3時間/月の改善
   - 改善率は逓減傾向

3. ボトルネック分析
   主要ボトルネック:
   - 配送業者システム連携: 1.5時間
   - 倉庫ピッキング最適化: 0.3時間
   - その他プロセス: 0.2時間

4. 実現予測
   
   楽観的シナリオ:
   - 前提: 現在の改善ペース維持
   - 予測: 1.5ヶ月後に達成
   
   現実的シナリオ:
   - 前提: 改善率の逓減考慮
   - 予測: 2.5ヶ月後に達成
   
   悲観的シナリオ:
   - 前提: 技術的限界に到達
   - 予測: 90%（25時間）が限界

5. 推奨アクション
   - 配送業者との深い統合（API直結）
   - 倉庫レイアウト最適化
   - 並行して次の価値（VAL-002）の準備開始
```

## トレーサビリティの実装パターン

### パターン1：ドキュメント駆動トレーサビリティ

最もシンプルで、始めやすい方法です。

**アプローチ**: YAMLやMarkdownで価値の繋がりを記述

**ディレクトリ構造**:
```
/project
  /values
    - VAL-001-24h-delivery.yaml
    - VAL-002-customer-satisfaction.yaml
  /capabilities
    - CAP-001-inventory-mgmt.yaml
    - CAP-002-shipping-automation.yaml
  /services
    - SVC-001-inventory-service.yaml
    - SVC-002-shipping-service.yaml
  /traceability
    - value-capability-matrix.yaml
    - capability-service-matrix.yaml
```

**ファイル例（VAL-001-24h-delivery.yaml）**:

> **価値定義**
> - ID: VAL-001
> - 名称: 24時間以内配送
> - 現状: 72時間 → 目標: 24時間
>
> **必要なケイパビリティ**
> - CAP-001: 在庫即時確認
> - CAP-002: 自動配送手配
> - CAP-003: リアルタイム追跡
>
> **KPI**
> - KPI-001: 平均配送時間（注文確定→配送完了、日次計測）

### パターン2：コード埋め込み型トレーサビリティ

コードに価値情報を埋め込む方法です。

```python
# service.py
from typing import Annotated
from traceability import ValueContribution, Capability

@ValueContribution(
    value_id="VAL-001",
    contribution="在庫確認を即時化して配送時間短縮"
)
@Capability(
    capability_id="CAP-001",
    name="リアルタイム在庫管理"
)
class InventoryService:
    """在庫管理サービス
    
    価値貢献:
    - VAL-001（24時間配送）: 在庫確認72時間→即時
    
    SLA:
    - 応答時間: 100ms以内
    - 可用性: 99.9%
    """
    
    @ValueContribution(
        value_id="VAL-001",
        contribution="在庫照会を10ms以内で実現"
    )
    async def check_availability(self, product_id: str) -> bool:
        """在庫有無を即座に確認"""
        # Redisキャッシュから高速に取得
        return await self.cache.get(f"stock:{product_id}") > 0
```

### パターン3：観測型トレーサビリティ

実際の運用データから価値実現を追跡します。

**アプローチ**: メトリクスとトレースから価値を測定

**メトリクス設計**
| メトリクス名 | タイプ | ラベル | 価値貢献 |
|------------|-------|-------|---------|
| order_to_delivery_time | histogram | customer_segment, region, shipping_method | VAL-001 |

**トレース設計**
| スパン | 属性 |
|-------|------|
| order_processing | value_id: VAL-001, capability_id: CAP-001, service: order-service |

**ダッシュボード: Value Realization Dashboard**
| パネル | クエリ |
|-------|-------|
| 24h配送達成率 | `rate(deliveries_within_24h[1d])` |
| 価値実現トレンド | `avg(order_to_delivery_time[7d])` |

**アラート設定**
> - **名称**: 価値毀損アラート
> - **条件**: 平均配送時間 > 30時間
> - **アクション**: 開発チームに通知

### 3つのパターンの比較と選び方

どのパターンを選ぶべきか迷ったときのために、各パターンの特徴を比較します。

| 観点 | パターン1（ドキュメント駆動） | パターン2（コード埋め込み） | パターン3（観測型） |
|------|---------------------------|-------------------------|-------------------|
| **メリット** | 導入が簡単、非エンジニアでも読める、ツール不要 | コードと乖離しない、レビュー時に確認できる | 実データで価値を測定、自動化しやすい |
| **デメリット** | ドキュメントが古くなりやすい、手動更新の手間 | 導入コストが高い、アノテーション設計が必要 | 監視基盤が必要、設計が複雑 |
| **導入コスト** | 低（ファイル作成のみ） | 中（コード変更が必要） | 高（監視基盤構築が必要） |
| **維持コスト** | 高（手動更新が必要） | 低（コードと一緒に更新される） | 中（アラート調整等が必要） |
| **信頼性** | 低（実態と乖離しやすい） | 高（コードに埋め込まれている） | 最高（実データに基づく） |

#### どのプロジェクトに向いているか

**パターン1（ドキュメント駆動）が向いているケース**:
- 小規模プロジェクト（チーム5人以下）
- 短期間のプロジェクト（3ヶ月以内）
- まず価値トレーサビリティを試してみたいチーム
- 非エンジニアも含めた全員で価値を共有したいケース

**パターン2（コード埋め込み）が向いているケース**:
- 中〜大規模プロジェクト
- 長期運用するシステム
- コードレビュー文化が根付いているチーム
- エンジニア中心のチーム

**パターン3（観測型）が向いているケース**:
- 本番運用中の大規模システム
- SRE/DevOps体制が整っているチーム
- すでにPrometheus/Grafana等の監視基盤があるケース
- 価値の実現を定量的に経営に報告する必要があるケース

#### 初心者はどこから始めるか

**推奨: パターン1から始めて、段階的に進化させる**

1. **Week 1-2**: パターン1（ドキュメント駆動）で始める
   - YAMLファイルで価値とケイパビリティの関係を記述
   - 全員が「価値を追跡する」という概念に慣れる

2. **Month 1-2**: パターン2（コード埋め込み）を主要サービスに導入
   - 最も重要なサービス1-2つにアノテーションを追加
   - コードレビューで価値との整合性を確認する習慣をつける

3. **Month 3以降**: パターン3（観測型）を段階的に導入
   - KPIをメトリクスとして計測開始
   - ダッシュボードで価値実現の可視化

**重要**: 最初から完璧を目指さないでください。価値トレーサビリティは「やらないよりはマシ」が大前提です。簡易なドキュメントでも、何もないよりは遥かに良いのです。

## トレーサビリティのアンチパターン

### 1. 形骸化したトレーサビリティ

**誤り（形骸化した管理）**：
- Excel方眼紙で管理
- 更新は監査前だけ
- 誰も見ない
- 実態と乖離

**改善（生きたトレーサビリティ）**：
- コードと一体化
- 自動的に更新
- 日々の判断に活用
- 常に最新

### 2. 過度に細かいトレース

**誤り（過度に細かい）**：
- すべてのif文に価値ID
- 1行ごとにトレース
- ノイズで本質が見えない

**適切な粒度**：
- サービスレベル
- 主要な関数/メソッド
- 重要な判断ポイント

### 3. 一方通行のトレース

**誤り（一方通行）**：

> 価値 → ケイパビリティ → サービス → 実装
> （逆向きの確認なし）

**双方向の確認**：
- **Forward（順方向）**: 価値は実装されているか？
- **Backward（逆方向）**: この実装は価値に貢献しているか？

## 実践演習：あなたのプロジェクトでトレーサビリティを始める

### 演習1：価値の棚卸し

**Step 1: 価値のリストアップ**

現在のプロジェクトの価値をすべてリストアップしてください。

- [ ] 価値1: ________________
- [ ] 価値2: ________________
- [ ] 価値3: ________________

**Step 2: 優先順位付け**

最も重要な価値を3つ選んでください。

1. ________________
2. ________________
3. ________________

**Step 3: 1つの価値を追跡**

選んだ価値の1つを、実装まで追跡してください。

> - **価値**: ________________
> - **ケイパビリティ**: ________________
> - **サービス**: ________________
> - **コードファイル**: ________________

**Step 4: 健全性チェック**

その価値は健全に実装されているか確認してください。

- [ ] 純度（0-100%）: _____%
- [ ] 逸脱点: ________________
- [ ] 改善案: ________________

### 演習2：トレーサビリティマトリクスの作成

**テンプレート**

**価値一覧**
| ID | 名称 | 目標 |
|----|------|------|
| ______ | ______ | ______ |
| ______ | ______ | ______ |

**ケイパビリティ一覧**
| ID | 名称 | 貢献先（価値ID） |
|----|------|----------------|
| ______ | ______ | ______ |
| ______ | ______ | ______ |

**サービス一覧**
| ID | 名称 | 実装対象（ケイパビリティID） |
|----|------|--------------------------|
| ______ | ______ | ______ |
| ______ | ______ | ______ |

**検証チェックリスト**
- [ ] すべての価値がカバーされているか？
- [ ] orphan（孤立した）サービスはないか？
- [ ] 過度に複雑な依存はないか？

## まとめ：価値を守り抜く技術

### トレーサビリティの本質

1. **価値は変質しやすい**
   - 翻訳で失われる
   - 時間とともに忘れられる
   - 技術に飲み込まれる

2. **だから追跡が必要**
   - 常に原点を確認
   - 逸脱を早期発見
   - 軌道修正を素早く

3. **仕組みとして組み込む**
   - 属人的にしない
   - 自動化できる部分は自動化
   - 日常に埋め込む

### V5における位置づけ

価値トレーサビリティは、Parasol V5の背骨です。

- Phase 2で定義した価値が
- Phase 3のケイパビリティに分解され
- Phase 4-7で実装され
- そして実際に価値を生む

この一連の流れを保証する—— それが価値トレーサビリティシステムです。

### 第II部の締めくくりとして

これで、Parasol V5の「理解編」が完了しました。

- Phase 0-1：基礎を固める
- Phase 2：価値を定義する
- Phase 3：能力を設計する
- Phase 4-7：実装する
- そして、価値トレーサビリティで純度を保つ

次の第III部「実践編」では、これらの知識を実際のプロジェクトでどう活用するか、産業別パターンや、チーム適用の方法を学びます。

理論は理解した。
次は、実践で成果を出す番です。

価値を見失わない設計—— その真髄を、実践で体得しましょう。