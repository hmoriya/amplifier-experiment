# Chapter 10 設計書: 価値ステージ設計

## 基本情報
- **パート**: Part 3 - Value Space
- **位置**: 第10章 / 全38章
- **想定執筆時間**: 7時間
- **現在の状態**: 未着手
- **コード比率**: 目標30%

## 章の位置づけ

### 前章からの継続
- **Chapter 9**: Phase 2: 価値ストリーム発見
- **引き継ぐ概念**: 発見された価値ストリームの全体像
- **前提となる理解**: End-to-Endの価値フローの可視化

### 本章の役割
- **主要学習目標**: 価値ストリームを実装可能なステージに分解する手法
- **解決する問題**: 抽象的な価値フローを具体的なシステム設計に落とし込めない
- **導入する概念**: ステージ境界、価値変換ポイント、ステージ間契約

### 次章への準備
- **Chapter 11**: 価値レベル階層
- **橋渡しする要素**: ステージの階層的な組織化へ
- **準備する概念**: ステージの粒度と責任範囲

## 読者層別価値提供

### エグゼクティブ向け価値
- **ビジネスケース**: 明確な責任分界による効率的な組織運営
- **ROI/リスク情報**: ステージ最適化により処理速度30%向上
- **意思決定ポイント**: どのステージに投資を集中すべきか
- **読了時間**: 5分

### アーキテクト向け価値
- **設計原則**: 高凝集・疎結合なステージ設計
- **パターンと選択**: 同期/非同期、プッシュ/プル型の選択基準
- **トレードオフ分析**: ステージ数 vs 管理複雑性
- **読了時間**: 40分

### 開発者向け価値
- **実装ガイド**: ステージ間インターフェースの実装パターン
- **ツールと手法**: イベント駆動アーキテクチャの適用
- **コード例の場所**: Appendix 10.1 - ステージ実装テンプレート
- **読了時間**: 20分

## 詳細構成

### Section 1: フック (500-800語)
**ストーリー候補**: Spotifyの音楽配信 - 録音からユーザー再生までの変換
**選定理由**: デジタル価値の段階的変換を明確に示せる
**導入する緊張感**: なぜ一部の曲は即座に配信され、他は遅れるのか？

### Section 2: 問題の本質 (300-500語)
**抽象化する課題**: 価値変換の境界が不明確で責任が曖昧
**3層の関心事**:
- ビジネス課題: 部門間の責任所在が不明確
- アーキテクチャ課題: システム境界と組織境界の不一致
- 実装課題: インターフェースの不整合

### Section 3: 核心概念 (800-1200語)
**中心となる理論/フレームワーク**: 価値ステージアーキテクチャ
**導入順序**:
1. ステージの定義 - 価値の質的変換点
2. 境界の設計 - 入力/出力/変換ロジック
3. ステージ間契約 - SLA、データ形式、エラー処理

**ビジュアル表現**: 
- 図10-1: 価値ステージの構造（入力→変換→出力）
- 図10-2: ステージ間の結合パターン（直列、並列、分岐）

### Section 4: 実世界例 (600-1000語)
**選定した例**: 小売業のオムニチャネル注文処理
**段階的展開**:
1. 初期状態: チャネル別のサイロ化した処理
2. 課題認識: 在庫の重複、顧客体験の不一致
3. 解決適用: 統合ステージ設計（注文→在庫→配送）
4. 結果評価: 在庫回転率20%向上、顧客満足度改善

**コードブロック計画**:
- Block 1 (8行): ステージインターフェース定義
- Block 2 (12行): 価値変換ロジックの基本構造
- Block 3 (10行): ステージ間のイベント連携

### Section 5: 実践ガイダンス (400-600語)
**適用タイミング**: システム更新、M&A統合、新サービス設計時
**成功条件**: 明確な価値定義、測定可能な変換指標
**よくある失敗**: 過度な細分化、技術優先の境界設定
**チェックリスト**: 
- 各ステージの価値貢献は明確か
- 境界は自然な責任分界点か
- 契約は実装可能か

### Section 6: 技術統合 (300-500語)
**既存手法との関係**:
- Agile/Scrum: ステージ単位でのイテレーション
- マイクロサービス: ステージとサービスの対応
- DDD: 境界づけられたコンテキストとの整合

**次章への流れ**: 設計したステージを階層的に組織化

## 付録配置計画

### Appendix 10.1: ステージ実装テンプレート
- 移動対象: TypeScriptによるステージクラス実装
- 想定行数: 200行
- 参照方法: 「完全な実装例は付録10.1参照」

### Appendix 10.2: ステージ設計ワークシート
- 移動対象: ステージ定義のためのテンプレート
- フォーマット: Markdown表形式
- 使用説明: 設計セッションでの活用方法

### Appendix 10.3: イベント駆動連携パターン
- 対象パターン: Pub/Sub、Saga、Event Sourcing
- 実装例: 各パターンの最小実装
- 選択基準: いつどのパターンを使うか

## 品質チェックリスト

### 執筆前確認
- [x] Chapter 9の価値ストリーム概念を発展させているか
- [x] 3読者層の価値が明確か
- [x] ストーリーは魅力的か（Spotify例）
- [x] コード配分計画は30%以下か

### 執筆後確認
- [ ] 70:30比率達成
- [ ] 6セクション構成準拠
- [ ] 用語統一（ステージ、境界、契約等）
- [ ] 前後章との整合性
- [ ] 図表の効果的使用

## リスクと対策

| リスク項目 | 影響度 | 対策 |
|-----------|--------|------|
| 実装に偏りすぎる | 高 | ビジネス価値を常に強調 |
| 既存アーキテクチャとの衝突 | 中 | 段階的移行戦略を提示 |
| ステージ粒度の判断困難 | 中 | 具体的な判断基準を提供 |

## メモ・特記事項

- マイクロサービスとの違いを明確化（価値中心 vs 技術中心）
- ステージ設計がZIGZAGのLevel 1-2橋渡しであることを強調
- 実装例は最新のイベント駆動パターンを採用
- Conway's Lawとの関連性に言及

---

設計者: parasol-book-architect
設計日: 2025-12-28
最終更新: 2025-12-28