# Parasol V5.5 概要

**リリース日**: 2025-01-07
**バージョン**: V5.5

---

## エグゼクティブサマリー

Parasol V5.5は、**TVDC（Three-Dimensional Value-Driven Classification）4分類フレームワーク**を導入し、ケイパビリティ分類の精度を大幅に向上させました。

従来の3分類（Core/Supporting/Generic）では、「差別化しないが価値提供に不可欠」なケイパビリティの扱いが曖昧でした。V5.5では**VCI（Value-Critical Infrastructure）**を追加し、この課題を解決しています。

---

## 背景：従来の3分類の課題

### DDDの標準的分類

```
Core      - 差別化の源泉、競争優位
Supporting - Coreを支援、必要だが差別化しない
Generic   - 業界標準、外注・SaaS活用
```

### 問題となるケース

**決済処理**をどう分類するか？

| 観点 | 評価 |
|------|------|
| 差別化要因か？ | NO（決済方式で競争しない） |
| 重要か？ | YES（失敗は致命的） |
| Genericでいいか？ | **NO**（コスト最適化対象にすべきでない） |

→ 従来の3分類では適切に分類できない

---

## V5.5の解決策：TVDC 4分類

### 2軸による分類

```
                      差別化度
                   高 ←────→ 低
                ┌──────────┬──────────┐
   価値    高   │   Core   │   VCI    │
   必然性       ├──────────┼──────────┤
           低   │Supporting│  Generic │
                └──────────┴──────────┘
```

### 4分類の定義

| 分類 | 差別化度 | 価値必然性 | 定義 |
|------|----------|------------|------|
| **Core** | ★★★ | ★★★ | 差別化の核、競争優位の源泉 |
| **VCI** | ★ | ★★★ | 差別化しないが価値提供に不可欠 |
| **Supporting** | ★★ | ★★ | Coreを支援、品質・効率に影響 |
| **Generic** | ★ | ★ | 業界標準、標準化・外注可能 |

### VCI（Value-Critical Infrastructure）とは

**定義**: 差別化度は低いが、価値提供に不可欠なケイパビリティ

**典型例**:

| ケイパビリティ | 差別化しない理由 | 不可欠な理由 |
|---------------|-----------------|-------------|
| 決済処理 | 決済方式で競争しない | 失敗は購買体験を完全に破壊 |
| 認証基盤 | 認証で差別化しない | セキュリティ障害は致命的 |
| データ配信 | 配信方法で競争しない | 遅延は顧客満足を毀損 |
| 通知システム | 通知で差別化しない | 不達は重要情報の喪失 |

**設計指針**:
- 技術選定: 標準技術・実績ある外部サービス優先
- 品質要件: 高可用性（99.9%+）、低レイテンシ
- 投資方針: 差別化投資より**信頼性投資**を優先

---

## Phase 2-3 価値継承フロー

V5.5では、価値必然性をPhase 2で評価し、Phase 3に継承する仕組みを導入しました。

### データフロー

```
Phase 2: VL3（価値要素）定義
    │
    │  価値必然性を評価
    │  「この価値要素が欠けると、どれだけ顧客価値が毀損するか？」
    │
    ▼
┌─────────────────────────────────────┐
│ VL3: 安心・信頼の決済               │
│ 価値必然性: ★★★                    │
│ 理由: 決済失敗は購買体験を完全破壊  │
└─────────────────────────────────────┘
    │
    │  継承
    ▼
Phase 3: CL2（ケイパビリティ）定義
    │
    │  差別化度を評価（Phase 3で実施）
    │  「この能力は競合と差別化できるか？」
    │
    ▼
┌─────────────────────────────────────┐
│ CL2: 決済処理ケイパビリティ         │
│ 差別化度: ★（業界標準）             │
│ 価値必然性: ★★★（VL3から継承）     │
│ → TVDC分類: VCI                     │
└─────────────────────────────────────┘
    │
    │  継承
    ▼
Phase 4-5: BC設計
    │
    ▼
┌─────────────────────────────────────┐
│ BC: payment-processing-bc           │
│ TVDC分類: VCI（CL2から継承）        │
│ 設計方針: 高信頼性、SLA重視         │
└─────────────────────────────────────┘
```

### 判断フローチャート

```
                    差別化度は高いか？
                         │
            ┌────────────┴────────────┐
            │                         │
           YES                        NO
            │                         │
            ▼                         ▼
    価値必然性は高いか？      価値必然性は高いか？
            │                         │
      ┌─────┴─────┐             ┌─────┴─────┐
      │           │             │           │
     YES          NO           YES          NO
      │           │             │           │
      ▼           ▼             ▼           ▼
   ┌──────┐  ┌──────────┐   ┌──────┐  ┌─────────┐
   │ Core │  │Supporting│   │ VCI  │  │ Generic │
   └──────┘  └──────────┘   └──────┘  └─────────┘
```

---

## 投資配分ガイド

### 分類別投資方針

| 分類 | 投資の方向性 | 重点項目 |
|------|-------------|---------|
| **Core** | 差別化機能開発 | 独自性、競争優位、イノベーション |
| **VCI** | 信頼性向上 | SLA、可用性、障害対策、監視 |
| **Supporting** | 効率化・自動化 | 生産性、品質維持、内製/外注判断 |
| **Generic** | コスト最適化 | 標準化、SaaS活用、外注 |

### 投資配分の目安

```
         Core (50-60%)
         ┌─────────────────────────────┐
         │ 差別化・競争優位への投資    │
         └─────────────────────────────┘

         VCI (20-25%)
         ┌─────────────────┐
         │ 信頼性への投資  │
         └─────────────────┘

         Supporting (10-15%)
         ┌──────────┐
         │ 効率化   │
         └──────────┘

         Generic (5-10%)
         ┌─────┐
         │最適化│
         └─────┘
```

---

## 移行ガイド

### V5.4からV5.5への移行手順

#### Step 1: 既存分類の見直し

既存の3分類を確認し、VCI候補を特定：

```yaml
チェックリスト:
  - [ ] Supportingに分類されているが、障害時の影響が甚大なもの
  - [ ] Genericに分類されているが、品質要件が高いもの
  - [ ] 「差別化しないが重要」と感じるケイパビリティ
```

#### Step 2: VCI判定

```yaml
VCI判定基準:
  差別化度: ★（業界標準技術で実現可能）
  価値必然性: ★★★（障害時に顧客価値が大幅に毀損）

  両方満たす → VCI
```

#### Step 3: 設計方針の調整

| 分類変更 | 旧方針 | 新方針 |
|---------|--------|--------|
| Supporting → VCI | 効率化 | **信頼性優先** |
| Generic → VCI | コスト最適化 | **信頼性優先** |

---

## 更新されたドキュメント

### コア定義

| ファイル | 更新内容 |
|---------|---------|
| `VERSION` | V5.5 |
| `CHANGELOG-V5.5.md` | リリースノート（新規） |
| `TVDC-FRAMEWORK.md` | 4分類フレームワーク定義（新規） |

### コマンド・リファレンス

| ファイル | 更新内容 |
|---------|---------|
| `2-value.md` | VL3価値必然性評価テンプレート |
| `3-capabilities.md` | TVDC 4分類参照 |
| `value-methodology.md` | VSTR-TVDC連携セクション |
| `cl-hierarchy.md` | TVDC 4分類に完全対応 |

### 書籍

| ファイル | 更新内容 |
|---------|---------|
| `appendix-c-glossary-references.md` | TVDC/VCI用語追加 |

---

## よくある質問（FAQ）

### Q1: VCIとSupportingの違いは？

**A**: 価値必然性の度合いです。

| 分類 | 障害時の影響 |
|------|-------------|
| VCI | 顧客価値が**完全に毀損**（決済失敗→購入不可） |
| Supporting | 顧客価値が**低下**（内部ツール障害→作業効率低下） |

### Q2: 既存プロジェクトも4分類に移行すべき？

**A**: 推奨しますが、段階的で構いません。

1. まずVCI候補を特定
2. 該当するものの設計方針を見直し
3. 新規機能から4分類を適用

### Q3: VCIは内製すべき？外注すべき？

**A**: **外部サービス活用を推奨**します。

理由:
- VCIは差別化要因ではない
- 信頼性が最重要（実績ある外部サービスが有利）
- 自社で品質を担保するコストは高い

例: 決済はStripe、認証はAuth0など

---

## 関連ドキュメント

- [TVDC-FRAMEWORK.md](../../reference/TVDC-FRAMEWORK.md) - 4分類フレームワーク完全定義
- [CHANGELOG-V5.5.md](../../CHANGELOG-V5.5.md) - リリースノート
- [cl-hierarchy.md](../philosophy/cl-hierarchy.md) - CL階層定義
- [value-methodology.md](../../reference/value-methodology.md) - 価値方法論

---

**Parasol V5.5 - "Value-Driven Classification, Precision Design"**
