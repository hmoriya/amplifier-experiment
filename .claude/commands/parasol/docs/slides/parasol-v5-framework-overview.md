# Parasol V5 フレームワーク概要

> **価値駆動設計フレームワーク** - ビジネス価値からソフトウェア実装まで一貫した設計を実現

---

## 1. Parasolとは

### 日傘のメタファー

Parasol（パラソル）は、価値駆動設計（Value-Driven Design）を中核に据えたビジネス設計フレームワークです。

**遮るもの（課題）**:
- 想像の設計という「灼熱の日差し」
- 根拠なき判断の「紫外線」
- 価値劣化の「熱波」

**提供するもの（解決）**:
- 構造的必然性に基づく「涼しい日陰」
- 観測可能な価値という「快適な空間」
- カラフルな可能性と「明るい未来」

---

## 2. なぜParasol V5が必要か

### 従来の開発の課題

| 課題 | 症状 | 結果 |
|------|------|------|
| 要件と実装の乖離 | 「この機能、なぜ作ったんだっけ？」 | 価値のない機能の量産 |
| 変更の影響不明 | 「どこまで影響するかわからない」 | 手戻りの多発 |
| 部門間の断絶 | 「ビジネスとITが話が合わない」 | 認識齟齬による失敗 |

### V5が解決すること

- **完全な価値トレーサビリティ** - 要求から実装まで追跡可能
- **段階的な分解プロセス** - 複雑さを管理可能なサイズに
- **共通言語の確立** - ビジネスとITの架け橋

---

## 3. Parasol V5の3層構造

### アーキテクチャ概要

```
┌─────────────────────────────────────┐
│      上位層：価値（Value）           │
│    価値の流れ（Value Streams）       │
│         Phase 0-2                   │
└─────────────────────────────────────┘
                ↓
┌─────────────────────────────────────┐
│   中間層：ケイパビリティ（Capability）│
│    組織能力の定義と分解              │
│         Phase 3                     │
└─────────────────────────────────────┘
                ↓
┌─────────────────────────────────────┐
│  下位層：ソフトウェア（Software）     │
│   Bounded Context / 実装            │
│         Phase 4-7                   │
└─────────────────────────────────────┘
```

### 各層の役割

| 層 | 中心概念 | Phase | 成果物 |
|----|---------|-------|--------|
| 上位層 | 価値の流れ | 0-2 | Value Stage定義、価値分析 |
| 中間層 | 組織能力 | 3 | CL1/CL2/CL3、業務オペレーション |
| 下位層 | 技術実装 | 4-7 | BC境界、API、DB、実装コード |

---

## 4. 8フェーズプロセス

### 全体フロー

```
Phase 0: 事前準備     ─┐
Phase 1: 敷地調査      │ 調査・基本設計
Phase 2: コンセプト設計─┘

Phase 3: 間取り設計   ─┐
Phase 4: 構造設計      │ 詳細設計
Phase 5: 施工図面作成 ─┘

Phase 6: 内装・設備工事─┐
Phase 7: インフラ整備  ─┘ 建設・仕上げ
```

### Phase詳細

| Phase | 名称 | 目的 | 主な成果物 |
|-------|------|------|-----------|
| 0 | 事前準備 | 基本情報収集 | 企業分析、スコープ定義 |
| 1 | 敷地調査 | 制約と現状把握 | ステークホルダー分析、制約条件 |
| 2 | コンセプト設計 | 価値の可視化 | Value Stage定義（VS0-VS7） |
| 3 | 間取り設計 | 能力の体系化 | CL1/CL2/CL3定義 |
| 4 | 構造設計 | 技術境界決定 | BC境界、Context Map |
| 5 | 施工図面作成 | 詳細設計 | API、データモデル |
| 6 | 内装・設備工事 | 動的振る舞い | イベント、ワークフロー |
| 7 | インフラ整備 | 運用基盤 | CI/CD、監視、スケーリング |

---

## 5. 価値駆動ZIGZAGプロセス

### 2段階ZIGZAGモデル

**第1段階**: 価値のZIGZAG → **第2段階**: ビジネスと設計のZIGZAG

```
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
【第1段階】価値のZIGZAG（Phase 2）
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

  VL1 ──────→ VL2 ──────→ VL3 ──────→ VMS ──────→ VS
 (抽象)     (中間)      (具体)     (マイル)    (成果)
 最上位価値   構造化     詳細価値     定義      状態変化

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
【第2段階】ビジネスと設計のZIGZAG（Phase 3-6）
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

┌─────────────────────────────────────────────────────────────────┐
│ Problem Space（問題領域）= WHAT（何を）                          │
│                                                                 │
│  CL1 ──────→ CL2 ──────→ CL3                                   │
│ (抽象)      (中間)       (具体)                                 │
│ 活動領域     ドメイン     業務オペ                                │
└─────────────────────────────────────────────────────────────────┘
                    ↓ 問題→解決 変換（DDDマッピング）
┌─────────────────────────────────────────────────────────────────┐
│ Solution Space（解決領域）= HOW（どう）                          │
│                                                                 │
│  BC ───→ UseCase(←CL3) ──→ Service ──→ 実装                    │
│ 境界Ctx    ユースケース     サービス     コード                    │
└─────────────────────────────────────────────────────────────────┘
```

### 各段階の変換内容

**第1段階: 価値のZIGZAG**

| Step | Level | 役割 | 成果物 |
|------|-------|------|--------|
| **1** | **VL1** | **WHAT** | 最上位価値（抽象的な価値目標） |
| **2** | **VL2** | **HOW** | 構造化（価値の分解・構造化） |
| **3** | **VL3** | **WHAT'** | 構造化価値（行動可能な価値単位） |
| **4** | **VMS** | **HOW'** | マイル定義（価値実現の段階設計） |
| **5** | **VS** | **WHAT''** | マイル成果（VS0-VS7の価値段階） |

**第2段階: ビジネスと設計のZIGZAG**

| Step | Level | 役割 | 成果物 | 領域 |
|------|-------|------|--------|------|
| **1** | **CL1** | **WHAT** | 活動領域 | Problem Space |
| **2** | **CL2** | **HOW** | ドメイン分類 | Problem Space |
| **3** | **CL3** | **WHAT'** | 業務オペレーション | Problem Space |
| **4** | **BC** | **WHAT** | 境界付きコンテキスト | Solution Space |
| **5** | **Service** | **HOW** | サービス設計 | Solution Space |
| **6** | **実装** | **WHAT'** | コード | Solution Space |

---

## 6. 価値分解（VL1→VL2→VL3）

### なぜ価値を階層化するのか

```
VL1「期待を超えるおいしさ」← 抽象的すぎて行動に落ちない
    ↓ 分解
VL2「製品イノベーション価値」← 方向性は見えるが具体性不足
    ↓ 分解
VL3「発酵技術による味の革新」← 具体的な行動と投資判断が可能
```

### 価値レベルの役割

| レベル | 役割 | 意思決定レベル | 例 |
|--------|------|--------------|-----|
| **VL1** | 最上位価値 | 経営レベル | 「期待を超えるおいしさ」 |
| **VL2** | 価値グループ | 部門レベル | 「製品イノベーション」「ブランド価値」 |
| **VL3** | 詳細価値 | チームレベル | 「発酵技術」「素材研究」「パッケージ」 |

### 価値分解の構造

```
VL1: 最上位価値（組織全体の提供価値）
    │
    ├── VL2-1: 価値グループ1
    │     ├── VL3-1-1: 詳細価値
    │     ├── VL3-1-2: 詳細価値
    │     └── VL3-1-3: 詳細価値
    │
    ├── VL2-2: 価値グループ2
    │     ├── VL3-2-1: 詳細価値
    │     └── VL3-2-2: 詳細価値
    │
    └── VL2-3: 価値グループ3
          └── VL3-3-1: 詳細価値
```

### 企業価値体系との違い

| 概念 | 規定するもの | 変化の性質 | 例 |
|------|------------|----------|-----|
| **Vision/Mission** | HOW（どう振る舞うか） | 安定（10年以上） | 「世界の人々の潤いに貢献」 |
| **VL（パラソル価値）** | WHAT（何を届けるか） | 深化（顧客理解と共に） | 「おいしさ→期待を超えるおいしさ」 |

---

## 7. バックキャスティング

### フォアキャスティング vs バックキャスティング

```
フォアキャスティング（現在→未来）:
現在 → 少し先 → もう少し先 → 未来（どこに着くか分からない）
「今できることは何か？」から始める

バックキャスティング（未来→現在）:
理想の未来（VMS5）← 逆算 ← 逆算 ← 逆算 ← 現在（VMS1）
「18ヶ月後の理想は？」から逆算する
```

### バックキャスティングの効果

| 効果 | 説明 |
|------|------|
| **ゴール明確化** | 「何を達成したら成功か」が最初に定義される |
| **ギャップ可視化** | 理想と現実の差が明確になる |
| **必要条件導出** | 「〜が必要」という論理的な導出が可能 |

### VMS設計の順序（重要）

```
Step 1: VMS5（理想状態）を先に定義
    ↓ 「VMS5に到達するには何が必要か？」
Step 2: VMS4を定義
    ↓ 「VMS4に到達するには何が必要か？」
Step 3: VMS3を定義
    ↓ 「VMS3に到達するには何が必要か？」
Step 4: VMS2を定義
    ↓ 「VMS2に到達するには何が必要か？」
Step 5: VMS1を定義（現在からの最初のマイルストーン）
```

---

## 8. VMS→VS変換とValue Stream設計

### 価値マイルストーン（VMS）詳細

| VMS | 時期 | 顧客価値状態 | 組織の進捗 |
|-----|------|------------|----------|
| VMS1 | 3ヶ月 | 最初の価値を体験できる | 基盤構築完了 |
| VMS2 | 6ヶ月 | 価値を認識し選択できる | 展開完了 |
| VMS3 | 9ヶ月 | 主要価値を日常的に体験 | 成熟期 |
| VMS4 | 12ヶ月 | 全面的に価値を実感 | 最適化完了 |
| VMS5 | 18ヶ月 | 期待を超える価値を享受 | 理想状態達成 |

### VMS→VS変換の意味

```
VMS（組織視点）: 「我々が達成すべき状態」
    ↓ 視点変換
VS（顧客視点）: 「顧客にとって価値ある状態」
```

| VMS | 対応VS | 顧客状態 |
|-----|--------|---------|
| VMS1前半 | VS1 | 認知到達状態 |
| VMS1後半-VMS2前半 | VS2 | 選好形成状態 |
| VMS2後半-VMS3前半 | VS3 | 意思決定状態 |
| VMS3後半-VMS4前半 | VS4 | 価値獲得状態 |
| VMS4後半 | VS5 | 価値実感状態 |
| VMS5前半 | VS6 | 価値継続状態 |
| VMS5後半 | VS7 | 価値共創状態 |

### 1価値定義 = 1バリューストリーム

**重要原則**: バリューストリームは「1本の統合されたストリーム」として設計

```
【正しい設計】
┌─────────────────────────────────────────────────────┐
│   1本のバリューストリーム                            │
│   VS0 → VS1 → VS2 → VS3 → VS4 → VS5 → VS6 → VS7    │
│   ※VS0-VS7はストリーム内の「ステージ」（直列）      │
└─────────────────────────────────────────────────────┘

【誤った設計（アンチパターン）】
×  VStr-1: 価値創造ストリーム
×  VStr-2: 価値提供ストリーム  ← 機能別に分割するのは誤り
×  VStr-3: 価値持続ストリーム
```

---

## 9. Value Stage（価値ステージ）

### 顧客状態としてのVS定義

**重要**: Value Stageは「組織の活動」ではなく「顧客の状態」を定義

| VS | 顧客状態 | 顧客視点の定義 |
|----|----------|----------------|
| VS0 | 潜在ニーズ状態 | まだ気づいていないが、価値を必要としている |
| VS1 | 認知到達状態 | この価値の存在を知る |
| VS2 | 選好形成状態 | この価値を選びたいと思う |
| VS3 | 意思決定状態 | この価値を獲得することを決める |
| VS4 | 価値獲得状態 | この価値を手に入れる |
| VS5 | 価値実感状態 | この価値を実感している |
| VS6 | 価値継続状態 | 継続的に価値を享受している |
| VS7 | 価値共創状態 | 他者と価値を共有・推奨している |

### VS-Swimlaneモデル

```
             時間軸（Time）→
┌──────────┬──────────┬──────────┬──────────┐
│   VS2    │   VS3    │   VS4    │   VS5    │
│ 選好形成 │ 意思決定 │ 価値獲得 │ 価値実感 │
├──────────┼──────────┼──────────┼──────────┤
│  Core:   │  Core:   │  Core:   │          │
│ 製品開発 │ セールス │ 出荷管理 │          │
├──────────┼──────────┼──────────┼──────────┤
│Supporting│Supporting│Supporting│Supporting│
│データ基盤│データ基盤│データ基盤│データ基盤│
└──────────┴──────────┴──────────┴──────────┘
```

---

## 10. バリューストリーム航海図（価値デザインの本質）

### 全員が見る「価値への航路」

```
                                                                                目的地
    VS0       VS1       VS2       VS3       VS4       VS5       VS6       VS7     ▼
   ╲   ╱    ╲   ╱    ╲   ╱    ╲   ╱    ╲   ╱    ╲   ╱    ╲   ╱    ╲   ╱    ┌──────────┐
    潜在      認知      選好      意思      価値      価値      価値      価値   │          │
    ニーズ    到達      形成      決定      獲得      実感      継続      共創   │  価値定義 │
   ╱   ╲    ╱   ╲    ╱   ╲    ╱   ╲    ╱   ╲    ╱   ╲    ╱   ╲    ╱   ╲  │          │
═══════════════════════════════════════════════════════════════════════════▶│「期待を超える│
     │        │        │        │        │        │        │        │   │ おいしさ」│
     ▼        ▼        ▼        ▼        ▼        ▼        ▼        ▼   └──────────┘
┌─────────┬─────────┬─────────┬─────────┬─────────┬─────────┬─────────┬─────────┐
│CL1      │CL1      │CL1      │CL1      │CL1      │CL1      │CL1      │CL1      │
│潜在ニーズ│認知形成  │製品開発  │営業活動  │受注管理  │サービス  │継続価値  │コミュニティ│
│発掘     │         │  ★     │  ★     │  ★     │提供     │創出     │運営     │
│─────────│─────────│─────────│─────────│─────────│─────────│─────────│─────────│
│ CL2     │ CL2     │ CL2     │ CL2     │ CL2     │ CL2     │ CL2     │ CL2     │
│┌───────┐│┌───────┐│┌───────┐│┌───────┐│┌───────┐│┌───────┐│┌───────┐│┌───────┐│
││市場調査││広告運用 ││商品企画 ││商談管理 ││注文管理 ││問合せ  ││リテン  ││レビュー ││
│├───────┤│├───────┤│├───────┤│├───────┤│├───────┤│├───────┤│├───────┤│├───────┤│
││競合分析││PR活動  ││試作開発 ││見積作成 ││決済処理 ││FAQ管理 ││ション  ││促進   ││
│├───────┤│├───────┤│├───────┤│├───────┤│├───────┤│├───────┤│├───────┤│├───────┤│
││トレンド││コンテンツ││品質検証 ││契約処理 ││出荷管理 ││技術支援 ││アップ  ││紹介PG  ││
││分析   ││制作    ││        ││        ││        ││        ││セル   ││        ││
│└───────┘│└───────┘│└───────┘│└───────┘│└───────┘│└───────┘│└───────┘│└───────┘│
└─────────┴─────────┴─────────┴─────────┴─────────┴─────────┴─────────┴─────────┘
                              ★ = Core領域（投資集中）
```

### なぜ「航海図」なのか

組織は大海原を航海する船である。
**目的地（価値定義）を知らずに漕ぎ出せば、どれだけ努力しても、どこにも辿り着けない。**

### この図が示すもの

| 要素 | 意味 | 役割 |
|------|------|------|
| **横軸（VS0→VS7）** | 顧客の状態変化 | 顧客がどのような旅を経て価値を手にするか |
| **右端の価値定義** | 目的地 | この航海で到達すべき唯一の目的地 |
| **スイムレーン（CL1）** | 活動領域 | 各ステージで「誰が何をするか」 |
| **CL2（包含）** | ケイパビリティ | 各領域で「具体的に何ができるか」 |

### 航海図の効果

| 役割 | 航海図の使い方 |
|------|--------------|
| **経営者** | 全体の航路を承認する |
| **マネージャー** | 担当区間の進捗を管理する |
| **現場** | 自分の役割と前後の繋がりを理解する |
| **顧客** | 自分がどの状態にいるかを認識できる |

### 航海図がないとどうなるか

```
❌ 部門ごとに別々の地図を持って航海する
❌ 「良い仕事をした」が価値に繋がらない
❌ 手戻り・重複・抜け漏れが発生する
❌ 全体最適ではなく部分最適に陥る
```

> **「航海図なき航海は、ただの漂流である」**

---

## 11. Capability階層（CL1/CL2/CL3）

### 3段階の能力分解

| レベル | 名称 | 目的 | 分類 |
|--------|------|------|------|
| CL1 | 活動領域識別 | 大まかな領域把握 | **傾向的分類**（参考情報） |
| CL2 | ケイパビリティ設計 | 投資判断の根拠 | **正式分類**（Core/Supporting/Generic） |
| CL3 | 業務オペレーション | 業務の詳細化 | 分類なし（網羅性重視） |

### 分類と投資配分

| 分類 | 顧客接点 | 投資配分目安 | 例 |
|------|---------|-------------|-----|
| **Core** | 直接 | 70% | 製品開発、販売、顧客サービス |
| **Supporting** | 間接 | 25% | データ基盤、物流、分析 |
| **Generic** | なし | 5% | HR、経理、IT運用 |

### 分解例

```
VS2: 選好形成状態（顧客がこの価値を選びたいと思う）
    ※対応する組織活動: 商品企画・開発
├── CL1: 活動領域識別
│   └── 商品開発領域（Core傾向）
│
├── CL2: ケイパビリティ設計
│   ├── 市場調査・分析（Core）
│   ├── 商品コンセプト開発（Core）
│   ├── プロトタイプ開発（Core）
│   ├── 商品仕様策定（Supporting）
│   └── 開発プロジェクト管理（Generic）
│
└── CL3: 業務オペレーション
    ├── 市場トレンド分析
    ├── 競合製品調査
    ├── コンセプト立案
    └── プロトタイプ評価
```

---

## 12. BC境界とContext Map

### Phase 4での境界確定

```
Phase 3 (CL3)        Phase 4              Phase 5
業務オペレーション → BC境界確定 → BC実装設計
                    ↓
              Context Map定義
```

### Context Mapパターン

| パターン | 説明 | 使用場面 |
|----------|------|----------|
| Partnership | 対等連携 | 密接に協力する2チーム |
| Customer-Supplier | 上流下流 | 一方が他方に依存 |
| Conformist | 準拠 | 下流が上流に完全準拠 |
| Anti-Corruption Layer | 腐敗防止層 | レガシーとの連携 |
| Open Host Service | 公開サービス | 多数への公開API |

---

## 13. 6軸探索システム

### 多角的分析の必要性

1つの視点だけでは、システムの本質を見落とす危険がある

### 6つの探索軸

| 軸 | 問い | 分析の焦点 |
|----|------|-----------|
| capability-axis | 何ができるか？ | 能力の体系的分解 |
| business-unit-axis | 誰が担うか？ | 組織構造との整合 |
| value-axis | どんな価値か？ | 成果と測定指標 |
| platform-axis | 何が支えるか？ | 共通基盤の抽出 |
| fusion-axis | 組み合わせ効果は？ | 異分野の融合価値 |
| multi-tier-vstr-axis | どう積み上がるか？ | 階層的な価値構造 |

### 軸の組み合わせ例

- **capability × business-unit** → 組織と能力のギャップ発見
- **value × platform** → 価値実現に必要な共通基盤
- **fusion × multi-tier** → 階層を超えた融合価値

---

## 14. DDDとの対応関係

### DDDの問題空間と解決空間

```
┌───────────────────────────────────────────────────────┐
│ 問題空間（Problem Space）                             │
│                                                       │
│  [問題領域] ──分割──→ [サブドメイン群]                │
│   Domain    （発見）   Core / Supporting / Generic   │
└───────────────────────────────────────────────────────┘
                          │
                          │ 分析・設計判断
                          ↓
┌───────────────────────────────────────────────────────┐
│ 解決空間（Solution Space）                            │
│                                                       │
│  [サブドメイン群] ──対応づけ──→ [Bounded Context群]   │
│                    （設計）      Context Map          │
│                                                       │
│  [BC群] ──実装──→ [サービス/モジュール]               │
└───────────────────────────────────────────────────────┘
```

### Parasol V5のマッピング

```
┌───────────────────────────────────────────────────────┐
│ 問題空間（Problem Space）                   Phase 3   │
│                                                       │
│  [CL1 活動領域] ──分割──→ [CL2 ケイパビリティ]        │
│   傾向的分類    （発見）   Core/Supporting/Generic    │
│                            （正式分類・投資判断）     │
│                                  │                    │
│                                  ▼                    │
│                           [CL3 業務オペレーション]    │
│                            （詳細化・網羅性確保）     │
└───────────────────────────────────────────────────────┘
                          │
                          │ 分析・設計判断
                          ↓
┌───────────────────────────────────────────────────────┐
│ 解決空間（Solution Space）                Phase 4-5   │
│                                                       │
│  [CL3] ──対応づけ──→ [Bounded Context群]              │
│         （BC境界確定）  Context Map                   │
│                                                       │
│  [BC群] ──実装設計──→ [API / Domain Model / DB]       │
└───────────────────────────────────────────────────────┘
```

### マッピング表

| Parasol概念 | Phase | DDD用語 | 備考 |
|-------------|-------|---------|------|
| Value Stage (VS) | 2 | Domain | 顧客状態として定義 |
| Activity Area (AA) | 3 CL1 | **Problem Space** | 傾向的分類（参考） |
| Capability (Cap) | 3 CL2 | **Subdomain** | 正式分類・投資判断 |
| Operation (Op) | 3 CL3 | Domain Model詳細 | 業務オペレーション |
| Service境界 | 4 | **Bounded Context** | ここで確定 |
| Domain Model | 5 | Aggregates, Entities | 実装設計 |

### DDDとParasolの重要な違い

| 観点 | DDD | Parasol |
|------|-----|---------|
| **分類タイミング** | Subdomain識別時に即座に分類 | CL1は傾向的、CL2で正式分類 |
| **分類基準** | 技術者視点（複雑さ、差別化） | ビジネス視点（顧客接点、投資判断） |
| **BCへの流れ** | Subdomain → BC（直接） | CL2 → CL3 → BC（業務詳細化を経由） |

### 技術者向けフロー

```
Value Stream (VS)
     ↓ 分解
Capability (≈Subdomain)
     ↓ 詳細化
Operation (≈Domain Model)
     ↓ 境界確定
Bounded Context
     ↓ 実装
Aggregates / Entities
```

---

## 15. 領域別工程フロー（ドメイン分解からサービス定義まで）

### 各ドメインが辿る工程の全体像

**重要**: 各活動領域（ドメイン）は以下の工程を順次辿り、最終的にサービスとして定義されます。

```
┌─────────────────────────────────────────────────────────────────────────────────┐
│ 領域別工程フロー（1つのドメインが辿る完全な流れ）                                │
├─────────────────────────────────────────────────────────────────────────────────┤
│                                                                                 │
│  Phase 3a: CL1 活動領域識別                                                    │
│  ┌─────────────────────────────────────────────────────────────┐               │
│  │ 問題空間（Problem Space）開始                                │               │
│  │                                                             │               │
│  │ • 傾向的分類（Core傾向 / Supporting傾向 / Generic傾向）      │               │
│  │ • 投資方向性の初期判断（参考情報）                           │               │
│  │ • 例: 「基盤技術研究」→ Core傾向                            │               │
│  └─────────────────────────────────────────────────────────────┘               │
│                            │                                                   │
│                            ▼                                                   │
│  Phase 3b: CL2 ケイパビリティ設計 ★正式分類                                    │
│  ┌─────────────────────────────────────────────────────────────┐               │
│  │ サブドメイン分解                                             │               │
│  │                                                             │               │
│  │ • 正式分類（Core / Supporting / Generic）決定               │               │
│  │ • 投資判断の根拠明示                                         │               │
│  │ • サービス境界候補の識別                                     │               │
│  │ • 例: fermentation-research（Core）、ingredient-research（Core）│             │
│  └─────────────────────────────────────────────────────────────┘               │
│                            │                                                   │
│                            ▼                                                   │
│  Phase 3c: CL3 業務オペレーション定義                                          │
│  ┌─────────────────────────────────────────────────────────────┐               │
│  │ 問題空間の詳細化（網羅性確保）                               │               │
│  │                                                             │               │
│  │ • 各ケイパビリティの業務活動を列挙                           │               │
│  │ • トリガー → 活動内容 → 成果物 の定義                       │               │
│  │ • 業務ルール・業務用語の明確化                               │               │
│  │ • 例: OP-FER-001「酵母株探索」、OP-FER-002「酵母株育種」     │               │
│  └─────────────────────────────────────────────────────────────┘               │
│                            │                                                   │
│  ══════════════════════════╪══════════════════════════════════════════════════ │
│  問題空間 ↑ ──────────────╋───────────────────── ↓ 解決空間                   │
│  ══════════════════════════╪══════════════════════════════════════════════════ │
│                            │                                                   │
│                            ▼                                                   │
│  Phase 4: BC境界確定                                                           │
│  ┌─────────────────────────────────────────────────────────────┐               │
│  │ 解決空間（Solution Space）開始                               │               │
│  │                                                             │               │
│  │ • CL3の業務オペレーション群をBC（Bounded Context）に対応付け │               │
│  │ • Context Map でBC間の関係を定義                             │               │
│  │ • 統合パターン選択（同期/非同期、API/イベント）              │               │
│  │ • 例: fermentation-research → fermentation-research-bc      │               │
│  └─────────────────────────────────────────────────────────────┘               │
│                            │                                                   │
│                            ▼                                                   │
│  Phase 5: サービス定義                                                         │
│  ┌─────────────────────────────────────────────────────────────┐               │
│  │ 1つまたは複数のBCでサービスを構成                            │               │
│  │                                                             │               │
│  │ • BC群をマイクロサービスにグループ化                         │               │
│  │ • ドメイン言語（Aggregates, Entities, Events）設計          │               │
│  │ • API契約、DB設計                                           │               │
│  │ • 例: ResearchService = {fermentation-bc, ingredient-bc}    │               │
│  └─────────────────────────────────────────────────────────────┘               │
│                                                                                 │
└─────────────────────────────────────────────────────────────────────────────────┘
```

### 工程別の責任者と成果物

| 工程 | Phase | 責任者 | 成果物 | 判断内容 |
|------|-------|--------|--------|----------|
| CL1 | 3a | 経営層 | activity-identification.md | 投資方向性（傾向） |
| CL2 | 3b | 事業部長・PO | subdomain-design.md | Core/Supporting/Generic正式分類 |
| CL3 | 3c | 業務担当者 | {cap}-operations.md | 業務詳細（トリガー/成果物） |
| BC | 4 | アーキテクト | capability-bc-mapping.md | 技術境界の確定 |
| Service | 5 | 開発者 | domain-language.md | 実装設計 |

### 具体例：「発酵研究」ドメインの工程

```
【VS2: 選好形成状態】※顧客が「この価値を選びたい」と思う状態
    対応する組織活動: 製品開発・イノベーション

CL1: 基盤技術研究（Core傾向）
     ↓ サブドメイン分解
CL2: fermentation-research（Core） ← ★正式分類
     ingredient-research（Core）
     ↓ 業務オペレーション定義
CL3: OP-FER-001 酵母株探索・収集
     OP-FER-002 酵母株育種・改良
     OP-FER-003 発酵条件最適化
     ↓ BC境界確定（Phase 4）
BC:  fermentation-research-bc
     ├── Aggregate: YeastStrain
     ├── Events: YeastStrainRegistered, BreedingCompleted
     └── Context Map: ← ingredient-research-bc
     ↓ サービス定義（Phase 5）
Service: ResearchPlatformService
         ├── fermentation-research-bc
         └── ingredient-research-bc（同一サービス内のBC）
```

### なぜこの工程順序が重要か

```
問題を正しく理解してから ───→ 解決策を設計する

CL1-CL3（問題空間）     BC-Service（解決空間）
 何を解決するか？         どう解決するか？
   ↓                        ↓
 業務の理解              技術の選択
 価値の把握              実装の設計
 投資の判断              境界の確定
```

**アンチパターン**: いきなりBC設計から始めると、ビジネス価値との整合が取れなくなる

---

## 16. 価値方法論の全体フロー

### 方法論の全体像

```
価値定義（最上位価値）
    ↓ 価値分解
VL1 → VL2 → VL3
    ↓ バックキャスティング
価値マイルストーン（VMS5→VMS4→VMS3→VMS2→VMS1）
    ↓ ステージ変換
バリューステージ（VS0-VS7）
    ↓ CL分解と統合
プロジェクトマイルストーン = 価値マイルストーン × コアサブドメイン
```

### プロジェクトマイルストーンの作成

**公式**: プロジェクトマイルストーン = VMS × Coreサブドメイン

```
PM1: 3ヶ月目標（VMS1対応）
├── fermentation-research: 酵母DB基盤構築
├── ingredient-research: 素材評価FW確立
└── premium-beer-dev: 開発プロセス標準化

PM2: 6ヶ月目標（VMS2対応）
├── fermentation-research: 最適化アルゴリズム実装
├── ingredient-research: 素材選定基準運用
└── premium-beer-dev: 初回製品リリース
```

### VMS-OKR連携

```
VL1（最上位価値）
  ├─ VL2 → VL3（詳細価値）
  │           └─ VMS（価値マイルストーン）
  │                 └─ OKR（測定層）
  │                       ├─ Objective: VMSの達成状態
  │                       └─ Key Results: 定量的な達成指標
  ↓
VS（バリューストリーム）→ CL1 → CL2 → CL3 → 実装
```

### 4段階戦略レビューサイクル

| サイクル | 対象 | 頻度 | 主な活動 |
|---------|------|------|----------|
| 四半期レビュー | KR進捗・VMS達成 | 3ヶ月 | OKR達成状況確認 |
| 年次レビュー | VL2/VL3深化 | 1年 | 価値理解の更新 |
| 中期レビュー | VL1・VS構造見直し | 3-5年 | Value Stream再構築 |
| 長期レビュー | Vision/Mission対応 | 5-10年 | 組織価値体系との再整合 |

---

## 17. 品質ゲートシステム

### 各フェーズの検査項目

| Phase移行 | 必須チェック項目 |
|-----------|-----------------|
| 0→1 | 企業ミッション明文化、ステークホルダー識別 |
| 1→2 | 制約条件の優先度付け、ゴールのSMART化 |
| 2→3 | 全VSの識別、価値指標の設定 |
| 3→4 | 全Capabilityの分類、投資優先順位 |
| 4→5 | BC境界確定、Context Map完成 |

### 品質保証の原則

- **手戻り防止** - 各フェーズで確実に基礎固め
- **継続的改善** - プロジェクトごとにチェック項目を更新
- **段階的詳細化** - 全体を薄くではなく、価値の高い部分から深く

---

## 18. 導入効果

### 改善実績

| 指標 | 改善率 | Before → After |
|------|--------|----------------|
| 設計品質 | +100% | 想像ベース → 根拠100% |
| 開発速度 | +50% | 4-6週間 → 2-3週間 |
| 手戻り率 | -80% | 30-40% → 5-10% |
| 価値実現率 | +35% | 60-70% → 95%以上 |

### 世界初の特徴

1. **想像の設計を技術的に不可能にする**
   - すべての判断に構造的必然性を要求
   - 観測不能なデータに基づく判断を自動ブロック

2. **完全な価値トレーサビリティ**
   - 要求から実装まで追跡可能
   - フェーズ間の価値継承を自動検証

3. **段階的価値実現の保証**
   - VMS1-VMS5で価値実現を保証
   - 各段階で品質ゲートを実行

---

## 19. Parasolの哲学

### 五本の支柱思想

| 支柱 | 説明 |
|------|------|
| **価値駆動** | すべては価値から始まる |
| **観測可能性** | 測定できないものは管理できない |
| **段階的実現** | 一歩ずつ確実に |
| **構造的思考** | 表層ではなく構造を見る |
| **継続的検証** | 常に価値を確認する |

### 保守性と変更容易性

- **シンプルで理解しやすいアーキテクチャ**
- **運用時の変更容易性**
- **イベント駆動の落とし穴を回避**

---

## 20. 適用パターン

### 小規模プロジェクト（2週間）

```
Phase 0-1: 半日でまとめて実施
Phase 2:   1日で主要な価値の流れだけ確認
Phase 3:   1日で必要最小限のケイパビリティ定義
Phase 4-5: 2日でアーキテクチャとAPI設計
Phase 6-7: 実装と並行して段階的に詳細化
```

### 大規模プロジェクト（2年）

```
チームA: 顧客管理領域
  Phase 0-1: 共通実施
  Phase 2-7: 顧客管理に特化

チームB: 商品管理領域
  Phase 0-1: 共通実施
  Phase 2-7: 商品管理に特化

統合チーム:
  各チームのPhase 3完了後に統合ポイント調整
  Phase 5でAPI仕様統一
```

### アジャイルとの統合

```
Sprint 0:   Phase 0-1を実施
Sprint 1-2: Phase 2、最初のVS選択
Sprint 3-5: 選択VSに対してPhase 3-5
Sprint 6-8: 実装しながらPhase 6-7
Sprint 9-:  次のVSに対して同様のサイクル
```

---

## 21. まとめ

### Parasol V5の価値

```
ビジネス価値
    ↓ 価値トレーサビリティ
組織能力
    ↓ 段階的分解
ソフトウェア実装
```

### キーメッセージ

> **「想像を排除し、価値を実現する」**
>
> 灼熱の想像から守り、涼しい価値の日陰を作る
> それがParasolです

### 次のステップ

1. プロジェクトのスコープを明確化
2. Phase 0-1でコンテキストを確立
3. Phase 2で価値の流れを可視化
4. 段階的に詳細化を進める

---

## 付録: クイックリファレンス

### コマンド一覧

| コマンド | 用途 |
|---------|------|
| `/parasol:1-context` | Phase 1 コンテキスト確立 |
| `/parasol:2-value` | Phase 2 価値定義 |
| `/parasol:3-capabilities cl1` | CL1 活動領域識別 |
| `/parasol:3-capabilities cl2` | CL2 ケイパビリティ設計 |
| `/parasol:3-capabilities cl3` | CL3 業務オペレーション |
| `/parasol:4-application-design` | Phase 4 BC境界確定 |
| `/parasol:status` | 進捗確認 |
| `/parasol:validate` | 一貫性検証 |

### 用語集

| 用語 | 定義 |
|------|------|
| VS (Value Stage) | 顧客の状態（VS0-VS7） |
| VStr (Value Stream) | 価値の流れ全体 |
| CL (Capability Level) | 能力分解の階層（CL1/CL2/CL3） |
| BC (Bounded Context) | サービス境界 |
| VMS (Value Milestone) | 価値マイルストーン |
