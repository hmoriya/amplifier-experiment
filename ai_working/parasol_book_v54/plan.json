{
  "module_name": "parasol_book_v54",
  "version": "1.0.0",
  "architecture": {
    "style": "modular_generator",
    "patterns": [
      "template_engine",
      "content_synthesis",
      "parallel_generation"
    ],
    "key_components": [
      "BookGenerator",
      "StructureManager",
      "ContentGenerator",
      "DiagramGenerator",
      "ReferenceManager"
    ]
  },
  "file_tree": {
    "amplifier/parasol_book_v54/": {
      "__init__.py": "Public API exports",
      "book_generator.py": "Main orchestrator for book generation",
      "structure_manager.py": "Book structure and chapter definitions",
      "content_generator.py": "Chapter content generation from templates",
      "diagram_generator.py": "Mermaid diagram creation and validation",
      "reference_manager.py": "Cross-reference and index management",
      "markdown_writer.py": "Markdown formatting and file writing",
      "models.py": "Data models (BookConfig, BookResult, etc.)",
      "constants.py": "Book structure constants and metadata",
      "utils.py": "Helper functions for content processing",
      "validators.py": "Content and structure validation",
      "templates/": {
        "README.md": "Template documentation",
        "chapter_base.md.j2": "Base chapter template",
        "index.md.j2": "Index page template",
        "part_intro.md.j2": "Part introduction template",
        "diagrams/": {
          "phase_flow.mermaid.j2": "Phase flow diagram template",
          "value_stream.mermaid.j2": "Value stream diagram template",
          "architecture.mermaid.j2": "Architecture diagram template"
        }
      },
      "content/": {
        "glossary.json": "Japanese technical terms",
        "references.json": "Bibliography and resources",
        "examples.json": "Code and diagram examples"
      },
      "tests/": {
        "__init__.py": "Test package init",
        "test_structure_completeness.py": "Test 8 parts, 38 chapters",
        "test_content_volume.py": "Test page count targets",
        "test_diagram_validity.py": "Test Mermaid syntax",
        "test_cross_references.py": "Test link integrity",
        "test_language_consistency.py": "Test Japanese content",
        "test_format_compliance.py": "Test Markdown format",
        "test_phase_coverage.py": "Test Phase 4-7 detail",
        "test_three_spaces.py": "Test space clarity",
        "test_integration.py": "Integration tests",
        "test_performance.py": "Performance tests",
        "fixtures/": {
          "test_config.json": "Test configuration",
          "expected_structure.json": "Expected book structure"
        }
      }
    }
  },
  "implementation_order": [
    "models.py",
    "constants.py",
    "utils.py",
    "structure_manager.py",
    "templates/",
    "content/",
    "diagram_generator.py",
    "reference_manager.py",
    "content_generator.py",
    "markdown_writer.py",
    "validators.py",
    "book_generator.py",
    "__init__.py",
    "tests/"
  ],
  "key_algorithms": {
    "content_synthesis": "Template-based generation with variable substitution and content chunks",
    "diagram_generation": "Mermaid syntax generation with validation",
    "reference_tracking": "Graph-based cross-reference management",
    "parallel_generation": "ThreadPoolExecutor for concurrent chapter generation"
  },
  "conformance_mapping": {
    "structure_completeness": [
      "test_structure_completeness.py",
      "test_integration.py::test_full_book_structure"
    ],
    "content_volume": [
      "test_content_volume.py",
      "test_integration.py::test_page_counts"
    ],
    "diagram_validity": [
      "test_diagram_validity.py",
      "test_integration.py::test_all_diagrams"
    ],
    "cross_reference_integrity": [
      "test_cross_references.py"
    ],
    "language_consistency": [
      "test_language_consistency.py"
    ],
    "format_compliance": [
      "test_format_compliance.py"
    ],
    "phase_coverage": [
      "test_phase_coverage.py"
    ],
    "three_spaces_clarity": [
      "test_three_spaces.py"
    ]
  },
  "test_strategy": {
    "unit_tests": "Pytest with parametrized tests for each component",
    "integration_tests": "Full book generation with validation",
    "performance_tests": "Timing and resource usage validation",
    "fixtures": "Pre-defined test data and expected outputs"
  },
  "error_handling": {
    "strategy": "Fail-fast with detailed error messages",
    "recovery": "Checkpoint-based resumability",
    "logging": "Structured logging with context"
  }
}