# OP-003 プロファイル構築 BuildProfile BUILD_PROFILE

## 概要

| 項目 | 値 |
|------|-----|
| ID | OP-003 |
| 日本語名 | プロファイル構築 |
| 英語名 | BuildProfile |
| 定数名 | BUILD_PROFILE |
| 所属Capability | CAP-001 顧客データ統合 |

## 説明

統合された顧客データから360度顧客プロファイルを構築・更新する。

## トリガー

| トリガー | 説明 |
|----------|------|
| ID統合後 | ID統合処理完了時 |
| データ更新時 | 属性データ更新時 |
| 日次バッチ | 全体再構築 |

## 入力

| 入力 | 型 | 説明 |
|------|-----|------|
| unifiedCustomerId | UUID | 統合顧客ID |
| rawData | RawCustomerData[] | 各ソースの生データ |
| identityGraph | IdentityGraph | ID連携グラフ |

## 出力

| 出力 | 型 | 説明 |
|------|-----|------|
| customerProfile | CustomerProfile | 統合顧客プロファイル |
| profileChanges | ProfileChange[] | 変更履歴 |

## ビジネスルール

| ルール | 説明 |
|--------|------|
| データ優先度 | ソースごとの信頼度に基づく優先 |
| 最新値採用 | 同一属性は最新値を採用 |
| 履歴保持 | 重要属性は履歴を保持 |

## 関連UseCase

| UseCase | 関係 |
|---------|------|
| UC-005 顧客プロファイル閲覧 | プロファイル参照 |

---

**作成日**: 2025-12-05
**更新日**: 2025-12-05
