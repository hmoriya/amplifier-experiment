# Page: page-004 涵養活動記録画面 [ConservationRecord]

## 概要

| 項目 | 値 |
|------|-----|
| ID | page-004 |
| 日本語名 | 涵養活動記録画面 |
| 英語名 | ConservationRecord |
| 定数名 | CONSERVATION_RECORD |
| 関連UseCase | uc-004 涵養記録 |
| ステータス | Draft |

## 目的

水源管理担当者が涵養活動を記録する。

## ユーザー

- 水源管理担当者

## レイアウト

```
┌─────────────────────────────────────────────────────────────┐
│  ヘッダー: 涵養活動記録                                     │
├─────────────────────────────────────────────────────────────┤
│  水源選択: [水源名オートコンプリート]                       │
│  累計涵養面積: 125.5 ha                                     │
├─────────────────────────────────────────────────────────────┤
│  活動情報                                                   │
│  ┌─────────────────────────────────────────────────────┐   │
│  │ 活動種別: [植樹 ▼]                                   │   │
│  │ 活動日: [日付選択] 〜 [日付選択]（複数日の場合）     │   │
│  │ 活動面積: [入力] ha                                  │   │
│  │ 参加人数: [入力] 名                                  │   │
│  │ 活動内容: [テキストエリア]                           │   │
│  └─────────────────────────────────────────────────────┘   │
├─────────────────────────────────────────────────────────────┤
│  写真・動画                                                 │
│  ┌─────────────────────────────────────────────────────┐   │
│  │ [ドラッグ&ドロップエリア]                            │   │
│  │ または [ファイル選択]                                │   │
│  │ アップロード済み: [サムネイル] [サムネイル] ...     │   │
│  └─────────────────────────────────────────────────────┘   │
├─────────────────────────────────────────────────────────────┤
│  過去の活動履歴（タイムライン表示）                         │
├─────────────────────────────────────────────────────────────┤
│  フッター: [キャンセル] [登録]                              │
└─────────────────────────────────────────────────────────────┘
```

## コンポーネント

| コンポーネント | 種類 | 説明 |
|----------------|------|------|
| 水源選択 | Autocomplete | 水源検索・選択 |
| 累計面積表示 | StatCard | 累計涵養面積表示 |
| 種別選択 | Dropdown | 活動種別選択 |
| 日付範囲 | DateRangePicker | 活動期間選択 |
| 面積入力 | NumberInput | 活動面積入力 |
| 人数入力 | NumberInput | 参加人数入力 |
| 活動内容 | TextArea | 活動詳細入力 |
| ファイルアップロード | FileUpload | 写真・動画アップロード |
| 活動履歴 | Timeline | 過去活動表示 |

## データ表示

| データ項目 | ソース | 表示形式 |
|------------|--------|----------|
| 水源情報 | WaterSource Entity | オートコンプリート |
| 累計面積 | 集計値 | カード表示 |
| 活動履歴 | ConservationActivity[] | タイムライン |
| 添付ファイル | File[] | サムネイル |

## アクション

| アクション | トリガー | 結果 |
|------------|----------|------|
| 水源選択 | オートコンプリート | 水源情報・履歴表示 |
| ファイル追加 | ドラッグ&ドロップ/選択 | アップロード・プレビュー |
| ファイル削除 | 削除ボタン | ファイル削除 |
| 登録 | ボタンクリック | 活動記録・面積更新 |

## バリデーション

| フィールド | ルール | エラーメッセージ |
|------------|--------|------------------|
| 水源 | 必須 | 水源を選択してください |
| 活動日 | 必須、過去日 | 有効な日付を入力してください |
| 面積 | 任意、0-100 | 面積は0〜100haで入力してください |
| 参加人数 | 必須、1以上 | 参加人数を入力してください |
| ファイル数 | 最大10件 | ファイルは10件までです |

## アクセシビリティ

- ドラッグ&ドロップとボタン選択の両方に対応
- ファイルプレビューにalt属性
- タイムラインはキーボード操作可

---

**作成日**: 2025-12-05
**更新日**: 2025-12-05
**作成者**: AI Assistant
