# Page: page-001 水質検査画面 [WaterQualityTest]

## 概要

| 項目 | 値 |
|------|-----|
| ID | page-001 |
| 日本語名 | 水質検査画面 |
| 英語名 | WaterQualityTest |
| 定数名 | WATER_QUALITY_TEST |
| 関連UseCase | uc-001 水質検査 |
| ステータス | Draft |

## 目的

水質分析担当者が水サンプルの検査を実施し、結果を記録する。

## ユーザー

- 水質分析担当者

## レイアウト

```
┌─────────────────────────────────────────────────────────────┐
│  ヘッダー: 水質検査 | サンプルID: [スキャン/入力]           │
├─────────────────────────────────────────────────────────────┤
│  サンプル情報パネル                                         │
│  ┌─────────────────────────────────────────────────────┐   │
│  │ 水源: 阿蘇山系地下水 | 採取日: 2025-12-01 10:00     │   │
│  │ 製品カテゴリ: [ドロップダウン]                       │   │
│  └─────────────────────────────────────────────────────┘   │
├─────────────────────────────────────────────────────────────┤
│  検査項目テーブル                                           │
│  ┌──────────────┬──────────┬──────────┬────────┬────────┐ │
│  │ 項目         │ 基準値   │ 測定値   │ 単位   │ 判定   │ │
│  ├──────────────┼──────────┼──────────┼────────┼────────┤ │
│  │ pH           │ 6.5-8.5  │ [入力]   │ -      │ ○/×   │ │
│  │ 硬度         │ 50-150   │ [入力]   │ mg/L   │ ○/×   │ │
│  │ 濁度         │ <0.5     │ [入力]   │ NTU    │ ○/×   │ │
│  │ ...          │ ...      │ ...      │ ...    │ ...    │ │
│  └──────────────┴──────────┴──────────┴────────┴────────┘ │
├─────────────────────────────────────────────────────────────┤
│  備考: [テキストエリア]                                     │
├─────────────────────────────────────────────────────────────┤
│  フッター: [一時保存] [検査完了]                            │
└─────────────────────────────────────────────────────────────┘
```

## コンポーネント

| コンポーネント | 種類 | 説明 |
|----------------|------|------|
| サンプルIDスキャナー | Input + Barcode | サンプルIDの入力/スキャン |
| サンプル情報カード | Card | サンプル・水源情報表示 |
| 製品カテゴリ選択 | Dropdown | 製品カテゴリ選択 |
| 検査項目テーブル | DataGrid | 検査項目と入力欄 |
| 判定インジケータ | Badge | 合否判定表示 |
| 備考入力 | TextArea | 備考入力 |
| 一時保存ボタン | Button | 下書き保存 |
| 検査完了ボタン | Button | 検査確定 |

## データ表示

| データ項目 | ソース | 表示形式 |
|------------|--------|----------|
| サンプル情報 | WaterSample Entity | カード表示 |
| 水源情報 | WaterSource Entity | カード内表示 |
| 品質基準 | QualityStandard Entity | テーブル列 |
| 検査項目 | TestItem[] | テーブル行 |

## アクション

| アクション | トリガー | 結果 |
|------------|----------|------|
| サンプル読込 | スキャン/入力確定 | サンプル情報表示 |
| カテゴリ変更 | ドロップダウン選択 | 検査項目更新 |
| 測定値入力 | テーブルセル入力 | リアルタイム判定 |
| 一時保存 | ボタンクリック | 下書き保存 |
| 検査完了 | ボタンクリック | 結果確定・遷移 |

## バリデーション

| フィールド | ルール | エラーメッセージ |
|------------|--------|------------------|
| サンプルID | 必須、存在確認 | サンプルが見つかりません |
| 製品カテゴリ | 必須 | カテゴリを選択してください |
| 測定値 | 数値、範囲内 | 有効な数値を入力してください |
| 全項目入力 | 必須項目すべて | 必須項目を入力してください |

## 状態遷移

| 状態 | 説明 | 遷移先 |
|------|------|--------|
| 初期表示 | サンプルID入力待ち | サンプル読込済み |
| サンプル読込済み | 検査項目表示 | 入力中 |
| 入力中 | 測定値入力中 | 入力完了 |
| 入力完了 | 全項目入力済み | 検査完了 |
| 検査完了 | 結果確定 | 結果画面へ遷移 |

## レスポンシブ対応

| ブレークポイント | 対応 |
|------------------|------|
| Desktop (1024px+) | フル表示 |
| Tablet (768px-1023px) | テーブル横スクロール |
| Mobile (-767px) | 非対応（業務端末想定） |

## アクセシビリティ

- キーボードナビゲーション対応
- 入力欄はTab順序設定
- エラー時は音声+視覚的通知
- 高コントラストモード対応

---

**作成日**: 2025-12-05
**更新日**: 2025-12-05
**作成者**: AI Assistant
