# UseCase: uc-002 基準設定 [StandardSetting]

## 概要

| 項目 | 値 |
|------|-----|
| ID | uc-002 |
| 日本語名 | 基準設定 |
| 英語名 | StandardSetting |
| 定数名 | STANDARD_SETTING |
| 関連Operation | op-002 水質基準設定 |
| 関連Page | page-002 品質基準管理画面 |
| ステータス | Draft |

## アクター

- **主アクター**: 品質管理責任者
- **副アクター**: 承認者（上位責任者）

## 概要説明

品質管理責任者が製品カテゴリごとの水質基準を設定または更新する。
基準は承認フローを経て確定し、指定した有効開始日から適用される。

## 事前条件

- 品質管理責任者がシステムにログイン済みであること
- 対象製品カテゴリが定義済みであること

## 事後条件

- 品質基準が登録または更新されていること
- 承認待ちまたは承認済みステータスであること
- 承認者に通知が送信されていること

## 基本フロー

1. 責任者は「品質基準管理画面」を開く
2. システムは既存の品質基準一覧を表示する
3. 責任者は「新規作成」または既存基準の「編集」をクリックする
4. システムは基準設定フォームを表示する
5. 責任者は製品カテゴリを選択する
6. 責任者は各パラメータの基準値（最小/最大/目標）を入力する
7. 責任者は有効開始日を入力する
8. 責任者は変更理由を入力する
9. 責任者は「承認申請」をクリックする
10. システムは入力内容を検証し、承認待ちとして保存する
11. システムは承認者に通知を送信する

## 代替フロー

### ALT-1: 下書き保存

- 発生条件: 入力途中で保存したい場合
- フロー:
  1. 責任者は「下書き保存」をクリックする
  2. システムはDRAFTステータスで保存する
  3. 後日、下書きから編集を再開できる

### ALT-2: 基準緩和の追加承認

- 発生条件: 既存基準より緩い値に変更する場合
- フロー:
  1. システムは追加承認が必要である旨を表示する
  2. 責任者は追加承認者を選択する
  3. システムは2段階承認フローを開始する

## 例外フロー

### EXC-1: 無効な有効開始日

- 発生条件: 有効開始日が7営業日未満
- フロー:
  1. システムはエラーメッセージを表示する
  2. 責任者は有効開始日を修正する

## ビジネスルール

| ルールID | ルール | 説明 |
|----------|--------|------|
| BR-001 | 承認必須 | すべての基準変更は承認が必要 |
| BR-002 | 7営業日ルール | 有効開始日は申請から7営業日以降 |
| BR-003 | 緩和時追加承認 | 基準緩和は上位者の追加承認必要 |
| BR-004 | 履歴保持 | 全バージョンの基準を無期限保持 |

## UI要件

- パラメータ入力はスプレッドシート形式
- 既存基準との差分をハイライト表示
- 有効開始日はカレンダーから選択
- 承認状況はタイムライン表示

## 非機能要件

| 項目 | 要件 |
|------|------|
| パフォーマンス | 保存処理2秒以内 |
| セキュリティ | 変更履歴の完全な追跡可能性 |
| 可用性 | 業務時間内99.9%稼働 |

---

**作成日**: 2025-12-05
**更新日**: 2025-12-05
**作成者**: AI Assistant
